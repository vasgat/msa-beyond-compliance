<div class="section mt-5 bg-neutral-orange p-4">
  <div class="row">
    <div class="col-md-8">
      <h3 class="title">Going Beyond Compliance</h3>
    </div>
    <div class="col-md-4">
      <select class="msa-form-select ms-md-auto bg-neutral-orange" aria-label="Minimum requirements year filter"
              style="max-width: 120px; max-height: 50px; font-size: 0.8em" [(ngModel)]="year"
              (change)="updateBeyondComplianceTable()">
        <option [ngValue]="''" selected>all years</option>
        <option [ngValue]="'latest'">latest</option>
        <option [ngValue]="2021">2021</option>
        <option [ngValue]="2020">2020</option>
        <option [ngValue]="2019">2019</option>
        <option [ngValue]="2018">2018</option>
        <option [ngValue]="2017">2017</option>
        <option [ngValue]="2016">2016</option>
        <option [ngValue]="2015">2015</option>
      </select>
    </div>
    <div class="row">
      <div class="col-md-12">
        <p>Beyond minimum requirements, the accompanying guidance of the MSAs outlines the measures and actions
          companies should take to ensure their operations and supply chains are free from exploitation. Click on a
          metric to find out more about what it entails. </p>
      </div>
    </div>
  </div>
  <div class="row mt-3" style="height: 150px" *ngIf="isLoading">
    <div class="col-12 text-center align-self-center">
      <div class="spinner-grow text-warning" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
  <div class="row p-2 row justify-content-center" [ngClass]="!isLoading ? 'show-element': 'hide-element'">
    <div class="col-md-12">
      <table class="table table-bordered border-light">
        <thead>
        <tr class="bg-light-orange">
          <th scope="col" class="clickable-header text-end" [ngClass]="{'active': active === 'name'}"
              (click)="sort('name')">Metric
          </th>
          <th scope="col" class="text-center clickable-header active" [ngClass]="{'active': active === 'total'}"
              (click)="sort('total')">Total
          </th>
          <th scope="col" class="text-center clickable-header" [ngClass]="{'active': active === 'uk'}"
              (click)="sort('uk')">UK
          </th>
          <th scope="col" class="text-center clickable-header" [ngClass]="{'active': active === 'aus'}"
              (click)="sort('aus')">AUS
          </th>
        </tr>
        </thead>
        <tbody>
        <tr class="text-white" *ngFor="let row of beyond_compliance_table_data">
          <td class="col-4 text-end bg-neutral-blue text-deep-blue"><a class="metric" href="{{row['url']}}"
                                                                       target="_blank">{{row['name']}}</a></td>
          <td class="col-2 clickable text-center bg-deep-blue"
              (click)="openURL(row['url'])">{{row['total']| percentageFormat}}</td>
          <td class="col-2 clickable text-center {{row['uk_color']}}"
              (click)="openURL(row['url'])">{{row['uk']| percentageFormat}}</td>
          <td class="col-2 clickable text-center {{row['aus_color']}}"
              (click)="openURL(row['url'])">{{row['aus']| percentageFormat}}</td>
        </tr>
        </tbody>
      </table>

      <div class="row ms-2">
        <div class="row p-1">
          <div class="col-auto">
            <div class="legend-box bg-orange"></div>
          </div>
          <div class="col-auto no-padding">Mandatory</div>
        </div>
        <div class="row p-1">
          <div class="col-auto">
            <div class="legend-box bg-deep-blue"></div>
          </div>
          <div class="col-auto no-padding">Not Mandatory</div>
        </div>
      </div>
    </div>
  </div>
</div>
