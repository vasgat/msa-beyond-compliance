{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAsB;AAE0B;AACJ;AACd;AACO;AACJ;AACe;AAEhD;AACM,SAAUM,GAAGA,CAAA;EACjB,MAAMC,MAAM,GAAGL,8CAAO,EAAE;EACxB,MAAMM,UAAU,GAAGJ,+CAAI,CAACK,OAAO,CAACC,GAAG,EAAE,EAAE,4BAA4B,CAAC;EACpE,MAAMC,SAAS,GAAGR,mDAAU,CAACC,+CAAI,CAACI,UAAU,EAAE,qBAAqB,CAAC,CAAC,GACjEJ,+CAAI,CAACI,UAAU,EAAE,qBAAqB,CAAC,GACvCJ,+CAAI,CAACI,UAAU,EAAE,YAAY,CAAC;EAElC,MAAMI,YAAY,GAAG,IAAIX,sDAAY,EAAE;EAEvCM,MAAM,CAACM,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC;EACjCN,MAAM,CAACM,GAAG,CAAC,OAAO,EAAEL,UAAU,CAAC;EAE/B;EACA;EACA;EACAD,MAAM,CAACO,GAAG,CAAC,KAAK,EAAEZ,wDAAc,CAACM,UAAU,EAAE;IAC3CQ,MAAM,EAAE;GACT,CAAC,CAAC;EAEH;EACAT,MAAM,CAACO,GAAG,CAAC,GAAG,EAAE,CAACG,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAI;IACjC,MAAM;MAAEC,QAAQ;MAAEC,WAAW;MAAEC,OAAO;MAAEC;IAAO,CAAE,GAAGN,GAAG;IAEvDL,YAAY,CACTY,MAAM,CAAC;MACNC,SAAS,EAAEpB,wDAAe;MAC1BqB,gBAAgB,EAAEf,SAAS;MAC3BgB,GAAG,EAAE,GAAGP,QAAQ,MAAMG,OAAO,CAACK,IAAI,GAAGP,WAAW,EAAE;MAClDQ,UAAU,EAAErB,UAAU;MACtBsB,SAAS,EAAE,CAAC;QAAEC,OAAO,EAAE/B,0DAAa;QAAEgC,QAAQ,EAAEV;MAAO,CAAE;KAC1D,CAAC,CACDW,IAAI,CAAEC,IAAI,IAAKhB,GAAG,CAACiB,IAAI,CAACD,IAAI,CAAC,CAAC,CAC9BE,KAAK,CAAEC,GAAG,IAAKlB,IAAI,CAACkB,GAAG,CAAC,CAAC;EAC9B,CAAC,CAAC;EAEF,OAAO9B,MAAM;AACf;AAEA,SAAS+B,GAAGA,CAAA;EACV,MAAMC,IAAI,GAAG9B,OAAO,CAAC+B,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI;EAExC;EACA,MAAMjC,MAAM,GAAGD,GAAG,EAAE;EACpBC,MAAM,CAACkC,MAAM,CAACF,IAAI,EAAE,MAAK;IACvBG,OAAO,CAACC,GAAG,CAAC,qDAAqDJ,IAAI,EAAE,CAAC;EAC1E,CAAC,CAAC;AACJ;AAMA,MAAMK,UAAU,GAAGC,OAAuB,CAACC,IAAI;AAC/C,MAAMC,cAAc,GAAGH,UAAU,IAAIA,UAAU,CAACI,QAAQ,IAAI,EAAE;AAC9D,IAAID,cAAc,KAAKE,UAAU,IAAIF,cAAc,CAACG,QAAQ,CAAC,SAAS,CAAC,EAAE;EACvEZ,GAAG,EAAE;AACP;AAEA,iEAAejC,wDAAe,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnE/B;AACoE;AACpE;AAC0E;AAC1E;AACqE;;;;;;;;;;ICe/DiD,4DADF,cAAmD,cACL;IAC1CA,uDAAA,cAAoD;IAElDA,4DADF,cAAuB,aACE;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAK;IAC/CA,4DAAA,YAAqB;IAAAA,oDAAA,GAAyB;IAAAA,0DAAA,EAAI;IAClDA,4DAAA,YAEoB;IAAAA,oDAAA,gBAAS;IAGnCA,0DAHmC,EAAI,EAC7B,EACF,EACF;;;;IATGA,uDAAA,GAAyB;IAAzBA,mEAAA,QAAAO,SAAA,WAAAP,2DAAA,CAAyB;IAELA,uDAAA,GAAmB;IAAnBA,+DAAA,CAAAO,SAAA,UAAmB;IACrBP,uDAAA,GAAyB;IAAzBA,+DAAA,CAAAO,SAAA,gBAAyB;IAE1CP,uDAAA,EAAyB;IAAzBA,mEAAA,SAAAO,SAAA,UAAAP,2DAAA,CAAyB;;;;;IAoG4BA,4DADrD,SAA+B,aACsB,YAC/B;IAAAA,oDAAA,GAAkB;IAAIA,0DAAJ,EAAI,EAAK;IAC/CA,4DAAA,aAAmD;IAAAA,oDAAA,GAAuB;IAAAA,0DAAA,EAAK;IAC/EA,4DAAA,aACyG;IACvGA,oDAAA,GAAiC;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,aAC0G;IACxGA,oDAAA,GAAkC;IACtCA,0DADsC,EAAK,EACtC;;;;IATmDA,uDAAA,GAAsB;IAAtBA,mEAAA,SAAAU,OAAA,SAAAV,2DAAA,CAAsB;IACxDA,uDAAA,EAAkB;IAAlBA,+DAAA,CAAAU,OAAA,WAAkB;IACaV,uDAAA,GAAuB;IAAvBA,+DAAA,CAAAU,OAAA,gBAAuB;IAExEV,uDAAA,EAAsG;IAAtGA,wDAAA,YAAAU,OAAA,qFAAsG;IACtGV,uDAAA,EAAiC;IAAjCA,gEAAA,MAAAU,OAAA,8BAAiC;IAEjCV,uDAAA,EAAuG;IAAvGA,wDAAA,YAAAU,OAAA,sFAAuG;IACvGV,uDAAA,EAAkC;IAAlCA,gEAAA,MAAAU,OAAA,+BAAkC;;;;;IA+BeV,4DADrD,SAAiD,aACI,YAC/B;IAAAA,oDAAA,GAAkB;IAAIA,0DAAJ,EAAI,EAAK;IAC/CA,4DAAA,aAAoD;IAAAA,oDAAA,GAAuB;IAC7EA,0DAD6E,EAAK,EAC7E;;;;IAHmDA,uDAAA,GAAsB;IAAtBA,mEAAA,SAAAa,OAAA,SAAAb,2DAAA,CAAsB;IACxDA,uDAAA,EAAkB;IAAlBA,+DAAA,CAAAa,OAAA,WAAkB;IACcb,uDAAA,GAAuB;IAAvBA,+DAAA,CAAAa,OAAA,gBAAuB;;;;;IAyD3Eb,4DAFJ,cAA0E,cACzB,cAC+B;IAC1EA,uDAAA,cAAoE;IACtEA,0DAAA,EAAM;IACNA,4DAAA,cAA6C;IAC3CA,oDAAA,GACF;IAEJA,0DAFI,EAAM,EACF,EACF;;;;IANKA,uDAAA,GAA0B;IAA1BA,mEAAA,QAAAc,cAAA,CAAAC,IAAA,EAAAf,2DAAA,CAA0B;IAACA,mEAAA,QAAAc,cAAA,CAAAE,WAAA,CAAiC;IAGjEhB,uDAAA,GACF;IADEA,gEAAA,MAAAc,cAAA,CAAAE,WAAA,MACF;;;;;IAUdhB,4DAAA,QAAG;IAAAA,oDAAA,yPAEiB;IAAAA,4DAAA,YAA6E;IAAAA,oDAAA,yDAEhE;IAAAA,0DAAA,EAAI;IAACA,oDAAA,8CACP;IAAAA,4DAAA,YACX;IAAAA,oDAAA,qDAA8C;IAAIA,0DAAJ,EAAI,EAAI;;;ADtOtE,MAAOiB,cAAc;EA+CzBC,YAAoBC,KAAqB,EAAUC,cAA8B,EAASC,MAAwB;IAA9F,KAAAF,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAAyB,KAAAC,MAAM,GAANA,MAAM;IA9ChG,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,uBAAuB,GAAU,EAAE;IACnC,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAAC,YAAY,GAAG,CACb;MACE,aAAa,EAAE,gCAAgC;MAC/C,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,aAAa;MAC5B,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,yBAAyB;MACxC,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,wCAAwC;MACvD,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,mEAAmE;MAClF,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,yBAAyB;MACxC,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,gCAAgC;MAC/C,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,2BAA2B;MAC1C,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,0BAA0B;MACzC,MAAM,EAAE;KACT,EACD;MACE,aAAa,EAAE,iCAAiC;MAChD,MAAM,EAAE;KACT,CAAC;EAGJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACL,KAAK,GAAGM,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACjC,2DAAiB,CAAC,CAAC;IAC1D,IAAI,CAAC0B,uBAAuB,GAAGK,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAChC,iEAAiB,CAAC,CAAC;IAC5E,IAAI,CAAC0B,OAAO,GAAGI,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC/B,4DAAiB,CAAC,CAAC;IAE5D,IAAI,CAACoB,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,OAAO,EACzB,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;IAEF,IAAI,CAACE,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IACT,IAAI,CAACd,MAAM,CAACe,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACtC;;;uCAjEWnB,cAAc,EAAAjB,+DAAA,CAAAsC,2DAAA,GAAAtC,+DAAA,CAAAwC,qEAAA,GAAAxC,+DAAA,CAAA0C,6DAAA;IAAA;EAAA;;;YAAdzB,cAAc;MAAA2B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCfzBlD,4DADF,aAAiC,YACT;UAAAA,oDAAA,YAAK;UAAAA,0DAAA,EAAK;UAChCA,4DAAA,WAA0C;UAAAA,oDAAA,0YAIU;UACtDA,0DADsD,EAAI,EACpD;UAIAA,4DAHN,aAAiC,aACd,aACsB,YAClB;UAAAA,oDAAA,mBAAY;UAAAA,0DAAA,EAAK;UAClCA,4DAAA,YAA+B;UAC7BA,oDAAA,oPAGF;UAEJA,0DAFI,EAAI,EACA,EACF;UACNA,4DAAA,kBAAY;UACVA,wDAAA,KAAAqD,8BAAA,kBAAmD;UAavDrD,0DADE,EAAa,EACT;UAEJA,4DADF,cAAiC,aACd;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAK;UAI3BA,4DAHN,eAA2C,eACyB,eAC1B,aACnB;UAAAA,oDAAA,oBAAY;UAAAA,0DAAA,EAAK;UAEhCA,4DADF,cAAsB,UAChB;UAAAA,oDAAA,6EAAqE;UAAAA,0DAAA,EAAK;UAC9EA,4DAAA,UAAI;UAAAA,oDAAA,mGAA2F;UAAAA,0DAAA,EAAK;UACpGA,4DAAA,UAAI;UAAAA,oDAAA,mEAA2D;UAAAA,0DAAA,EAAK;UACpEA,4DAAA,UAAI;UAAAA,oDAAA,sEAA8D;UAGxEA,0DAHwE,EAAK,EACpE,EACD,EACF;UAGFA,4DAFJ,eAA2E,eACzB,aAC7B;UAAAA,oDAAA,mCAA2B;UAAAA,0DAAA,EAAK;UAE/CA,4DADF,UAAI,UACE;UAAAA,oDAAA,2FAAmF;UAAAA,0DAAA,EAAK;UAC5FA,4DAAA,UAAI;UAAAA,oDAAA,yDAAiD;UAAAA,0DAAA,EAAK;UAC1DA,4DAAA,UAAI;UAAAA,oDAAA,uFAA+E;UAAAA,0DAAA,EAAK;UACxFA,4DAAA,UAAI;UAAAA,oDAAA,sGAA8F;UAGxGA,0DAHwG,EAAK,EACpG,EACD,EACF;UAGFA,4DAFJ,eAAqD,eACV,aACtB;UAAAA,oDAAA,gBAAQ;UAAAA,0DAAA,EAAK;UAE5BA,4DADF,UAAI,UACE;UAAAA,oDAAA,gFACJ;UAAAA,0DAAA,EAAK;UACLA,4DAAA,UAAI;UAAAA,oDAAA,0EAAkE;UAAAA,0DAAA,EAAK;UAC3EA,4DAAA,UAAI;UAACA,oDAAA,sCAA6B;UAAAA,4DAAA,aAC6B;UAAAA,oDAAA,yBACnD;UAKtBA,0DALsB,EAAI,EAAK,EAClB,EACD,EACF,EACF,EACF;UAKEA,4DAJR,cAAiC,cACd,eACQ,eACA,YACY;UAC7BA,oDAAA,uSAGF;UAIRA,0DAJQ,EAAI,EACA,EACF,EACF,EACF;UAKEA,4DAJR,eAA6B,cACM,cACd,cACsB,aAClB;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAK;UACjCA,4DAAA,YAA+B;UAC7BA,oDAAA,4JAE4B;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,sCAA8B;UAAAA,0DAAA,EAAI;UAACA,oDAAA,kDACpE;UAAAA,0DAAA,EAAI;UACJA,4DAAA,YAA+B;UAAAA,oDAAA,iBAAS;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,2BAAmB;UAAAA,0DAAA,EAAI;UAACA,oDAAA,oNAInE;UAAAA,0DAAA,EAAI;UAKIA,4DAJR,eAA+C,iBACJ,iBACb,UACpB,cACkE;UAAAA,oDAAA,+CAEpE;UAAAA,0DAAA,EAAK;UACkCA,4DAAvC,cAAuC,aAC+D;UAAAA,oDAAA,sCAE3E;UAAIA,0DAAJ,EAAI,EAAK;UACGA,4DAAvC,cAAuC,aACoB;UAAAA,oDAAA,kCACvC;UAEtBA,0DAFsB,EAAI,EACnB,EACF;UAEHA,4DADF,UAAI,cACkD;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAK;UAC/DA,4DAAA,cAAoD;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAK;UACpEA,4DAAA,cAAmC;UAAAA,oDAAA,+BAAuB;UAAAA,0DAAA,EAAK;UAC/DA,4DAAA,cAAmC;UAAAA,oDAAA,gCAAwB;UAE/DA,0DAF+D,EAAK,EAC7D,EACC;UACRA,4DAAA,cAAO;UACLA,wDAAA,MAAAsD,8BAAA,kBAA+B;UAYnCtD,0DADE,EAAQ,EACF;UAGJA,4DAFJ,gBAAsB,gBACqB,gBACN;UAAAA,oDAAA,kBAAS;UAAAA,0DAAA,EAAM;UAChDA,4DAAA,gBAAsB;UACpBA,uDAAA,gBAA8C;UAElDA,0DADE,EAAM,EACF;UAEJA,4DADF,gBAA0C,gBACP;UAAAA,oDAAA,sBAAa;UAAAA,0DAAA,EAAM;UACpDA,4DAAA,gBAAsB;UACpBA,uDAAA,gBAAiD;UAGvDA,0DAFI,EAAM,EACF,EACF;UAIAA,4DAHN,kBAA8C,kBAClB,WACpB,eACkE;UAAAA,oDAAA,2BACpE;UACFA,0DADE,EAAK,EACF;UAEHA,4DADF,WAAI,eACkD;UAAAA,oDAAA,eAAM;UAAAA,0DAAA,EAAK;UAC/DA,4DAAA,eAAqD;UAAAA,oDAAA,oBAAW;UAEpEA,0DAFoE,EAAK,EAClE,EACC;UACRA,4DAAA,cAAO;UACLA,wDAAA,MAAAuD,8BAAA,iBAAiD;UAOvDvD,0DAFI,EAAQ,EACF,EACJ;UACNA,uDAAA,iBAC2D;UAInEA,0DAHM,EAAM,EACF,EACF,EACF;UAKEA,4DAJR,eAAiC,gBACV,eACF,gBACW,cACP;UAAAA,oDAAA,+BAAsB;UAAAA,0DAAA,EAAK;UAE1CA,4DADF,gBAAqB,UAChB;UAAAA,oDAAA,YAAG;UAAAA,4DAAA,cAA+C;UAAAA,oDAAA,qBAAY;UAAAA,0DAAA,EAAI;UAACA,oDAAA,2iBAKrB;UAAAA,4DAAA,cAA+C;UAAAA,oDAAA,qBAAY;UAAAA,0DAAA,EAAI;UAAAA,oDAAA,UAAC;UAAAA,0DAAA,EAAI;UAClHA,4DAAH,UAAG,UAAG;UAAAA,oDAAA,yMACwF;UAElGA,0DAFkG,EAAI,EAAI,EAClG,EACF;UAGFA,4DAFJ,gBAAgG,gBAChE,cACX;UAAAA,oDAAA,0BAAiB;UAAAA,0DAAA,EAAK;UACvCA,4DAAA,UAAG;UAAAA,oDAAA,4CAAmC;UAAAA,4DAAA,cACyC;UAAAA,oDAAA,qBAAY;UAAIA,0DAAJ,EAAI,EAAI;UAEjGA,4DADF,gBAAqB,cAGD;UAAAA,oDAAA,2BAAkB;UAMhDA,0DANgD,EAAI,EACpC,EACF,EACF,EACF,EACF,EACF;UAEJA,4DADF,gBAAuB,gBACA;UACnBA,uDAAA,sBAA+B;UAEnCA,0DADE,EAAM,EACF;UAKEA,4DAJR,eAAiC,gBACV,eACF,gBACY,cACR;UAAAA,oDAAA,8BAAqB;UAAAA,0DAAA,EAAK;UAC3CA,4DAAA,UAAG;UAAAA,oDAAA,yFAAgF;UAAAA,0DAAA,EAAI;UAErFA,4DADF,gBAAyB,gBACE;UACvBA,wDAAA,MAAAwD,+BAAA,kBAA0E;UAetFxD,0DALU,EAAM,EACF,EACF,EACF,EACF,EACF;UACNA,wDAAA,MAAAyD,uCAAA,gCAAAzD,oEAAA,CAA2C;;;UA3NAA,uDAAA,IAAU;UAAVA,wDAAA,YAAAmD,GAAA,CAAA3B,OAAA,CAAU;UA0GlBxB,uDAAA,IAAQ;UAARA,wDAAA,YAAAmD,GAAA,CAAA7B,KAAA,CAAQ;UAuCRtB,uDAAA,IAA0B;UAA1BA,wDAAA,YAAAmD,GAAA,CAAA5B,uBAAA,CAA0B;UA0DNvB,uDAAA,IAAgB;UAAhBA,wDAAA,YAAAmD,GAAA,CAAAzB,YAAA,CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9NlB;AACc;AACZ;AACqD;AAGnB;AACwB;AAChB;AAC9B;AACmC;AACH;AACtB;AAC0C;;;AAGvH,MAAM4C,MAAM,GAAW,CACrB;EACErC,IAAI,EAAE,mBAAmB;EAAEsC,SAAS,EAAEX,8EAAkBA;CACzD,EACD;EAAC3B,IAAI,EAAE,gCAAgC;EAAEsC,SAAS,EAAEV,uHAA2BA;AAAA,CAAC,EAChF;EAAC5B,IAAI,EAAE,oCAAoC;EAAEsC,SAAS,EAAEJ,4GAAwBA;AAAA,CAAC,EACjF;EAAClC,IAAI,EAAE,gDAAgD;EAAEsC,SAAS,EAAET,+IAAmCA;AAAA,CAAC,EACxG;EAAC7B,IAAI,EAAE,qCAAqC;EAAEsC,SAAS,EAAEL,+GAAyBA;AAAA,CAAC,EACnF;EAACjC,IAAI,EAAE,2CAA2C;EAAEsC,SAAS,EAAEF,iIAA8BA;AAAA,CAAC,EAC9F;EAACpC,IAAI,EAAE,oCAAoC;EAAEsC,SAAS,EAAER,4HAAwBA;AAAA,CAAC,EACjF;EAAC9B,IAAI,EAAE,2CAA2C;EAAEsC,SAAS,EAAEP,4GAAwBA;AAAA,CAAC,EACxF;EAAC/B,IAAI,EAAE,cAAc;EAAEsC,SAAS,EAAEH,sFAAoBA;AAAA,CAAC,EACvD;EAACnC,IAAI,EAAE,WAAW;EAAEsC,SAAS,EAAEN,8EAAkBA;AAAA,CAAC,EAClD;EAAChC,IAAI,EAAE,OAAO;EAAEsC,SAAS,EAAEtD,kEAAcA;AAAA,CAAC,EAC1C;EAACgB,IAAI,EAAE,IAAI;EAAEuC,UAAU,EAAE,wBAAwB;EAAEC,SAAS,EAAE;AAAM,CAAC,CACtE;AAMK,MAAOC,gBAAgB;;;uCAAhBA,gBAAgB;IAAA;EAAA;;;YAAhBA;IAAgB;EAAA;;;gBAHjBf,0DAAY,CAACgB,OAAO,CAACL,MAAM,CAAC,EAC5BX,0DAAY;IAAA;EAAA;;;uHAEXe,gBAAgB;IAAAE,OAAA,GAAAtC,0DAAA;IAAAuC,OAAA,GAFjBlB,0DAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEpCxB3D,4DAAA,uBAA2C;IAAAA,oDAAA,QAAC;IAAAA,0DAAA,EAAmB;;;;;IAE/DA,uDAAA,aAA0C;;;ADQ1C,MAAM8E,YAAY,GAA2B;EAC3CC,MAAM,EAAE;IACNC,MAAM,EAAE,WAAW,CAAC;GACrB;EACDC,OAAO,EAAE;IACPC,KAAK,EAAE;MACLC,UAAU,EAAE;KACb;IACDC,MAAM,EAAE;MACND,UAAU,EAAE;;GAEf;EACDE,KAAK,EAAE,UAAU;EACjBC,IAAI,EAAE;CACP;AASK,MAAOC,YAAY;EAWvBrE,YAAoBC,KAAqB,EAAUqE,MAAc,EAAUC,SAAkC;IAAzF,KAAAtE,KAAK,GAALA,KAAK;IAA0B,KAAAqE,MAAM,GAANA,MAAM;IAAkB,KAAAC,SAAS,GAATA,SAAS;IAVpF,KAAAC,IAAI,GAAW,SAAS;EAWxB;EAEA/D,QAAQA,CAAA;IACN;IACA,IAAI,CAACgE,qBAAqB,GAAG,IAAI,CAACF,SAAS,CAACG,UAAU,CAAC7D,SAAS,CAC9D,MAAK;MACH;IAAA,CACD,CAAC;IACJ,IAAI,CAAC8D,sBAAsB,GAAG,IAAI,CAACJ,SAAS,CAACK,WAAW,CAAC/D,SAAS,CAChE,MAAK,CACL,CAAC,CAAC;IAEJ,IAAI,CAACgE,sBAAsB,GAAG,IAAI,CAACN,SAAS,CAACO,aAAa,CAACjE,SAAS,CACjEkE,KAA2B,IAAI,CAChC,CAAC,CAAC;IAEJ,IAAI,CAACC,wBAAwB,GAAG,IAAI,CAACT,SAAS,CAACU,aAAa,CAACpE,SAAS,CACnEkE,KAA2B,IAAI;MAC9B,IAAIA,KAAK,CAACG,MAAM,IAAI,OAAO,EAAE;QAC3BC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE;UACxB,YAAY,EAAE,SAAS;UACvB,mBAAmB,EAAE;SACtB,CAAC;MACJ,CAAC,MAAM;QACLA,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE;UACxB,YAAY,EAAE,QAAQ;UACtB,mBAAmB,EAAE;SACtB,CAAC;QACF,IAAI,CAACC,gBAAgB,EAAE;MACzB;IACF,CAAC,CAAC;IAEJ,IAAI,CAACC,wBAAwB,GAAG,IAAI,CAACd,SAAS,CAACe,aAAa,CAACzE,SAAS,CACpE,MAAK;MACHsE,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE;QACxB,YAAY,EAAE,QAAQ;QACtB,mBAAmB,EAAE;OACtB,CAAC;IACJ,CAAC,CAAC;IAEJ,IAAI,CAACI,uBAAuB,GAAG,IAAI,CAAChB,SAAS,CAACiB,YAAY,CAAC3E,SAAS,CACjEkE,KAA0B,IAAI,CAC/B,CAAC,CAAC;IAEJ;IACA,IAAI,CAAC9E,KAAK,CAACwF,WAAW,CACnB5E,SAAS,CAAC6E,MAAM,IAAG;MAChB;MACA,IAAI,CAAClB,IAAI,GAAGkB,MAAM,CAAClB,IAAI;IACzB,CAAC,CACF;EACL;EAEAY,gBAAgBA,CAAA;IACd,IAAIO,OAAO,GAAGC,QAAQ,CAAC/B,MAAM,CAACgC,KAAK,CAAC,GAAG,CAAC;IAExC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,OAAO,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAIjC,MAAM,GAAG8B,OAAO,CAACG,CAAC,CAAC;MACvB,IAAIE,KAAK,GAAGnC,MAAM,CAACoC,OAAO,CAAC,GAAG,CAAC;MAC/B,IAAIC,IAAI,GAAGF,KAAK,GAAG,CAAC,CAAC,GAAGnC,MAAM,CAACsC,SAAS,CAAC,CAAC,EAAEH,KAAK,CAAC,GAAGnC,MAAM;MAC3D,IAAIqC,IAAI,CAACxH,QAAQ,CAAC,KAAK,CAAC,IAAIwH,IAAI,CAACxH,QAAQ,CAAC,MAAM,CAAC,IAAIwH,IAAI,CAACxH,QAAQ,CAAC,MAAM,CAAC,EAAE;QAC1EkH,QAAQ,CAAC/B,MAAM,GAAGqC,IAAI,GAAG,oBAAoB,GAAG,eAAe,GAAG,YAAY,GAAG,IAAIE,IAAI,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;MAC5G;IACF;EACF;EAEAC,WAAWA,CAAA;IACT;IACA,IAAI,CAAC7B,qBAAqB,CAAC8B,WAAW,EAAE;IACxC,IAAI,CAAC5B,sBAAsB,CAAC4B,WAAW,EAAE;IACzC,IAAI,CAAC1B,sBAAsB,CAAC0B,WAAW,EAAE;IACzC,IAAI,CAACvB,wBAAwB,CAACuB,WAAW,EAAE;IAC3C,IAAI,CAAClB,wBAAwB,CAACkB,WAAW,EAAE;IAC3C,IAAI,CAAChB,uBAAuB,CAACgB,WAAW,EAAE;EAC5C;;;uCAtFWlC,YAAY,EAAAvF,+DAAA,CAAAsC,2DAAA,GAAAtC,+DAAA,CAAAsC,mDAAA,GAAAtC,+DAAA,CAAAwC,sEAAA;IAAA;EAAA;;;YAAZ+C,YAAY;MAAA3C,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA4E,sBAAA1E,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCjCzBlD,wDAAA,IAAA6H,wCAAA,8BAA2C;UACzC7H,uDAAA,oBAA+B;UACjCA,wDAAA,IAAA8H,8BAAA,oBAAiC;;;UAFd9H,wDAAA,SAAAmD,GAAA,CAAAuC,IAAA,aAAsB;UAEhC1F,uDAAA,GAAsB;UAAtBA,wDAAA,SAAAmD,GAAA,CAAAuC,IAAA,aAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;ACDyB;AAEf;AACM;;AASzC,MAAO3I,eAAe;;;uCAAfA,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAAoB,SAAA,GAFdoH,wDAAY;IAAA;EAAA;;;gBAHtByC,kDAAS,EACTD,kEAAY;IAAA;EAAA;;;sHAIHhL,eAAe;IAAA6H,OAAA,GALxBoD,kDAAS,EACTD,kEAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRmF;AAE3C;AACT;AACa;AACA;AACH;AACY;AACd;AACwB;AAClC;AACoC;AACrB;AACmD;AACD;AAGrB;AACjC;AACA;AACE;AACY;AAC6B;AAC4C;AAC5B;AAC+B;AAG9C;AACrC;AAChB;AACC;AACqB;AACc;AACmB;AACA;AACH;AACvC;AACS;AACQ;AAC0C;AACxE;AAC+B;;;AAG9E,MAAMjD,YAAY,GAA2B;EAC3CC,MAAM,EAAE;IACNC,MAAM,EAAE;GACT;EACDC,OAAO,EAAE;IACPC,KAAK,EAAE;MACLC,UAAU,EAAE;KACb;IACDC,MAAM,EAAE;MACND,UAAU,EAAE;;GAEf;EACDE,KAAK,EAAE,UAAU;EACjBC,IAAI,EAAE,SAAS;EACfqE,MAAM,EAAE,kBAAkB;EAC1BC,OAAO,EAAE;IACP,kBAAkB,EAAE;GACrB;EACDC,QAAQ,EAAE;IACRC,WAAW,EAAE;;;;;GAKd;EACDC,OAAO,EAAE;IACPC,OAAO,EAAE,2PAA2P;IACpQC,iBAAiB,EAAE,gBAAgB;IACnCC,iBAAiB,EAAE;;CAEtB;AA2CK,MAAOlC,SAAS;;;uCAATA,SAAS;IAAA;EAAA;;;YAATA,SAAS;MAAA7J,SAAA,GAbRoH,wDAAY;IAAA;EAAA;;;iBAWb,CAAC9C,qEAAc,EAAEmG,kEAAY,EAAEE,oEAAa,EAAEL,wEAAiB,CAACC,6EAAsB,EAAE,CAAC,EAAER,kFAAsB,CAACC,2EAAe,EAAE,CAAC,CAAC;MAAAvD,OAAA,GAT9I4D,wDAAW,EACXP,qEAAa,EACbM,0FAAuB,EACvBD,kEAAS,EACT3E,0DAAY,EACZe,iEAAgB,EAChB0E,0DAAc,EACdC,2DAAe,EACfC,sEAAsB,CAAC3E,OAAO,CAACG,YAAY,CAAC;IAAA;EAAA;;;uHAGnCkD,SAAS;IAAAmC,YAAA,GAvClB5E,wDAAY,EACZ6C,qEAAe,EACfC,qEAAe,EACfpH,kEAAc,EACd2C,8EAAkB,EAClB+E,wHAA4B,EAC5B9E,uHAA2B,EAC3BC,+IAAmC,EACnC+E,kEAAa,EACbE,gFAAoB,EACpB/E,6GAAwB,EACxBiF,4JAA4B,EAC5BC,gJAAwB,EACxBF,yJAA2B,EAC3BjF,6HAAwB,EACxBoF,yEAAgB,EAChBO,wFAAiB,EACjBzF,+EAAkB,EAClBsF,gHAAyB,EACzBrF,gHAAyB,EACzBC,6GAAwB,EACxBqF,sEAAe,EACfC,+EAAmB,EACnBrF,uFAAoB,EACpBC,iIAA8B;IAAAO,OAAA,GAI9B4D,wDAAW,EACXP,qEAAa,EACbM,0FAAuB,EACvBD,kEAAS,EACT3E,0DAAY,EACZe,iEAAgB,EAChB0E,0DAAc,EACdC,2DAAe,EAAA/G,sEAAA;EAAA;AAAA;;;;;;;;;;;;;;;;;;AClHnB;AACqE;;;;;IC6BjDtC,4DAHN,cAAiE,aACvD,cACuB,QACxB;IAAAA,uDAAA,YAAgC;IAAAA,oDAAA,GAAiB;IACtDA,0DADsD,EAAI,EACpD;IAEJA,4DADF,qBAAgD,YACM;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAI;IAACA,4DAAA,eAAqB;IAAAA,oDAAA,IACjE;IAAAA,4DAAA,aAA2C;IAAAA,oDAAA,gCAC9D;IAInBA,0DAJmB,EAAI,EAAO,EACb,EAEN,EACL;;;;IATmCA,uDAAA,GAAiB;IAAjBA,+DAAA,CAAAqK,OAAA,UAAiB;IAGjCrK,uDAAA,GAAgC;IAAhCA,wDAAA,SAAAqK,OAAA,qBAAArK,2DAAA,CAAgC;IAACA,uDAAA,EAAmB;IAAnBA,+DAAA,CAAAqK,OAAA,YAAmB;IAA0BrK,uDAAA,GACjE;IADiEA,+DAAA,YAAAqK,OAAA,kBACjE;IAAmBrK,uDAAA,EAAuB;IAAvBA,wDAAA,SAAAqK,OAAA,YAAArK,2DAAA,CAAuB;;;;;IA7BlFA,4DAJR,aAA0G,aACxD,aACN,aAC0B,aAG9B;IAC5BA,uDAAA,aAAgE;IAG5DA,4DAFJ,aAAqB,cACF,SACX;IAAAA,oDAAA,mBAAY;IAClBA,0DADkB,EAAK,EACjB;IAEJA,4DADF,eAAiB,cACU;IAAAA,oDAAA,IAAyB;IACpDA,0DADoD,EAAK,EACnD;IAEJA,4DADF,eAAiB,SACZ;IAAAA,oDAAA,IAA6B;IAAAA,0DAAA,EAAI;IACpCA,4DAAA,cAAuB;IAAAA,oDAAA,YAAI;IAKrCA,0DALqC,EAAK,EAC5B,EACF,EACF,EACF,EACF;IAGJA,4DAFF,eACoG,eACtE;IAC1BA,wDAAA,KAAAsK,0CAAA,mBAAiE;IAgBzEtK,0DAHM,EAAM,EACF,EACF,EACF;;;;IAzCiBA,uDAAA,EAAwB;IAAxBA,wDAAA,OAAAuK,aAAA,QAAwB;IAEbvK,uDAAA,GAAiC;IAAjCA,wDAAA,OAAAuK,aAAA,mBAAiC;IAE3DvK,uDAAA,EAAwD;;IAEjDA,uDAAA,EAAoD;IAApDA,wDAAA,mCAAAuK,aAAA,QAAoD;IAM5BvK,uDAAA,GAAyB;IAAzBA,+DAAA,CAAAuK,aAAA,YAAyB;IAG/CvK,uDAAA,GAA6B;IAA7BA,+DAAA,CAAAuK,aAAA,gBAA6B;IAOrCvK,uDAAA,GAAmC;IAAnCA,wDAAA,OAAAuK,aAAA,qBAAmC;;IAGFvK,uDAAA,GAA6B;IAA7BA,wDAAA,YAAAuK,aAAA,iBAA6B;;;ADnBvE,MAAOnG,oBAAoB;EAG/BlD,YAAA;IADA,KAAAkJ,YAAY,GAAGA,kEAAY;EACX;EAEhBzI,QAAQA,CAAA,GACR;;;uCANWyC,oBAAoB;IAAA;EAAA;;;YAApBA,oBAAoB;MAAAxB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAwH,8BAAAtH,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCR/BlD,4DADF,aAAuB,aACC;UACpBA,wDAAA,IAAAyK,mCAAA,mBAA0G;UA4C5GzK,0DADE,EAAM,EACF;;;UA5CqFA,uDAAA,GAAe;UAAfA,wDAAA,YAAAmD,GAAA,CAAAiH,YAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAzD;AACnD;AACoG;AAG/D;AAEmC;;;;;;;;;;;ICJxDpK,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA+K,MAAA,CAAAC,aAAA,cAA0B;;;;;IAoB1EhL,4DAAA,gBAAmF;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAS;;;;IAAtDA,wDAAA,YAAAiL,SAAA,QAAyB;IAACjL,uDAAA,EAAmB;IAAnBA,+DAAA,CAAAiL,SAAA,UAAmB;;;;;IAgC1GjL,4DAHZ,cAA8D,cACR,cACoB,eACxC;IAAAA,oDAAA,iBAAU;IAG5CA,0DAH4C,EAAO,EACrC,EACJ,EACJ;;;AD5CR,MAAOkE,yBAAyB;EASpChD,YAAoBgK,YAA0B,EAAU/J,KAAqB,EAAUC,cAA8B,EAAU+J,YAA2B;IAAtI,KAAAD,YAAY,GAAZA,YAAY;IAAwB,KAAA/J,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAA+J,YAAY,GAAZA,YAAY;IAR3I,KAAAC,MAAM,GAAW,aAAa;IAC9B,KAAAC,IAAI,GAAoB,EAAE;IAC1B,KAAAC,MAAM,GAAW,MAAM;IACvB,KAAAC,SAAS,GAAY,IAAI;IACzB,KAAAZ,yBAAyB,GAAGA,iFAAyB;IACrD,KAAAa,eAAe,GAAU,EAAE;IAC3B,KAAAC,UAAU,GAAG,CAAC;EAGd;EAEA9J,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,EAAE;MACnB;MACA,IAAI,CAACvK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;IACD,IAAI,CAACjK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,yBAAyB,EAC3C,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;EAEA+I,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAEAO,UAAUA,CAAA;IACR,IAAI,CAACL,MAAM,GAAG,MAAM;IACpB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAIO,aAAa,GAAG,IAAI,CAACZ,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC;IAElE,MAAMY,sBAAsB,GAAG,IAAI,CAACd,YAAY,CAACe,UAAU,CACzD,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACC,wBAAwB,EAAE,CACpD,IAAIzB,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC,CAACC,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACnI;IAED,MAAMC,uBAAuB,GAAG,IAAI,CAACtB,YAAY,CAACe,UAAU,CAC1D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACO,yBAAyB,EAAE,CACrD,IAAI/B,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC,CAACJ,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACpI;IAED,MAAMI,mBAAmB,GAAG,IAAI,CAACzB,YAAY,CAACe,UAAU,CACtD,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACU,yBAAyB,EAAE,CACrD,IAAIlC,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAACP,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACpI;IAED,IAAIO,MAAM,GAAO,IAAI,CAACnC,yBAAyB,CAACoC,IAAI,CAAEjG,QAAa,IAAKA,QAAQ,CAACkG,GAAG,KAAK,IAAI,CAACvB,UAAU,CAAC;IAEzG,IAAI,CAACD,eAAe,GAAGsB,MAAM,CAAC,UAAU,CAAC;IAEzC,MAAMG,cAAc,GAAG,IAAI,CAAC/B,YAAY,CAACe,UAAU,CAACa,MAAM,CAAC,IAAI,CAAC,EAAE,CAChE,IAAIpC,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAEoC,MAAM,CAAC,cAAc,CAAC,CAAC,EAC3C,IAAIpC,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAACP,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CACnI,CAACD,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CAAC;IAEzC,MAAMY,gBAAgB,GAAG,IAAIrC,kFAAkB,EAAE,CAACsC,WAAW,CAACN,MAAM,CAAC,IAAI,CAAC,CAAC,CACxEO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAEoC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CACtDO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAACP,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAC7Ic,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,MAAMC,aAAa,GAAG,IAAIzC,kFAAkB,EAAE,CAACsC,WAAW,CAACN,MAAM,CAAC,IAAI,CAAC,CAAC,CACrEO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAEoC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CACtDO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC,CAACC,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAC5Ic,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,MAAME,cAAc,GAAG,IAAI1C,kFAAkB,EAAE,CAACsC,WAAW,CAACN,MAAM,CAAC,IAAI,CAAC,CAAC,CACtEO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAEoC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CACtDO,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC,CAACJ,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAC7Ic,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV1C,8CAAQ,CAAC,CAACoB,sBAAsB,EAAEQ,uBAAuB,EAAEG,mBAAmB,EAAEM,cAAc,CAAC,CAAC,CAC7FQ,IAAI,CAAC5C,yCAAG,CAAC,CAAC,CAAC6C,sBAAsB,EAAEC,uBAAuB,EAAEC,yBAAyB,EAAEC,OAAO,CAAC,KAAI;MAClG,IAAI,IAAI,CAACxC,IAAI,IAAI,QAAQ,EAAE;QACzBuC,yBAAyB,GAAGE,MAAM,CAACC,MAAM,CAACH,yBAAyB,CAACI,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC5FD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAC9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MAEA,IAAIG,QAAQ,GAAGP,OAAO,CAACG,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAQ,KAAI;QACrD,IAAIQ,sBAAsB,CAACY,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;UAC/F,OAAOgD,KAAK,GAAG,CAAC;QAClB;QACA,OAAOA,KAAK;MACd,CAAC,EAAE,CAAC,CAAC;MACL,IAAIE,SAAS,GAAGV,OAAO,CAACG,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAQ,KAAI;QACtD,IAAIS,uBAAuB,CAACW,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;UAChG,OAAOgD,KAAK,GAAG,CAAC;QAClB;QACA,OAAOA,KAAK;MACd,CAAC,EAAE,CAAC,CAAC;MACL,IAAIG,KAAK,GAAGX,OAAO,CAACG,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAQ,KAAI;QAClD,IAAIU,yBAAyB,CAACU,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;UAClG,OAAOgD,KAAK,GAAG,CAAC;QAClB;QACA,OAAOA,KAAK;MACd,CAAC,EAAE,CAAC,CAAC;MAEL,OAAO;QACL,YAAY,EAAEI,IAAI,CAACC,KAAK,CAACN,QAAQ,GAAG,GAAG,GAAGV,sBAAsB,CAACzG,MAAM,CAAC;QACxE,aAAa,EAAEwH,IAAI,CAACC,KAAK,CAACH,SAAS,GAAG,GAAG,GAAGZ,uBAAuB,CAAC1G,MAAM,CAAC;QAC3E,eAAe,EAAEwH,IAAI,CAACC,KAAK,CAACF,KAAK,GAAG,GAAG,GAAGZ,yBAAyB,CAAC3G,MAAM;OAC3E;IACH,CAAC,CAAC,CAAC,CACFlF,SAAS,CAAC;MACTlE,IAAI,EAAG8Q,OAAO,IAAI;QAChB,IAAIC,QAAQ,GAAG,CACb;UAAE,OAAO,EAAE,MAAM;UAAE,OAAO,EAAED,OAAO,CAACE,aAAa;UAAE,OAAO,EAAE,SAAS;UAAE,QAAQ,EAAE/B,MAAM,CAAC,OAAO,CAAC;UAAE,eAAe,EAAEK;QAAgB,CAAE,EACrI;UAAE,OAAO,EAAE,IAAI;UAAE,OAAO,EAAEwB,OAAO,CAACG,UAAU;UAAE,OAAO,EAAEhC,MAAM,CAAC,cAAc,CAAC;UAAE,WAAW,EAAEA,MAAM,CAAC,UAAU,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG,IAAI;UAAE,QAAQ,EAAEA,MAAM,CAAC,OAAO,CAAC;UAAE,eAAe,EAAES;QAAa,CAAE,EAC9M;UAAE,OAAO,EAAE,KAAK;UAAE,OAAO,EAAEoB,OAAO,CAACI,WAAW;UAAE,OAAO,EAAEjC,MAAM,CAAC,eAAe,CAAC;UAAE,WAAW,EAAEA,MAAM,CAAC,WAAW,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG,IAAI;UAAE,QAAQ,EAAEA,MAAM,CAAC,OAAO,CAAC;UAAE,eAAe,EAAEU;QAAc,CAAE,CAAC;QAEtN,IAAIV,MAAM,CAAC,OAAO,CAAC,IAAI,sBAAsB,EAAE;UAC7C8B,QAAQ,GAAG,CACT;YAAE,OAAO,EAAE,MAAM;YAAE,OAAO,EAAEI,GAAG;YAAE,OAAO,EAAE,SAAS;YAAE,QAAQ,EAAElC,MAAM,CAAC,OAAO,CAAC;YAAE,eAAe,EAAEK;UAAgB,CAAE,EACnH;YAAE,OAAO,EAAE,IAAI;YAAE,OAAO,EAAE6B,GAAG;YAAE,OAAO,EAAElC,MAAM,CAAC,cAAc,CAAC;YAAE,WAAW,EAAEA,MAAM,CAAC,UAAU,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG,IAAI;YAAE,QAAQ,EAAEA,MAAM,CAAC,OAAO,CAAC;YAAE,eAAe,EAAES;UAAa,CAAE,EAC/L;YAAE,OAAO,EAAE,KAAK;YAAE,OAAO,EAAEoB,OAAO,CAACI,WAAW;YAAE,OAAO,EAAEjC,MAAM,CAAC,eAAe,CAAC;YAAE,WAAW,EAAEA,MAAM,CAAC,WAAW,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG,IAAI;YAAE,QAAQ,EAAEA,MAAM,CAAC,OAAO,CAAC;YAAE,eAAe,EAAEU;UAAc,CAAE,CAAC;QACxN;QAEA,IAAI,CAACrC,YAAY,CAAC8D,kBAAkB,CAACnC,MAAM,CAAC,OAAO,CAAC,EAAE,eAAe,EAAE8B,QAAQ,EAAE;UAAEM,QAAQ,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAE,CAAC;MACvH,CAAC;MACDC,QAAQ,EAAEA,CAAA,KAAK;QACb,IAAI,CAAC7D,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACN;EAGA8D,WAAWA,CAACC,OAAsB;IAChC,IAAI,CAAC3D,UAAU,EAAE;EACnB;;;uCApJWzH,yBAAyB,EAAAlE,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,2DAAA,GAAAxC,+DAAA,CAAA0C,qEAAA,GAAA1C,+DAAA,CAAAuP,0EAAA;IAAA;EAAA;;;YAAzBrL,yBAAyB;MAAAtB,SAAA;MAAA4M,QAAA,GAAAxP,kEAAA;MAAA6C,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA0M,mCAAAxM,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZtBlD,4DAJhB,aAAuB,aAC8C,aAC5C,aACS,YACA;UAAAA,oDAAA,8BAAuB;UAAAA,0DAAA,EAAK;UAC9CA,wDAAA,IAAA2P,uCAAA,gBAAwD;UAC5D3P,0DAAA,EAAM;UAEFA,4DADJ,aAAsB,gBAGU;UADqCA,8DAAA,2BAAA6P,mEAAAC,MAAA;YAAA9P,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAkB;UAC/E9P,wDAAA,oBAAAiQ,4DAAA;YAAA,OAAU9M,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UACvB3L,4DAAA,gBAAgC;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAClDA,4DAAA,iBAA6B;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAErCA,0DAFqC,EAAS,EACjC,EACP;UAGEA,4DAFR,eAAqB,eACgB,kBACoG;UAAjDA,wDAAA,oBAAAkQ,6DAAA;YAAA,OAAU/M,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UAAC3L,8DAAA,2BAAAmQ,oEAAAL,MAAA;YAAA9P,gEAAA,CAAAmD,GAAA,CAAAsI,UAAA,EAAAqE,MAAA,MAAA3M,GAAA,CAAAsI,UAAA,GAAAqE,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAwB;UAC5H9P,wDAAA,KAAAoQ,4CAAA,qBAAmF;UAG/FpQ,0DAFQ,EAAS,EACP,EACJ;UAGEA,4DAFR,eAA8B,eACH,aAC4B;UAAAA,oDAAA,8NAG7B;UAG9BA,0DAH8B,EAAI,EACpB,EACJ,EACJ;UAGKA,4DAFX,eAAwG,eAC9D,SAC/B,SAAG;UAAAA,oDAAA,IAAmB;UAC7BA,0DAD6B,EAAI,EAAI,EAC/B;UAEFA,4DADJ,eAA0B,eACmB;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAM;UACxDA,4DAAA,eAAsB;UAClBA,uDAAA,eAA6C;UAErDA,0DADI,EAAM,EACJ;UAEFA,4DADJ,eAAiD,eACe;UACxDA,uDAAA,eAAmD;UAG/DA,0DAFQ,EAAM,EACJ,EACJ;UACNA,wDAAA,KAAAqQ,yCAAA,kBAA8D;UAOlErQ,0DAAA,EAAM;UACNA,4DAAA,eAAkD;UAC9CA,uDAAA,qBACwE;UAEhFA,0DADI,EAAM,EACJ;;;UA7DkCA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAIWpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAEvErL,uDAAA,EAAc;UAAdA,wDAAA,eAAc;UACdA,uDAAA,GAAoB;UAApBA,wDAAA,qBAAoB;UACpBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAKgFA,uDAAA,GAAwB;UAAxBA,8DAAA,YAAAmD,GAAA,CAAAsI,UAAA,CAAwB;UACjGzL,uDAAA,EAA4B;UAA5BA,wDAAA,YAAAmD,GAAA,CAAAwH,yBAAA,CAA4B;UAavB3K,uDAAA,GAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAEzFvL,uDAAA,GAAmB;UAAnBA,+DAAA,CAAAmD,GAAA,CAAAqI,eAAA,CAAmB;UAcYxL,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UASjDvL,uDAAA,GAAiB;UACxBA,wDADO,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,gCAAgC,kCAAkC,aAAAjI,GAAA,CAAAoI,SAAA,mCACnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEhEnEvL,uDAAA,2BAAsE;;;ADUhE,MAAO4D,kBAAkB;EAI7B1C,YAAoBC,KAAqB,EAAUC,cAA8B,EAAUC,MAAwB;IAA/F,KAAAF,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAHjG,KAAA+J,MAAM,GAAW,aAAa;IAC9B,KAAA1F,IAAI,GAAW,SAAS;EAGxB;EAEA/D,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MAC/C,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,IAAIA,MAAM,IAAI,IAAI,CAACA,MAAM,EAAE;QAC5C,IAAI,CAACA,MAAM,GAAGA,MAAM;MACtB;MACA,IAAI,CAAChK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACF;IACD,IAAI,CAACjK,KAAK,CAACwF,WAAW,CACnB5E,SAAS,CAAC6E,MAAM,IAAG;MAChB;MACA,IAAI,CAAClB,IAAI,GAAGkB,MAAM,CAAClB,IAAI;IACzB,CAAC,CACF;IACH,IAAI,CAACtE,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAAC,WAAW,CAAC;IAC/C,IAAI,CAACsE,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IACT,IAAI,CAACd,MAAM,CAACe,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACtC;;;uCA5BWwB,kBAAkB,EAAA5D,+DAAA,CAAAsC,4DAAA,GAAAtC,+DAAA,CAAAwC,qEAAA,GAAAxC,+DAAA,CAAA0C,8DAAA;IAAA;EAAA;;;YAAlBkB,kBAAkB;MAAAhB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAuN,4BAAArN,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCV/BlD,wDAAA,IAAAwQ,kDAAA,kCAA+C;UAO/CxQ,uDANA,uBAAqC,2BACQ,wBACN,uBACF,mCACwB,wBACtB,uBACF;;;UAPdA,wDAAA,SAAAmD,GAAA,CAAAuC,IAAA,aAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEI;AAGnB;AACsC;;;;;;;;;;;ICwB1D1F,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;ADnBJ,MAAOgE,wBAAwB;EAUnC9C,YAAoBgK,YAA0B,EAAU9J,cAA8B,EAAUqP,aAA4B,EACxGtP,KAAqB;IADrB,KAAA+J,YAAY,GAAZA,YAAY;IAAwB,KAAA9J,cAAc,GAAdA,cAAc;IAA0B,KAAAqP,aAAa,GAAbA,aAAa;IACzF,KAAAtP,KAAK,GAALA,KAAK;IAVzB,KAAAkK,IAAI,GAAoB,EAAE;IAC1B,KAAAE,SAAS,GAAY,IAAI;IACzB,KAAAmF,2BAA2B,GAAW,CAAC;IACvC,KAAAC,6BAA6B,GAAW,CAAC;IACzC,KAAAC,+BAA+B,GAAW,CAAC;IAC3C,KAAAC,4BAA4B,GAAW,CAAC;IACxC,KAAAC,oCAAoC,GAAW,CAAC;IAChD,KAAAC,+BAA+B,GAAW,CAAC;EAI3C;EAEApP,QAAQA,CAAA;IACN,IAAI,CAACgK,UAAU,EAAE;IACjB,IAAI,CAACxK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,kBAAkB,EACpC,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;EAEA;;;;EAIA0J,UAAUA,CAAA;IACR,IAAI,CAACJ,SAAS,GAAG,IAAI;IAErB,MAAMyF,6BAA6B,GAAG,IAAI,CAAC9F,YAAY,CAACe,UAAU,CAChE,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACC,iBAAiB,EAAE,IAAI,CAACjG,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAC3I,CAACP,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAM6E,iCAAiC,GAAG,IAAItG,2EAAkB,EAAE,CACjEsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACC,iBAAiB,EAAE,IAAI,CAACjG,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CACrJS,KAAK,EAAE;IAER,MAAM+D,wBAAwB,GAAG,IAAI,CAACnG,YAAY,CAACe,UAAU,CAC3D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACI,OAAO,EAAE,IAAI,CAACpG,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CACjI,CAACP,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAMgF,4BAA4B,GAAG,IAAIzG,2EAAkB,EAAE,CAC5DsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACI,OAAO,EAAE,IAAI,CAACpG,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CAC3IS,KAAK,EAAE;IAER,MAAMkE,0BAA0B,GAAG,IAAI,CAACtG,YAAY,CAACe,UAAU,CAC7D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACO,SAAS,CAAC,CACxE,CAACnF,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAMmF,8BAA8B,GAAG,IAAI5G,2EAAkB,EAAE,CAC9DsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACO,SAAS,EAAE,IAAI,CAACvG,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CAC7IS,KAAK,EAAE;IAER,MAAMqE,4BAA4B,GAAG,IAAI,CAACzG,YAAY,CAACe,UAAU,CAC/D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACU,WAAW,CAAC,CAC1E,CAACtF,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAMsF,gCAAgC,GAAG,IAAI/G,2EAAkB,EAAE,CAChEsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACU,WAAW,EAAE,IAAI,CAAC1G,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CAC/IS,KAAK,EAAE;IAER,MAAMwE,iCAAiC,GAAG,IAAI,CAAC5G,YAAY,CAACe,UAAU,CACpE,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACa,gBAAgB,CAAC,CAC/E,CAACzF,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAMyF,qCAAqC,GAAG,IAAIlH,2EAAkB,EAAE,CACrEsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACa,gBAAgB,EAAE,IAAI,CAAC7G,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CACpJS,KAAK,EAAE;IAER,MAAM2E,4BAA4B,GAAG,IAAI,CAAC/G,YAAY,CAACe,UAAU,CAC/D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,EAAE,CAC7C,IAAIvG,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACgB,WAAW,CAAC,CAC1E,CAAC5F,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,IAAI,QAAQ,CAAC,CACzC;IAED,MAAM4F,gCAAgC,GAAG,IAAIrH,2EAAkB,EAAE,CAChEsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC+E,mBAAmB,CAAC,CAC1D5D,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCgC,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,CAAC,IAAI,CAACQ,YAAY,CAACgG,cAAc,CAACa,gBAAgB,EAAE,IAAI,CAAC7G,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAAC,CAAC,CACpJS,KAAK,EAAE;IAER1C,8CAAQ,CAAC,CAACoG,6BAA6B,EACrCK,wBAAwB,EAAEG,0BAA0B,EACpDG,4BAA4B,EAAEG,iCAAiC,EAC/DG,4BAA4B,CAAC,CAAC,CAAClQ,SAAS,CAAC4M,OAAO,IAAG;MAEnD,IAAI,IAAI,CAACtD,IAAI,IAAI,QAAQ,EAAE;QACzBsD,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;QAEPU,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;QAEPU,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;QAEPU,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;QAEPU,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;QAEPU,OAAO,CAAC,CAAC,CAAC,GAAGb,MAAM,CAACC,MAAM,CAACY,OAAO,CAAC,CAAC,CAAC,CAACX,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC9DD,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MAEA,IAAI,CAAC4C,4BAA4B,GAAG,IAAI,CAACuB,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MAC7E,IAAI,CAAC+B,2BAA2B,GAAG,IAAI,CAAC0B,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MAC5E,IAAI,CAACgC,6BAA6B,GAAG,IAAI,CAACyB,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MAC9E,IAAI,CAACiC,+BAA+B,GAAG,IAAI,CAACwB,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MAChF,IAAI,CAACmC,oCAAoC,GAAG,IAAI,CAACsB,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MACrF,IAAI,CAACoC,+BAA+B,GAAG,IAAI,CAACqB,wBAAwB,CAACzD,OAAO,CAAC,CAAC,CAAC,CAAC;MAEhF,IAAI,CAAC0D,kBAAkB,CAAC,IAAI,CAAC3B,2BAA2B,EAAE,qCAAqC,EAAEa,4BAA4B,CAAC;MAC9H,IAAI,CAACc,kBAAkB,CAAC,IAAI,CAACxB,4BAA4B,EAAE,sCAAsC,EAAEO,iCAAiC,CAAC;MACrI,IAAI,CAACiB,kBAAkB,CAAC,IAAI,CAAC1B,6BAA6B,EAAE,qCAAqC,EAAEe,8BAA8B,CAAC;MAClI,IAAI,CAACW,kBAAkB,CAAC,IAAI,CAACzB,+BAA+B,EAAE,yCAAyC,EAAEiB,gCAAgC,CAAC;MAC1I,IAAI,CAACQ,kBAAkB,CAAC,IAAI,CAACvB,oCAAoC,EAAE,oCAAoC,EAAEkB,qCAAqC,CAAC;MAC/I,IAAI,CAACK,kBAAkB,CAAC,IAAI,CAACtB,+BAA+B,EAAE,yCAAyC,EAAEoB,gCAAgC,CAAC;MAE1I,IAAI,CAAC5G,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACJ;EAEA;;;;;;EAMQ6G,wBAAwBA,CAACE,gBAAqB;IACpD,IAAIC,kBAAkB,GAAG,CAAC;IAC1B,KAAK,IAAIC,MAAM,IAAIF,gBAAgB,EACjCC,kBAAkB,IAAIC,MAAM,CAAC,OAAO,CAAC,IAAI,SAAS,GAAG,CAAC,GAAGC,MAAM,CAACD,MAAM,CAAC,OAAO,CAAC,CAAC;IAClF,OAAO/D,IAAI,CAACC,KAAK,CAAC6D,kBAAkB,GAAC,EAAE,GAAGD,gBAAgB,CAACrL,MAAM,CAAC;EACpE;EAEAoL,kBAAkBA,CAACK,UAAkB,EAAEC,SAAiB,EAAEtU,GAAW;IACnE,IAAI,CAACoS,aAAa,CAAC4B,kBAAkB,CACnC,GAAGK,UAAU,GAAG,EAChB,OAAOC,SAAS,EAAE,EAClB,CAAC;MACC,IAAI,EAAE,SAAS;MACf,SAAS,EAAED,UAAU;MACrB,eAAe,EAAErU;KAClB,EACD;MACE,IAAI,EAAE,aAAa;MACnB,SAAS,EAAE,GAAG,GAAGqU,UAAU;MAC3B,eAAe,EAAErU;KAClB,CAAC,EACF,GAAG,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,EAC3B,CAAC,SAAS,EAAE,aAAa,CAAC,EAAE;MAAE6Q,QAAQ,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAK,CAAE,CAAC;EACpE;;;uCArMWnL,wBAAwB,EAAAhE,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,qEAAA,GAAAxC,+DAAA,CAAA0C,0EAAA,GAAA1C,+DAAA,CAAAuP,2DAAA;IAAA;EAAA;;;YAAxBvL,wBAAwB;MAAApB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA4P,kCAAA1P,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCV7BlD,4DAJR,aAAuB,aAC2C,aAC7C,aACO,YACF;UAAAA,oDAAA,8BAAuB;UAC3CA,0DAD2C,EAAK,EAC1C;UAEJA,4DADF,aAAsB,gBAEsF;UAA3CA,8DAAA,2BAAA6S,kEAAA/C,MAAA;YAAA9P,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAkB;UAAC9P,wDAAA,oBAAA8S,2DAAA;YAAA,OAAU3P,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UACvG3L,4DAAA,gBAAgC;UAAAA,oDAAA,gBAAS;UAAAA,0DAAA,EAAS;UAClDA,4DAAA,iBAA6B;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAGnCA,0DAHmC,EAAS,EAC/B,EACL,EACF;UAGFA,4DAFJ,cAAiB,cAC+C,SACzD;UAAAA,oDAAA,0HAAkH;UAEzHA,0DAFyH,EAAI,EACrH,EACF;UACNA,wDAAA,KAAA+S,wCAAA,kBAA8D;UAYtD/S,4DAJR,eAAsF,eAC5C,eACsB,eAClB,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,uBAAe;UAG3CA,0DAH2C,EAAK,EACtC,EACF,EACF;UAGFA,4DAFJ,eAA4D,eAClB,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,eAAO;UAGnCA,0DAHmC,EAAK,EAC9B,EACF,EACF;UAGFA,4DAFJ,eAAoE,eAC1B,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,eAAO;UAGnCA,0DAHmC,EAAK,EAC9B,EACF,EACF;UAGFA,4DAFJ,eAA4E,eAClC,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,0BAAkB;UAG9CA,0DAH8C,EAAK,EACzC,EACF,EACF;UAGFA,4DAFJ,eAA4E,eAClC,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,mBAAW;UAGvCA,0DAHuC,EAAK,EAClC,EACF,EACF;UAGFA,4DAFJ,eAA4E,eAClC,eACN;UAC9BA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAoB,cACI;UAAAA,oDAAA,mBAAW;UAM7CA,0DAN6C,EAAK,EAClC,EACF,EACF,EACF,EACF,EACF;UACNA,4DAAA,eAAkD;UAChDA,uDAAA,qBACsE;UAE1EA,0DADE,EAAM,EACF;;;UAtGiEA,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UACvErL,uDAAA,EAAc;UAAdA,wDAAA,eAAc;UACdA,uDAAA,GAAoB;UAApBA,wDAAA,qBAAoB;UACpBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UASeA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAQ9BvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAwE1EvL,uDAAA,IAAwB;UACjCA,wDADS,yBAAwB,sCAAsC,iCAAiC,aAAAmD,GAAA,CAAAoI,SAAA,mCACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IErFzDvL,4DADF,cAA0B,aACA;IAAAA,oDAAA,oBAAa;IAAAA,0DAAA,EAAK;IAC1CA,4DAAA,iBAAkG;IAAvCA,wDAAA,mBAAAgT,kEAAA;MAAA,MAAAC,QAAA,GAAAjT,2DAAA,CAAAmT,GAAA,EAAAC,SAAA;MAAA,OAAApT,yDAAA,CAASiT,QAAA,CAAAK,OAAA,CAAc,aAAa,CAAC;IAAA,EAAC;IACnGtT,0DADoG,EAAS,EACvG;IAEJA,4DADF,cAAwB,mBACX;IAAAA,oDAAA,GACiE;IAC9EA,0DAD8E,EAAM,EAC9E;IAEJA,4DADF,cAA0B,iBAEwC;IAA9BA,wDAAA,yBAAAuT,wEAAA;MAAA,MAAAN,QAAA,GAAAjT,2DAAA,CAAAmT,GAAA,EAAAC,SAAA;MAAA,OAAApT,yDAAA,CAAeiT,QAAA,CAAAO,KAAA,EAAa;IAAA,EAAC;IAACxT,oDAAA,aAChE;IACFA,0DADE,EAAS,EACL;;;;IAPOA,uDAAA,GACiE;IADjEA,gEAAA,mBAAA0T,MAAA,CAAA1V,OAAA,MAAA0V,MAAA,CAAAC,OAAA,OAAAD,MAAA,CAAAtI,MAAA,qFACiE;IAIpEpL,uDAAA,GAAyB;IAAzBA,wDAAA,cAAA0T,MAAA,CAAAE,WAAA,CAAyB;;;ADvB/B,MAAOlK,iBAAiB;EAgB5BxI,YAAA;IAbA,KAAAyR,SAAS,GAAW,EAAE;IAEtB,KAAAvH,MAAM,GAAW,aAAa;IAE9B,KAAAuI,OAAO,GAAW,EAAE;IAEpB,KAAAE,YAAY,GAAW,eAAe;IACtC,KAAA7V,OAAO,GAAW,EAAE;IACpB,KAAA8V,OAAO,GAAY,KAAK;IACxB,KAAAF,WAAW,GAAW,EAAE;EAIV;EAEd;EACA;EAEAjS,QAAQA,CAAA;IACN,IAAI,CAAC3D,OAAO,GAAG+V,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAC,aAAa;IACnD,IAAI,CAACL,WAAW,GAAG,gBAAgB,GAAG,IAAI,CAAC5V,OAAO,GAAG,IAAI,CAAC2V,OAAO,GAAG,GAAG,GAAG,IAAI,CAACvI,MAAM,GAAG,0EAA0E;EACpK;EAEA8I,MAAMA,CAAA;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;EAGFC,SAASA,CAAA;IACP;EAAA;;;uCA3CSzK,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAA9G,SAAA;MAAAwR,SAAA,WAAAC,wBAAAnR,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;UCP1BlD,4DAFJ,aAAiB,aAC4B,WACoE;UAAvDA,wDAAA,mBAAAsU,8CAAA;YAAAtU,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAASmD,GAAA,CAAA+Q,MAAA,EAAQ;UAAA,EAAC;UAAqClU,oDAAA,oBACxG;UAAAA,0DAAA,EAAI;UACTA,4DAAA,WACyB;UAAAA,oDAAA,YAAK;UAAAA,0DAAA,EAAI;UAE5BA,4DADN,YAAkD,SAC5C,WAC4C;UAAAA,uDAAA,WACP;UAAAA,oDAAA,iBAAS;UAAIA,0DAAJ,EAAI,EAAK;UACvDA,4DAAJ,UAAI,YAA6D;UAApCA,wDAAA,mBAAAwU,+CAAA;YAAAxU,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAASmD,GAAA,CAAAgR,SAAA,EAAW;UAAA,EAAC;UAAenU,uDAAA,aACvB;UAAAA,oDAAA,aAAK;UAAIA,0DAAJ,EAAI,EAAK;UACpDA,4DAAJ,UAAI,aAC8F;UAAAA,uDAAA,aAC3D;UAAAA,oDAAA,gBAAQ;UAAIA,0DAAJ,EAAI,EAAK;UACpDA,4DAAJ,UAAI,aAC0F;UAAAA,uDAAA,aAClD;UAAAA,oDAAA,YAAI;UAGtDA,0DAHsD,EAAI,EAAK,EACtD,EACD,EACF;UACNA,wDAAA,KAAAyU,yCAAA,iCAAAzU,oEAAA,CAA8B;;;UAnBvBA,uDAAA,GAAkD;UAAlDA,oEAAA,eAAAmD,GAAA,CAAA0Q,YAAA,qBAAkD;UAAoB7T,wDAAA,YAAAmD,GAAA,CAAA2Q,OAAA,kBAAmC;UAEzG9T,uDAAA,GAA6C;UAA7CA,oEAAA,0BAAAmD,GAAA,CAAA0Q,YAAA,KAA6C;UAIvC7T,uDAAA,GAAwC;UAAxCA,wDAAA,cAAAmD,GAAA,CAAAnF,OAAA,GAAAmF,GAAA,CAAAwQ,OAAA,SAAAxQ,GAAA,CAAAiI,MAAA,CAAwC;UAKxCpL,uDAAA,GAA0F;UAA1FA,wDAAA,kEAAAmD,GAAA,CAAAnF,OAAA,GAAAmF,GAAA,CAAAwQ,OAAA,SAAAxQ,GAAA,CAAAiI,MAAA,EAAApL,2DAAA,CAA0F;UAG1FA,uDAAA,GAAsF;UAAtFA,wDAAA,8DAAAmD,GAAA,CAAAnF,OAAA,GAAAmF,GAAA,CAAAwQ,OAAA,SAAAxQ,GAAA,CAAAiI,MAAA,EAAApL,2DAAA,CAAsF;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfpC;AAET;;;;;;;ICAhDA,4DAHN,aAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;ADOA,MAAOiJ,4BAA4B;EAavC/H,YAAoBgK,YAA0B,EAAUuF,aAA4B;IAAhE,KAAAvF,YAAY,GAAZA,YAAY;IAAwB,KAAAuF,aAAa,GAAbA,aAAa;IALrE,KAAA3E,aAAa,GAAa,EAAE;IAC5B,KAAAlF,MAAM,GAAG,EAAE;IAEX,KAAA2E,SAAS,GAAY,IAAI;EAGzB;EAEA5J,QAAQA,CAAA;IACN,MAAMgT,SAAS,GAAG,CAAC,kDAAkD,CAAC;IAEtE,IAAI,CAACzJ,YAAY,CAAC0J,QAAQ,CAACD,SAAS,CAAC,CAAC5S,SAAS,CAAC;MAC9ClE,IAAI,EAAEA,CAAC,CAACgX,qBAAqB,CAAC,KAAI;QAChC,IAAI,CAACA,qBAAqB,GAAGA,qBAAqB;QAElD;QACA,IAAI,CAAC3J,YAAY,CAAC4J,gBAAgB,EAAE;MACtC,CAAC;MACDC,KAAK,EAAGA,KAAK,IAAI;QACf3V,OAAO,CAAC2V,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;KACD,CAAC;IAEF;IACA,IAAI,CAAC7J,YAAY,CAAC8J,aAAa,CAACjT,SAAS,CAAEkT,QAAQ,IAAI;MACrD,IAAIA,QAAQ,EAAE;QACZ,IAAI,CAACtJ,UAAU,EAAE;MACnB;IACF,CAAC,CAAC;EAEJ;EAEA0D,WAAWA,CAACC,OAAsB;IAChC,IAAI,CAAC3D,UAAU,EAAE;EACnB;EAEAA,UAAUA,CAAA;IACR,IAAI,CAACG,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI,CAACG,SAAS,GAAG,IAAI;IACrB,IAAI4J,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACU,yBAAyB;IACvF,IAAI,CAACd,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAChF,IAAI,IAAI,CAACuI,WAAW,IAAI,IAAI,EAAE;MAC5BD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACC,wBAAwB;MAClF,IAAI,CAACL,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,IAAI,KAAK,EAAE;MACpCD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACO,yBAAyB;MACnF,IAAI,CAACX,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF;IAEA,IAAI,CAAC9F,MAAM,GAAGgC,iEAAY,CAACyM,YAAY,CAAC,CAAC,IAAI3K,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EACtE,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAC9C,CAACQ,MAAM,CAAEA,MAAM,IAAKA,MAAM,CAACC,KAAK,IAAI,EAAE,IAAID,MAAM,CAACC,KAAK,IAAI,QAAQ,CAAC,CAAC,CAAC+I,QAAQ,EAAE;IAEhF,IAAI,CAAC7E,aAAa,CAAC8E,qBAAqB,CACtC,wCAAwC,EACxC,uCAAuC,EACvC,GAAG,EACHJ,6BAA6B,EAC7B,OAAO,EACP;MACE,MAAM,EAAE,WAAW;MACnB,QAAQ,EAAE,CACR;QACE,KAAK,EAAE,oBAAoB;QAC3B,OAAO,EAAE,kBAAkB;QAC3B,OAAO,EAAE,CAAC;QACV,KAAK,EAAE;OACR,EACD;QAAE,KAAK,EAAE,wBAAwB;QAAE,OAAO,EAAE,sBAAsB;QAAE,OAAO,EAAE,CAAC;QAAE,KAAK,EAAE;MAAC,CAAE,EAC1F;QAAE,KAAK,EAAE,EAAE;QAAE,OAAO,EAAE,kBAAkB;QAAE,OAAO,EAAE,CAAC;QAAE,KAAK,EAAE;MAAC,CAAE,CACjE;MACD,WAAW,EAAE,CAAC;QAAE,MAAM,EAAE,QAAQ;QAAE,KAAK,EAAE,CAAC,YAAY,CAAC;QAAE,IAAI,EAAE,CAAC,KAAK;MAAC,CAAE;KACzE,EACD;MACE,MAAM,EAAE,QAAQ;MAChB,QAAQ,EAAE,CACR;QACE,OAAO,EAAE,0BAA0B;QACnC,MAAM,EAAE,0BAA0B;QAClC,KAAK,EAAE;OACR,EAAE;QACD,OAAO,EAAE,8BAA8B;QACvC,MAAM,EAAE,SAAS;QACjB,KAAK,EAAE;OACR,EAAE;QACD,OAAO,EAAE,aAAa;QACtB,MAAM,EAAE,aAAa;QACrB,KAAK,EAAE;OACR,EACD;QAAE,OAAO,EAAE,mBAAmB;QAAE,MAAM,EAAE,IAAI;QAAE,KAAK,EAAE;MAAC,CAAE,CACzD;MACD,WAAW,EAAE,CAAC;QAAE,MAAM,EAAE,QAAQ;QAAE,KAAK,EAAE,CAAC,YAAY,CAAC;QAAE,IAAI,EAAE,CAAC,KAAK;MAAC,CAAE;KACzE,EACD,IAAI,CAAC9J,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;MAAEoD,QAAQ,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAK,CAAE,CAAC,CAACqG,OAAO,CAAC,MAAK;MAChD,IAAI,CAAC/E,aAAa,CAACgF,YAAY,CAC7B,uBAAuB,EACvB,kCAAkC,EAClC,GAAG,EACH,GAAG,EACHN,6BAA6B,EAC7B,IAAI,CAACN,qBAAqB,EAC1B,IAAI,CAACxJ,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;QAAEoD,QAAQ,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAE,CAAC,CAACqG,OAAO,CAAC,MAAM,IAAI,CAACjK,SAAS,GAAG,KAAK,CAAC;IAC9E,CAAC,CAAC;EACN;;;uCArHWtC,4BAA4B,EAAAjJ,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,mEAAA;IAAA;EAAA;;;YAA5ByG,4BAA4B;MAAArG,SAAA;MAAA8S,MAAA;QAAArK,IAAA;QAAAD,MAAA;QAAAgK,WAAA;MAAA;MAAA5F,QAAA,GAAAxP,kEAAA;MAAA6C,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA2S,sCAAAzS,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCbzClD,wDAAA,IAAA4V,2CAAA,iBAA8D;UAUpD5V,4DAHV,aAAmG,aAC1E,aACJ,SACX,WAEc;UAAAA,oDAAA,2BAAoB;UAAIA,0DAAJ,EAAI,EAAK;UAC/CA,4DAAA,QAAG;UAAAA,oDAAA,kEAA2D;UAChEA,0DADgE,EAAI,EAC9D;UACNA,4DAAA,aAAkC;UAChCA,uDAAA,cACM;UAEVA,0DADE,EAAM,EACF;UAGEA,4DAFR,cAA4B,cACT,UACX,YAEc;UAAAA,oDAAA,4BAAoB;UAAIA,0DAAJ,EAAI,EAAK;UAC/CA,4DAAA,SAAG;UAAAA,oDAAA,uDAA+C;UACpDA,0DADoD,EAAI,EAClD;UACNA,4DAAA,cAAkC;UAChCA,uDAAA,cACM;UAGZA,0DAFI,EAAM,EACF,EACF;;;UAhCuCA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAOjBvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAI1FvL,uDAAA,GAA6G;UAA7GA,wDAAA,oGAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAA6G;UAY7GA,uDAAA,GAA0G;UAA1GA,wDAAA,iGAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAA0G;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBnD;AAET;;;;;;;;ICAhDA,4DAHN,aAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;ADMA,MAAOgJ,2BAA2B;EAetC9H,YAAoBgK,YAA0B,EAAUuF,aAA4B,EAAUoF,UAAsB;IAAhG,KAAA3K,YAAY,GAAZA,YAAY;IAAwB,KAAAuF,aAAa,GAAbA,aAAa;IAAyB,KAAAoF,UAAU,GAAVA,UAAU;IAPxG,KAAA/J,aAAa,GAAa,EAAE;IAG5B,KAAAlF,MAAM,GAAG,EAAE;IAEX,KAAA2E,SAAS,GAAY,IAAI;EAGzB;EAEA5J,QAAQA,CAAA;IACN,MAAMgT,SAAS,GAAG,CAAC,oDAAoD,EAAE,oDAAoD,CAAC;IAE9H,IAAI,CAACzJ,YAAY,CAAC0J,QAAQ,CAACD,SAAS,CAAC,CAAC5S,SAAS,CAAC;MAC9ClE,IAAI,EAAEA,CAAC,CAACiY,QAAQ,EAAEC,QAAQ,CAAC,KAAI;QAC7B,IAAI,CAACC,uBAAuB,GAAGF,QAAQ;QACvC,IAAI,CAACG,uBAAuB,GAAGF,QAAQ;QAEvC;QACA,IAAI,CAAC7K,YAAY,CAAC4J,gBAAgB,EAAE;MACtC,CAAC;MACDC,KAAK,EAAGA,KAAK,IAAI;QACf3V,OAAO,CAAC2V,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;KACD,CAAC;IAEF;IACA,IAAI,CAAC7J,YAAY,CAAC8J,aAAa,CAACjT,SAAS,CAAEkT,QAAQ,IAAI;MACrD,IAAIA,QAAQ,EAAE;QACZ,IAAI,CAACtJ,UAAU,EAAE;MACnB;IACF,CAAC,CAAC;EACJ;EAEA0D,WAAWA,CAACC,OAAsB;IAC9B,IAAI,CAAC3D,UAAU,EAAE;EACrB;EAEAA,UAAUA,CAAA;IACR,IAAI,CAACJ,SAAS,GAAG,IAAI;IACrB,IAAI,CAACO,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI+J,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACU,yBAAyB;IACvF,IAAI,CAACd,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAChF,IAAI,IAAI,CAACuI,WAAW,IAAI,IAAI,EAAE;MAC5BD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACC,wBAAwB;MAClF,IAAI,CAACL,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,IAAI,KAAK,EAAE;MACpCD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACO,yBAAyB;MACnF,IAAI,CAACX,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF;IAEA,IAAI,CAAC9F,MAAM,GAAGgC,iEAAY,CAACyM,YAAY,CAAC,CAAC,IAAI3K,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EACtE,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAC9C,CAACQ,MAAM,CAAEA,MAAM,IAAKA,MAAM,CAACC,KAAK,IAAI,EAAE,IAAID,MAAM,CAACC,KAAK,IAAI,QAAQ,CAAC,CAAC,CAAC+I,QAAQ,EAAE;IAEhF,IAAI,CAAC7E,aAAa,CAACgF,YAAY,CAC7B,sCAAsC,EACtC,kDAAkD,EAClD,GAAG,EACH,GAAG,EACHN,6BAA6B,EAC7B,IAAI,CAACa,uBAAuB,EAC5B,IAAI,CAAC3K,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;MACEoD,QAAQ,EAAE,KAAK;MACfC,OAAO,EAAE;KACV,CAAC,CAACqG,OAAO,CAAC,MAAK;MACd,IAAI,CAAC/E,aAAa,CAACgF,YAAY,CAC7B,yBAAyB,EACzB,sBAAsB,EACtB,GAAG,EACH,GAAG,EACHN,6BAA6B,EAC7B,IAAI,CAACc,uBAAuB,EAC5B,IAAI,CAAC5K,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;QAAEoD,QAAQ,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAE,CAAC,CAACqG,OAAO,CAAC,MAAK;QAChD,IAAI,CAACjK,SAAS,GAAG,KAAK;MACxB,CAAC,CAAC;IACN,CAAC,CAAC;EACN;;;uCA3FWvC,2BAA2B,EAAAhJ,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,mEAAA,GAAAxC,+DAAA,CAAA0C,4DAAA;IAAA;EAAA;;;YAA3BsG,2BAA2B;MAAApG,SAAA;MAAA8S,MAAA;QAAArK,IAAA;QAAAD,MAAA;QAAAgK,WAAA;MAAA;MAAA5F,QAAA,GAAAxP,kEAAA;MAAA6C,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAmT,qCAAAjT,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZxClD,wDAAA,IAAAoW,0CAAA,iBAA8D;UAUpDpW,4DAHV,aAAyE,aAChD,aACJ,SACX,WAEc;UAAAA,oDAAA,8BAAuB;UACzCA,0DADyC,EAAI,EACxC;UACLA,4DAAA,QAAG;UAAAA,oDAAA,uIAEH;UACFA,0DADE,EAAI,EACA;UACNA,4DAAA,aAAkC;UAChCA,uDAAA,cACM;UAGZA,0DAFI,EAAM,EACF,EACF;UAIIA,4DAHV,cAAyE,cAC3C,cACT,UACX,YAEc;UAAAA,oDAAA,4CACR;UAAIA,0DAAJ,EAAI,EAAK;UACnBA,4DAAA,SAAG;UAAAA,oDAAA,4EAAoE;UACzEA,0DADyE,EAAI,EACvE;UACNA,4DAAA,cAAkC;UAChCA,uDAAA,cACM;UAGZA,0DAFI,EAAM,EACF,EACF;;;UAtCuCA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAO3CvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAIhEvL,uDAAA,GAA6F;UAA7FA,wDAAA,oFAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAA6F;UAapFA,uDAAA,GAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAIhEvL,uDAAA,GAA2F;UAA3FA,wDAAA,kFAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAA2F;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BpC;AAET;;;;;;;ICAhDA,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;ADKA,MAAOkJ,wBAAwB;EAanChI,YAAoBgK,YAA0B,EAAUuF,aAA4B;IAAhE,KAAAvF,YAAY,GAAZA,YAAY;IAAwB,KAAAuF,aAAa,GAAbA,aAAa;IAZrE,KAAAlF,SAAS,GAAY,IAAI;IASzB,KAAAO,aAAa,GAAa,EAAE;IAC5B,KAAAlF,MAAM,GAAG,EAAE;EAGX;EAEAjF,QAAQA,CAAA;IACN,MAAMgT,SAAS,GAAG,CAChB,gDAAgD,EAChD,4CAA4C,CAC7C;IAED;IACA,IAAI,CAACzJ,YAAY,CAAC0J,QAAQ,CAACD,SAAS,CAAC,CAAC5S,SAAS,CAAC;MAC9ClE,IAAI,EAAEA,CAAC,CAACwY,cAAc,EAAEC,UAAU,CAAC,KAAI;QACrC,IAAI,CAACC,mBAAmB,GAAGF,cAAc;QACzC,IAAI,CAACG,eAAe,GAAGF,UAAU;QAEjC;QACA,IAAI,CAACpL,YAAY,CAAC4J,gBAAgB,EAAE;MACtC,CAAC;MACDC,KAAK,EAAGA,KAAK,IAAI;QACf3V,OAAO,CAAC2V,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;KACD,CAAC;IAEF;IACA,IAAI,CAAC7J,YAAY,CAAC8J,aAAa,CAACjT,SAAS,CAAEkT,QAAQ,IAAI;MACrD,IAAIA,QAAQ,EAAE;QACZ,IAAI,CAACtJ,UAAU,EAAE;MACnB;IACF,CAAC,CAAC;EACJ;EAEA0D,WAAWA,CAACC,OAAsB;IAC9B,IAAI,CAAC3D,UAAU,EAAE;EACrB;EAEAA,UAAUA,CAAA;IACR,IAAI,CAACG,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI,CAACG,SAAS,GAAG,IAAI;IACrB,IAAI4J,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACU,yBAAyB;IACvF,IAAI,CAACd,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAChF,IAAI,IAAI,CAACuI,WAAW,IAAI,IAAI,EAAE;MAC5BD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACC,wBAAwB;MAClF,IAAI,CAACL,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,IAAI,KAAK,EAAE;MACpCD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACO,yBAAyB;MACnF,IAAI,CAACX,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF;IAEA,IAAI,CAAC9F,MAAM,GAAGgC,iEAAY,CAACyM,YAAY,CAAC,CAAC,IAAI3K,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EACtE,IAAIX,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAC9C,CAACQ,MAAM,CAAEA,MAAM,IAAKA,MAAM,CAACC,KAAK,IAAI,EAAE,IAAID,MAAM,CAACC,KAAK,IAAI,QAAQ,CAAC,CAAC,CAAC+I,QAAQ,EAAE;IAEhF,IAAI,CAAC7E,aAAa,CAACgF,YAAY,CAC7B,iBAAiB,EACjB,6BAA6B,EAC7B,GAAG,EACH,GAAG,EACHN,6BAA6B,EAC7B,IAAI,CAACqB,eAAe,EACpB,IAAI,CAACnL,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;MAAEoD,QAAQ,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAK,CAAE,CAAC,CAACqG,OAAO,CAAC,MAAK;MAChD,IAAI,CAAC/E,aAAa,CAACgF,YAAY,CAC7B,mCAAmC,EACnC,iCAAiC,EACjC,GAAG,EACH,GAAG,EACHN,6BAA6B,EAC7B,IAAI,CAACoB,mBAAmB,EACxB,IAAI,CAAClL,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;QACEoD,QAAQ,EAAE,KAAK;QACfC,OAAO,EAAE;OACV,CAAC,CAACqG,OAAO,CAAC,MAAM,IAAI,CAAC/E,aAAa,CAAC8E,qBAAqB,CACvD,kBAAkB,EAClB,6BAA6B,EAC7B,GAAG,EACHJ,6BAA6B,EAC7B,OAAO,EACP;QACE,MAAM,EAAE,WAAW;QACnB,QAAQ,EAAE,CACR;UACE,KAAK,EAAE,mBAAmB;UAC1B,OAAO,EAAE,gBAAgB;UACzB,OAAO,EAAE,CAAC;UACV,KAAK,EAAE;SACR,EACD;UAAE,KAAK,EAAE,eAAe;UAAE,OAAO,EAAE,aAAa;UAAE,OAAO,EAAE,CAAC;UAAE,KAAK,EAAE;QAAC,CAAE,CACzE;QACD,WAAW,EAAE,CAAC;UAAE,MAAM,EAAE,QAAQ;UAAE,KAAK,EAAE,CAAC,YAAY,CAAC;UAAE,IAAI,EAAE,CAAC,KAAK;QAAC,CAAE;OACzE,EACD;QACE,MAAM,EAAE,QAAQ;QAChB,QAAQ,EAAE,CACR;UACE,OAAO,EAAE,qBAAqB;UAC9B,MAAM,EAAE,qBAAqB;UAC7B,KAAK,EAAE;SACR,EACD;UAAE,OAAO,EAAE,gBAAgB;UAAE,MAAM,EAAE,gBAAgB;UAAE,KAAK,EAAE;QAAC,CAAE,EACjE;UAAE,OAAO,EAAE,SAAS;UAAE,MAAM,EAAE,SAAS;UAAE,KAAK,EAAE;QAAC,CAAE,CACpD;QACD,WAAW,EAAE,CAAC;UAAE,MAAM,EAAE,QAAQ;UAAE,KAAK,EAAE,CAAC,YAAY,CAAC;UAAE,IAAI,EAAE,CAAC,KAAK;QAAC,CAAE;OACzE,EACD,IAAI,CAAC9J,IAAI,EACT,IAAI,CAACS,aAAa,EAClB;QAAEoD,QAAQ,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAE,CAAC,CAAC,CAACqG,OAAO,CAAC,MAAM,IAAI,CAACjK,SAAS,GAAG,KAAK,CACzE;IAEP,CAAC,CAAC;EACN;;;uCA/HWrC,wBAAwB,EAAAlJ,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,mEAAA;IAAA;EAAA;;;YAAxB0G,wBAAwB;MAAAtG,SAAA;MAAA8S,MAAA;QAAArK,IAAA;QAAAD,MAAA;QAAAgK,WAAA;MAAA;MAAA5F,QAAA,GAAAxP,kEAAA;MAAA6C,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAyT,kCAAAvT,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCXrClD,wDAAA,IAAA0W,uCAAA,iBAA8D;UAUpD1W,4DAHV,aAAyE,aAChD,aACJ,SACX,WAEc;UAAAA,oDAAA,4BAAqB;UAAIA,0DAAJ,EAAI,EAAK;UAChDA,4DAAA,QAAG;UAAAA,oDAAA,uDAAgD;UACrDA,0DADqD,EAAI,EACnD;UACNA,4DAAA,aAAkC;UAChCA,uDAAA,cACM;UAGZA,0DAFI,EAAM,EACF,EACF;UAIIA,4DAHV,cAAmG,cACrE,cACT,UACX,YAEc;UAAAA,oDAAA,iCAAyB;UAAIA,0DAAJ,EAAI,EAAK;UACpDA,4DAAA,SAAG;UAAAA,oDAAA,4CAAoC;UACzCA,0DADyC,EAAI,EACvC;UACNA,4DAAA,cAAkC;UAChCA,uDAAA,cACM;UAEVA,0DADE,EAAM,EACF;UAGEA,4DAFR,cAA4B,cACT,UACX,YAEc;UAAAA,oDAAA,8BAAsB;UAAIA,0DAAJ,EAAI,EAAK;UACjDA,4DAAA,SAAG;UAAAA,oDAAA,qDAA6C;UAClDA,0DADkD,EAAI,EAChD;UACNA,4DAAA,cAAkC;UAChCA,uDAAA,eACM;UAGZA,0DAFI,EAAM,EACF,EACF;;;UA9CuCA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAO3CvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAIhEvL,uDAAA,GAA4F;UAA5FA,wDAAA,mFAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAA4F;UAUzDA,uDAAA,GAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAI1FvL,uDAAA,GAAoG;UAApGA,wDAAA,2FAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAAoG;UAYpGA,uDAAA,GAAoG;UAApGA,wDAAA,2FAAAmD,GAAA,CAAAyD,MAAA,EAAA5G,2DAAA,CAAoG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCzD;AAInB;;;;;;;;;;;;;;;ICAxBA,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA2W,MAAA,CAAA3L,aAAA,cAA0B;;;;;IA6BhFhL,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;;;;IA6FJA,4DADF,cAA0B,aACA;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAK;IAC9DA,4DAAA,iBAAkG;IAAvCA,wDAAA,mBAAA4W,yEAAA;MAAA,MAAAC,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAAvD,OAAA,CAAc,aAAa,CAAC;IAAA,EAAC;IACnGtT,0DADoG,EAAS,EACvG;IAEJA,4DADF,cAAwB,QACnB;IAAAA,oDAAA,wbAIgG;IACrGA,0DADqG,EAAI,EACnG;IAEJA,4DADF,cAA0B,iBACyD;IAArCA,wDAAA,mBAAA+W,yEAAA;MAAA,MAAAF,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAArD,KAAA,CAAY,aAAa,CAAC;IAAA,EAAC;IAACxT,oDAAA,YAAK;IACxFA,0DADwF,EAAS,EAC3F;;;ADjIJ,MAAO+D,wBAAwB;EAWnC7C,YAAoBgK,YAA0B,EAAU/J,KAAqB,EAAUC,cAA8B,EAAU4V,YAAsB;IAAjI,KAAA9L,YAAY,GAAZA,YAAY;IAAwB,KAAA/J,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAA4V,YAAY,GAAZA,YAAY;IAV3I,KAAA5L,MAAM,GAAW,aAAa;IAC9B,KAAAgK,WAAW,GAAW,MAAM;IAC5B,KAAA/J,IAAI,GAAW,EAAE;IACjB,KAAA4L,wCAAwC,GAAW,CAAC;IACpD,KAAAC,+CAA+C,GAAW,CAAC;IAC3D,KAAAC,6BAA6B,GAAW,CAAC;IAGzC,KAAA5L,SAAS,GAAY,IAAI;EAGzB;EAEA5J,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,EAAE;MACnB;MACA,IAAI,CAACvK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;IACD,IAAI,CAACjK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,kBAAkB,EACpC,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;EAEA+I,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAGAO,UAAUA,CAAA;IACR,IAAI,CAACJ,SAAS,GAAG,IAAI;IACrB,IAAIO,aAAa,GAAQ,EAAE;IAC3B,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9BU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACpE,IAAI,CAACG,SAAS,GAAG,IAAI;IACrB,IAAI4J,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACU,yBAAyB;IACvFd,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAC3E,IAAI,IAAI,CAACuI,WAAW,IAAI,IAAI,EAAE;MAC5BD,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACC,wBAAwB;MAClFL,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IAC5E,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,IAAI,KAAK,EAAE;MACpC,IAAI,IAAI,CAAC/J,IAAI,KAAK,EAAE,IAAI,IAAI,CAACA,IAAI,KAAK,QAAQ,IAAIoH,MAAM,CAAC,IAAI,CAACpH,IAAI,CAAC,GAAG,IAAI,EAAE;QAC1E,IAAI,CAAC+L,WAAW,EAAE;QAClB,IAAI,CAAC/L,IAAI,GAAG,MAAM;MACpB;MACA8J,6BAA6B,GAAG,IAAI,CAACjK,YAAY,CAACgB,OAAO,CAACO,yBAAyB;MACnFX,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAC7E;IAEA,IAAI,CAACnB,SAAS,GAAG,IAAI;IAErB,IAAI8L,gBAAgB,GAAG,CACrB,IAAI3M,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAC3C;IACD,IAAI,IAAI,CAACT,IAAI,IAAI,QAAQ,EAAE;MACzBgM,gBAAgB,GAAG,CACjB,IAAI3M,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAC3C;IACH;IAEA,IAAIwL,mBAAmB,GAAG,IAAI,CAACpM,YAAY,CAACe,UAAU,CAACkJ,6BAA6B,EAAEkC,gBAAgB,CAAC;IAEvG,IAAIE,cAAc,GAAG,IAAI,CAACrM,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACsL,yBAAyB,EACnG,CAAC,IAAI9M,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC9B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAAC,CAAC;IAE9C,IAAI2L,gBAAgB,GAAG,IAAI,CAACvM,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACwL,oBAAoB,EAChG,CAAC,IAAIhN,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC9B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAAC,CAAC;IAE9C,IAAI6L,gBAAgB,GAAG,IAAI,CAACzM,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC0L,oBAAoB,EAChG,CAAC,IAAIlN,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC9B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAAC,CAAC;IAE9ClB,8CAAQ,CAAC,CAAC0M,mBAAmB,EAAEC,cAAc,EAAEE,gBAAgB,EAAEE,gBAAgB,CAAC,CAAC,CAAC5V,SAAS,CAAC8V,QAAQ,IAAG;MACvG,IAAI,IAAI,CAACxM,IAAI,IAAI,QAAQ,EAAE;QACzBwM,QAAQ,CAAC,CAAC,CAAC,GAAG/J,MAAM,CAACC,MAAM,CAAC8J,QAAQ,CAAC,CAAC,CAAC,CAAC7J,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAChED,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAC9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MACA4J,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,CAACvL,MAAM,CAAEY,IAAS,IAAK2K,QAAQ,CAAC,CAAC,CAAC,CAAC9K,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAC/HwM,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,CAACvL,MAAM,CAAEY,IAAS,IAAK2K,QAAQ,CAAC,CAAC,CAAC,CAAC9K,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAC/HwM,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,CAACvL,MAAM,CAAEY,IAAS,IAAK2K,QAAQ,CAAC,CAAC,CAAC,CAAC9K,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAE/H,IAAIyM,QAAQ,GAAGD,QAAQ,CAAC,CAAC,CAAC;MAC1B,IAAIN,cAAc,GAAGM,QAAQ,CAAC,CAAC,CAAC;MAChC,IAAIE,cAAc,GAAGF,QAAQ,CAAC,CAAC,CAAC;MAChC,IAAIG,aAAa,GAAGH,QAAQ,CAAC,CAAC,CAAC;MAE/B,IAAI,CAACV,6BAA6B,GAAG1I,IAAI,CAACC,KAAK,CAAC6I,cAAc,CAACtQ,MAAM,GAAG,GAAG,GAAG6Q,QAAQ,CAAC7Q,MAAM,CAAC;MAC9F,IAAI,CAACgQ,wCAAwC,GAAGxI,IAAI,CAACC,KAAK,CAACqJ,cAAc,CAAC9Q,MAAM,GAAG,GAAG,GAAG6Q,QAAQ,CAAC7Q,MAAM,CAAC;MACzG,IAAI,CAACiQ,+CAA+C,GAAGzI,IAAI,CAACC,KAAK,CAACsJ,aAAa,CAAC/Q,MAAM,GAAG,GAAG,GAAG6Q,QAAQ,CAAC7Q,MAAM,CAAC;IACjH,CAAC,EAAE8N,KAAK,IAAG;MACT3V,OAAO,CAACC,GAAG,CAAC0V,KAAK,CAAC;IACpB,CAAC,EAAE,MAAM,IAAI,CAACxJ,SAAS,GAAG,KAAK,CAAC;EAElC;EAEA6L,WAAWA,CAAA;IACT,IAAI,CAACJ,YAAY,CAACiB,IAAI,CAAC,IAAI,CAAClO,OAAO,EAAE;MAAEmO,QAAQ,EAAE;IAAI,CAAE,CAAC;EAC1D;;;uCAjHWnU,wBAAwB,EAAA/D,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,2DAAA,GAAAxC,+DAAA,CAAA0C,qEAAA,GAAA1C,+DAAA,CAAAuP,iEAAA;IAAA;EAAA;;;YAAxBxL,wBAAwB;MAAAnB,SAAA;MAAAwR,SAAA,WAAAgE,+BAAAlV,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;UCT7BlD,4DAJR,aAAuB,aACmD,aACrD,aACO,YACF;UAAAA,oDAAA,uBAAgB;UAAAA,0DAAA,EAAK;UACvCA,wDAAA,IAAAqY,sCAAA,gBAAwD;UAC1DrY,0DAAA,EAAM;UAGFA,4DAFJ,aAAsB,aACoB,oBAGoB;UADWA,8DAAA,2BAAAsY,kEAAAxI,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAkB;UAC/E9P,wDAAA,oBAAAuY,2DAAA;YAAAvY,2DAAA,CAAAuU,GAAA;YAAA,MAAAiE,SAAA,GAAAxY,yDAAA;YAAUmD,GAAA,CAAAwI,UAAA,EAAY;YAAA,OAAA3L,yDAAA,CAAAwY,SAAA,CAAAjM,KAAA,GAAApJ,GAAA,CAAAkI,IAAA;UAAA,EAA2B;UACvDrL,4DAAA,kBAA0B;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,kBAAuB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAC3BA,0DAD2B,EAAS,EAC3B;UACTA,4DAAA,kBAC0D;UAAlDA,8DAAA,2BAAA0Y,mEAAA5I,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAiS,WAAA,EAAAtF,MAAA,MAAA3M,GAAA,CAAAiS,WAAA,GAAAtF,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAyB;UAAC9P,wDAAA,oBAAA2Y,4DAAA;YAAA3Y,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAAUmD,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UACvD3L,4DAAA,kBAAoC;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAS;UACxDA,4DAAA,kBAAyB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACxCA,4DAAA,kBAA0B;UAAAA,oDAAA,eAAO;UAIzCA,0DAJyC,EAAS,EACnC,EACL,EACF,EACF;UACNA,wDAAA,KAAA4Y,wCAAA,kBAA8D;UAiB9C5Y,4DAThB,eAA2F,eACtD,eACgB,eACnB,eACiC,eAE+C,eAChF,cACH,eACe;UAAAA,oDAAA,IAA0D;UAC1FA,0DAD0F,EAAM,EAC1F;UAEJA,4DADF,cAAiB,aACgB;UAAAA,oDAAA,qBAAa;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,2CAAmC;UAAAA,0DAAA,EAAI;UAACA,oDAAA,+EAC/B;UAAAA,0DAAA,EAAI;UAC5DA,4DAAA,cAAuB;UAAAA,oDAAA,gBAAQ;UAIvCA,0DAJuC,EAAK,EAChC,EACF,EACF,EACF;UAIJA,4DAHF,eAE4C,eACd;UAC1BA,uDAAA,gCAAwH;UAKlIA,0DAJQ,EAAM,EACF,EACF,EACF,EACF;UASQA,4DARd,eAAmC,eACuB,eAC1B,eACsB,eAEmD,eACzE,cACH,eACe;UAAAA,oDAAA,IAAmD;UACnFA,0DADmF,EAAM,EACnF;UAEJA,4DADF,cAAiB,aACgB;UAAAA,oDAAA,qBAAa;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,oDAA4C;UAAAA,0DAAA,EAAI;UAACA,oDAAA,mDAC9F;UAAAA,uDAAA,UAAI;UACNA,0DAAA,EAAI;UAEJA,4DAAA,cAAuB;UAAAA,oDAAA,aAAK;UAIpCA,0DAJoC,EAAK,EAC7B,EACF,EACF,EACF;UAGJA,4DAFF,eACmD,eACrB;UAC1BA,uDAAA,6BAAkH;UAK5HA,0DAJQ,EAAM,EACF,EACF,EACF,EACF;UAUQA,4DATd,eAAmC,eACiB,eACpB,eACoC,eAGX,eACzB,cACH,eACe;UAAAA,oDAAA,IAAkC;UAClEA,0DADkE,EAAM,EAClE;UAEJA,4DADF,cAAiB,aACgB;UAAAA,oDAAA,qBAAa;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,4DAAoD;UAAAA,0DAAA,EAAI;UAACA,oDAAA,kDAAyC;UAAAA,0DAAA,EAAI;UACrJA,4DAAA,cAAuB;UAAAA,oDAAA,mBAAW;UAI1CA,0DAJ0C,EAAK,EACnC,EACF,EACF,EACF;UAGJA,4DAFF,eAC0F,eAC5D;UAC1BA,uDAAA,iCAA0H;UAOxIA,0DANY,EAAM,EACF,EACF,EACF,EACF,EACF,EACF;UAGNA,wDAAA,KAAA6Y,gDAAA,iCAAA7Y,oEAAA,CAAgC;UAgBhCA,4DAAA,gBAA+C;UAC7CA,uDAAA,sBAE+E;UAEnFA,0DADE,EAAM,EACF;;;UAhJ0BA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAKiBpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAa/ErL,uDAAA,IAAyB;UAAzBA,8DAAA,YAAAmD,GAAA,CAAAiS,WAAA,CAAyB;UACvBpV,uDAAA,EAAkB;UAAlBA,wDAAA,mBAAkB;UAClBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAiB;UAAjBA,wDAAA,kBAAiB;UAKYA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAQzBvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAS5CvL,uDAAA,GAA0D;UAA1DA,gEAAA,WAAAmD,GAAA,CAAA+T,+CAAA,MAA0D;UActElX,uDAAA,IAAkB;UAAkCA,wDAApD,SAAAmD,GAAA,CAAAkI,IAAA,CAAkB,gBAAAlI,GAAA,CAAAiS,WAAA,CAAiC,WAAAjS,GAAA,CAAAiI,MAAA,CAAuB;UAc9DpL,uDAAA,GAAmD;UAAnDA,gEAAA,WAAAmD,GAAA,CAAA8T,wCAAA,MAAmD;UAelEjX,uDAAA,IAAkB;UAAkCA,wDAApD,SAAAmD,GAAA,CAAAkI,IAAA,CAAkB,gBAAAlI,GAAA,CAAAiS,WAAA,CAAiC,WAAAjS,GAAA,CAAAiI,MAAA,CAAuB;UAe3DpL,uDAAA,GAAkC;UAAlCA,gEAAA,KAAAmD,GAAA,CAAAgU,6BAAA,MAAkC;UAY7CnX,uDAAA,IAAkB;UAAkCA,wDAApD,SAAAmD,GAAA,CAAAkI,IAAA,CAAkB,gBAAAlI,GAAA,CAAAiS,WAAA,CAAiC,WAAAjS,GAAA,CAAAiI,MAAA,CAAuB;UA2BlGpL,uDAAA,GAAiB;UAEjBA,wDAFA,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,+BAA+B,yCACR,aAAAjI,GAAA,CAAAoI,SAAA,mCACe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClJtE;AACoG;AAK/C;AACJ;;;;;;;;;;ICHjCvL,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA+K,MAAA,CAAAC,aAAA,cAA0B;;;ADU5F,MAAO3G,8BAA8B;EACzC2G,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EASAlK,YAAoBgK,YAA0B,EAAU/J,KAAqB,EACnEC,cAA8B,EAAU+J,YAA2B;IADzD,KAAAD,YAAY,GAAZA,YAAY;IAAwB,KAAA/J,KAAK,GAALA,KAAK;IACnD,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAA+J,YAAY,GAAZA,YAAY;IAR9D,KAAAC,MAAM,GAAW,aAAa;IAC9B,KAAAC,IAAI,GAAoB,EAAE;IAC1B,KAAAV,yBAAyB,GAAGA,iFAAyB;IACrD,KAAAa,eAAe,GAAG,EAAE;IACpB,KAAAC,UAAU,GAAG,CAAC;IACd,KAAAF,SAAS,GAAG,IAAI;EAIhB;EAGA5J,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,EAAE;MACnB;MACA,IAAI,CAACvK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;IACD,IAAI,CAACjK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,yBAAyB,EAC3C,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;EAEA0J,UAAUA,CAAA;IACR,IAAIG,aAAa,GAAG,IAAI,CAACZ,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC;IAElE,MAAMY,sBAAsB,GAAG,IAAI,CAACd,YAAY,CAACe,UAAU,CACzD,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACC,wBAAwB,EAAE,CACpD,IAAIzB,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,+DAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC,CAACC,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACnI;IAED,MAAMC,uBAAuB,GAAG,IAAI,CAACtB,YAAY,CAACe,UAAU,CAC1D,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACO,yBAAyB,EAAE,CACrD,IAAI/B,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,+DAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC,CAACJ,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACpI;IAED,MAAMI,mBAAmB,GAAG,IAAI,CAACzB,YAAY,CAACe,UAAU,CACtD,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACU,yBAAyB,EAAE,CACrD,IAAIlC,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,+DAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAACP,MAAM,CAACC,KAAK,IAAIA,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CACpI;IAED,IAAIuM,QAAQ,GAAsB,EAAE;IACpCA,QAAQ,CAAC5D,IAAI,CAAClJ,sBAAsB,CAAC;IACrC8M,QAAQ,CAAC5D,IAAI,CAAC1I,uBAAuB,CAAC;IACtCsM,QAAQ,CAAC5D,IAAI,CAACvI,mBAAmB,CAAC;IAElC,KAAK,IAAIG,MAAM,IAAInC,iFAAyB,EAAE;MAC5CmO,QAAQ,CAAC5D,IAAI,CACX,IAAI,CAAChK,YAAY,CAACe,UAAU,CAACa,MAAM,CAAC,IAAI,CAAC,EAAE,CACzC,IAAIpC,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAEoC,MAAM,CAAC,cAAc,CAAC,CAAC,EAC3C,IAAIpC,+DAAM,CAAC,eAAe,EAAE,CAACoB,aAAa,EAAE,IAAI,CAACZ,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC,CAACP,MAAM,CAACC,KAAK,IAAIA,KAAK,KAAK,EAAE,CAAC,CAAC,CACpI,CAACD,MAAM,CAACY,IAAI,IAAIA,IAAI,CAACX,KAAK,KAAK,QAAQ,CAAC,CAAC,CAC3C;IACH;IAEA3B,8CAAQ,CAACkO,QAAQ,CAAC,CACfrL,IAAI,CAAC5C,yCAAG,CAAEkO,SAAc,IAAI;MAC3B3Z,OAAO,CAACC,GAAG,CAAC0Z,SAAS,CAAC;MACtB,IAAIpK,OAAO,GAAQ,EAAE;MACrB,IAAI,IAAI,CAACtD,IAAI,IAAI,QAAQ,EAAE;QACzB0N,SAAS,CAAC,CAAC,CAAC,GAAGjL,MAAM,CAACC,MAAM,CAACgL,SAAS,CAAC,CAAC,CAAC,CAAC/K,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAClED,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAC9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MAEA,KAAK,IAAIjH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+R,SAAS,CAAC9R,MAAM,EAAED,CAAC,EAAE,EAAE;QACzC,IAAIoH,QAAQ,GAAG2K,SAAS,CAAC/R,CAAC,CAAC,CAACgH,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAS,KAAI;UAC3D,IAAI6L,SAAS,CAAC,CAAC,CAAC,CAACzK,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;YACrF,OAAOgD,KAAK,GAAG,CAAC;UAClB;UACA,OAAOA,KAAK;QACd,CAAC,EAAE,CAAC,CAAC;QACL,IAAIE,SAAS,GAAGwK,SAAS,CAAC/R,CAAC,CAAC,CAACgH,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAS,KAAI;UAC5D,IAAI6L,SAAS,CAAC,CAAC,CAAC,CAACzK,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;YACrF,OAAOgD,KAAK,GAAG,CAAC;UAClB;UACA,OAAOA,KAAK;QACd,CAAC,EAAE,CAAC,CAAC;QACL,IAAIG,KAAK,GAAGuK,SAAS,CAAC/R,CAAC,CAAC,CAACgH,MAAM,CAAC,CAACK,KAAU,EAAEnB,IAAS,KAAI;UACxD,IAAI6L,SAAS,CAAC,CAAC,CAAC,CAACzK,IAAI,CAAEJ,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,KAAK6B,IAAI,CAAC7B,IAAI,CAAC,EAAE;YACrF,OAAOgD,KAAK,GAAG,CAAC;UAClB;UACA,OAAOA,KAAK;QACd,CAAC,EAAE,CAAC,CAAC;QAELM,OAAO,CAACuG,IAAI,CAAC;UACX,KAAK,EAAEvK,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC;UAChD,OAAO,EAAEyH,IAAI,CAACC,KAAK,CAACN,QAAQ,GAAG,GAAG,GAAG2K,SAAS,CAAC,CAAC,CAAC,CAAC9R,MAAM,CAAC;UACzD,UAAU,EAAE,IAAI;UAChB,OAAO,EAAE0D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,kBAAkB,CAAC;UAC7D,UAAU,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC;UACxD,WAAW,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG;SAC1F,CAAC;QAEF2H,OAAO,CAACuG,IAAI,CAAC;UACX,KAAK,EAAEvK,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC;UAChD,OAAO,EAAEyH,IAAI,CAACC,KAAK,CAACH,SAAS,GAAG,GAAG,GAAGwK,SAAS,CAAC,CAAC,CAAC,CAAC9R,MAAM,CAAC;UAC1D,UAAU,EAAE,KAAK;UACjB,OAAO,EAAE0D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,kBAAkB,CAAC;UAC7D,UAAU,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC;UACxD,WAAW,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG;SAC1F,CAAC;QAEF2H,OAAO,CAACuG,IAAI,CAAC;UACX,KAAK,EAAEvK,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC;UAChD,OAAO,EAAEyH,IAAI,CAACC,KAAK,CAACF,KAAK,GAAG,GAAG,GAAGuK,SAAS,CAAC,CAAC,CAAC,CAAC9R,MAAM,CAAC;UACtD,UAAU,EAAE,MAAM;UAClB,OAAO,EAAE0D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,kBAAkB,CAAC;UAC7D,UAAU,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC;UACxD,WAAW,EAAE2D,iFAAyB,CAAC3D,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,gBAAgB,GAAG,KAAK,GAAG;SAC1F,CAAC;MACJ;MACA,OAAO2H,OAAO;IAChB,CAAC,CAAC,CAAC,CACF5M,SAAS,CAAC;MACTlE,IAAI,EAAG8Q,OAAO,IAAI;QAChB,IAAI,CAACxD,YAAY,CAAC6N,cAAc,CAAC,EAAE,EAAE,cAAc,EAAErK,OAAO,EAAE,EAAE,EAAE;UAAEO,QAAQ,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAI,CAAE,CAAC;MACvG,CAAC;MACDC,QAAQ,EAAEA,CAAA,KAAK;QACb,IAAI,CAAC7D,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACN;;;uCA5IWlH,8BAA8B,EAAArE,+DAAA,CAAAsC,wEAAA,GAAAtC,+DAAA,CAAAwC,2DAAA,GAAAxC,+DAAA,CAAA0C,4EAAA,GAAA1C,+DAAA,CAAAuP,0EAAA;IAAA;EAAA;;;YAA9BlL,8BAA8B;MAAAzB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAiW,wCAAA/V,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCX3BlD,4DAJhB,aAAuB,aAC8C,aAC5C,aACS,YACA;UAAAA,oDAAA,8BAAuB;UAAAA,0DAAA,EAAK;UAC9CA,wDAAA,IAAAkZ,4CAAA,gBAAwD;UAC5DlZ,0DAAA,EAAM;UAEFA,4DADJ,aAAsB,gBAGU;UADqCA,8DAAA,2BAAAmZ,wEAAArJ,MAAA;YAAA9P,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAkB;UAC/E9P,wDAAA,oBAAAoZ,iEAAA;YAAA,OAAUjW,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UACvB3L,4DAAA,gBAAgC;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAClDA,4DAAA,iBAA6B;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAErCA,0DAFqC,EAAS,EACjC,EACP;UAGEA,4DAFR,eAA8B,eACH,aAC4B;UAAAA,oDAAA,8NAI7B;UAE1BA,0DAF0B,EAAI,EACpB,EACJ;UAEFA,4DADJ,eAAiD,eACe;UACxDA,uDAAA,eAAkD;UAG9DA,0DAFQ,EAAM,EACJ,EACJ,EAnCuD,EAD9C;;;UAKiBA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAIWpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAEvErL,uDAAA,EAAc;UAAdA,wDAAA,eAAc;UACdA,uDAAA,GAAoB;UAApBA,wDAAA,qBAAoB;UACpBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBS;AAIhB;;;;;;;;;;;;;;ICFrBA,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA2W,MAAA,CAAA3L,aAAA,cAA0B;;;;;IA6B9EhL,4DAHZ,cAA8D,cACR,cACoB,eACxC;IAAAA,oDAAA,iBAAU;IAG5CA,0DAH4C,EAAO,EACrC,EACJ,EACJ;;;;;;IA2BFA,4DADJ,cAA0B,aACE;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAK;IAC9DA,4DAAA,iBAAkG;IAAvCA,wDAAA,mBAAAqZ,yEAAA;MAAA,MAAAxC,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAAvD,OAAA,CAAc,aAAa,CAAC;IAAA,EAAC;IACrGtT,0DADsG,EAAS,EACzG;IAEFA,4DADJ,cAAwB,QACjB;IAAAA,oDAAA,wbAOkG;IACzGA,0DADyG,EAAI,EACvG;IAEFA,4DADJ,cAA0B,iBAC2D;IAArCA,wDAAA,mBAAAsZ,yEAAA;MAAA,MAAAzC,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAArD,KAAA,CAAY,aAAa,CAAC;IAAA,EAAC;IAACxT,oDAAA,YAAK;IAC1FA,0DAD0F,EAAS,EAC7F;;;AD/DR,MAAOmE,wBAAwB;EAWnCjD,YAAoBgK,YAA0B,EAAU8L,YAAsB,EACpE7V,KAAqB,EAAUC,cAA8B,EAAUqP,aAA4B;IADzF,KAAAvF,YAAY,GAAZA,YAAY;IAAwB,KAAA8L,YAAY,GAAZA,YAAY;IAC1D,KAAA7V,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAqP,aAAa,GAAbA,aAAa;IAX9F,KAAArF,MAAM,GAAW,aAAa;IAE9B,KAAAU,aAAa,GAAa,EAAE;IAE5B,KAAAP,SAAS,GAAY,KAAK;IAC1B,KAAAF,IAAI,GAAW,EAAE;IACjB,KAAA+J,WAAW,GAAW,MAAM;IAC5B,KAAAmE,aAAa,GAAW,GAAG;EAM3B;EAEA5X,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,CAAC,IAAI,CAACN,IAAI,CAAC;MAC5B;MACA,IAAI,CAACjK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;EACH;EAEAJ,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAEAO,UAAUA,CAACmE,MAAW;IACpB,IAAI,CAACvE,SAAS,GAAG,IAAI;IAErB,IAAI,CAACO,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI,IAAI,CAACgK,WAAW,KAAK,IAAI,EAAE;MAC7B,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,KAAK,KAAK,EAAE;MACrC,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF,CAAC,MAAM;MACL,IAAI,CAACZ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAClF;IAEA,IAAI,IAAI,CAACuI,WAAW,KAAK,MAAM,EAAE;MAC/B,IAAI,CAACoE,WAAW,CAAC,IAAI,CAACtO,YAAY,CAACgB,OAAO,CAACuN,sBAAsB,EAC/D,IAAI,CAACvO,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CACnD;MACD,OAAO5J,MAAM;IACf,CAAC,MACI,IAAI,IAAI,CAACsF,WAAW,KAAK,IAAI,EAAE;MAClC,IAAI,CAACoE,WAAW,CAAC,IAAI,CAACtO,YAAY,CAACgB,OAAO,CAACyN,yBAAyB,EAClE,IAAI,CAACzO,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CACnD;MACD,OAAO5J,MAAM;IACf,CAAC,MACI;MACH,IAAI,IAAI,CAACzE,IAAI,KAAK,EAAE,IAAI,IAAI,CAACA,IAAI,KAAK,QAAQ,IAAIoH,MAAM,CAAC,IAAI,CAACpH,IAAI,CAAC,GAAG,IAAI,EAAE;QAC1E,IAAI,CAAC+L,WAAW,EAAE;QAClB,IAAI,CAAC/L,IAAI,GAAG,MAAM;MACpB;MACA,IAAI,CAACmO,WAAW,CAAC,IAAI,CAACtO,YAAY,CAACgB,OAAO,CAAC0N,0BAA0B,EACnE,IAAI,CAAC1O,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CACnD;MACD,OAAO,IAAI,CAACrO,IAAI;IAClB;EACF;EAEAmO,WAAWA,CAACK,0BAAkC,EAAEC,2BAAmC;IACjF;IACA,IAAI,CAACvO,SAAS,GAAG,IAAI;IAErB,IAAIwO,eAAe,GAAG,CAAC,KAAK,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,oBAAoB,EAAE,eAAe,EAAE,oBAAoB,EAAE,iBAAiB,CAAC;IACxJ,IAAI1C,gBAAgB,GAAG,CACrB,IAAI3M,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAEqP,eAAe,CAAC,EACpC,IAAIrP,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD;IACD,IAAI,IAAI,CAACT,IAAI,IAAI,QAAQ,EAAE;MACzBgM,gBAAgB,GAAG,CACjB,IAAI3M,+DAAM,CAAC,OAAO,EAAEqP,eAAe,CAAC,EACpC,IAAIrP,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD;IACH;IACA,MAAMgM,QAAQ,GAAG,IAAI,CAAC5M,YAAY,CAACe,UAAU,CAAC4N,0BAA0B,EAAExC,gBAAgB,CAAC;IAE3F,MAAM2C,aAAa,GAAG,IAAI,CAAC9O,YAAY,CAACe,UAAU,CAAC6N,2BAA2B,EAC5E,CACE,IAAIpP,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAEqP,eAAe,CAAC,EACpC,IAAIrP,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD,CAAC;IAGJ,MAAMmO,YAAY,GAAQ;MACxB,KAAK,EAAE,0DAA0D;MACjE,kBAAkB,EAAE,mDAAmD;MACvE,qBAAqB,EAAE,6EAA6E;MACpG,oBAAoB,EAAE,oEAAoE;MAC1F,eAAe,EAAE,0CAA0C;MAC3D,oBAAoB,EAAE,4DAA4D;MAClF,iBAAiB,EAAE;KACpB;IAEDrP,8CAAQ,CAAC,CAACkN,QAAQ,EAAEkC,aAAa,CAAC,CAAC,CAChCvM,IAAI,CAAC5C,yCAAG,CAAC,CAAC,CAACqP,iBAAiB,EAAEC,sBAAsB,CAAC,KAAI;MACxD,IAAI,IAAI,CAAC9O,IAAI,IAAI,QAAQ,EAAE;QACzB6O,iBAAiB,GAAGpM,MAAM,CAACC,MAAM,CAACmM,iBAAiB,CAAClM,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC5ED,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MACAkM,sBAAsB,GAAGA,sBAAsB,CAAC7N,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAE3J,IAAI0C,MAAM,GAAU,EAAE;MACtB,IAAI,CAACqM,uBAAuB,GAAG3L,IAAI,CAACC,KAAK,CAAEyL,sBAAsB,CAAClT,MAAM,GAAI,GAAG,GAAGiT,iBAAiB,CAACjT,MAAM,CAAC;MAC3G8G,MAAM,CAACmH,IAAI,CAAC;QACV,UAAU,EAAE,gDAAgD;QAC5D,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,CAAC;QACT,QAAQ,EAAE,MAAM;QAChB,cAAc,EAAE,IAAI,CAACkF;OACtB,CAAC;MACF,KAAK,IAAIpT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+S,eAAe,CAAC9S,MAAM,EAAED,CAAC,EAAE,EAAE;QAC/C+G,MAAM,CAACmH,IAAI,CAAC;UACV,UAAU,EAAE6E,eAAe,CAAC/S,CAAC,CAAC,IAAI,KAAK,GAAG,gBAAgB,GAAG+S,eAAe,CAAC/S,CAAC,CAAC;UAC/E,OAAO,EAAE,CAAC;UACV,MAAM,EAAEA,CAAC,GAAG,CAAC;UACb,QAAQ,EAAE,OAAO;UACjB,KAAK,EAAE;SACR,CAAC;MACJ;MAEA,IAAIqT,IAAI,GAAQ;QACd,KAAK,EAAE,CAAC;QACR,kBAAkB,EAAE,CAAC;QACrB,qBAAqB,EAAE,CAAC;QACxB,oBAAoB,EAAE,CAAC;QACvB,eAAe,EAAE,CAAC;QAClB,oBAAoB,EAAE,CAAC;QACvB,iBAAiB,EAAE;OACpB;MACD,KAAK,IAAIrT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmT,sBAAsB,CAAClT,MAAM,EAAED,CAAC,EAAE,EAAE;QACtD,IAAIsT,OAAO,GAAGH,sBAAsB,CAACnT,CAAC,CAAC,CAAC,OAAO,CAAC,CAACD,KAAK,CAAC,IAAI,CAAC;QAC5D,KAAK,IAAIwT,MAAM,IAAID,OAAO,EAAE;UAC1BD,IAAI,CAACE,MAAM,CAAC,GAAGF,IAAI,CAACE,MAAM,CAAC,GAAG,CAAC;QACjC;MACF;MACA,KAAK,IAAIhO,KAAK,IAAIwN,eAAe,EAAE;QACjChM,MAAM,CAACmH,IAAI,CAAC;UACV,QAAQ,EAAE,gDAAgD;UAC1D,aAAa,EAAE3I,KAAK,IAAI,KAAK,GAAE,gBAAgB,GAAGA,KAAK;UACvD,aAAa,EAAE0N,YAAY,CAAC1N,KAAK,CAAC;UAClC,OAAO,EAAEkC,IAAI,CAACC,KAAK,CAAC2L,IAAI,CAAC9N,KAAK,CAAC,GAAG,GAAG,GAAG4N,sBAAsB,CAAClT,MAAM;SACtE,CAAC;MACJ;MACA,OAAO;QACL,WAAW,EAAEwH,IAAI,CAACC,KAAK,CAAEyL,sBAAsB,CAAClT,MAAM,GAAI,GAAG,GAAGiT,iBAAiB,CAACjT,MAAM,CAAC;QACzF,QAAQ,EAAE8G;OACX;IACH,CAAC,CAAC,CAAC,CACFhM,SAAS,CAAC;MACTlE,IAAI,EAAG8Q,OAAO,IAAI;QAChB,IAAI,CAAC6L,SAAS,GAAG7L,OAAO,CAAC6L,SAAS;QAElC,IAAI,CAAC/J,aAAa,CAACgK,gBAAgB,CAC/B,kBAAkB,EAClB9L,OAAO,CAACZ,MAAM,EACd;UAAEmB,QAAQ,EAAE,KAAK;UACjBC,OAAO,EAAE;QAAK,CAAC,CAClB;MACH,CAAC;MACDC,QAAQ,EAAEA,CAAA,KAAK;QACb,IAAI,CAAC7D,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACN;EAEA6L,WAAWA,CAAA;IACT,IAAI,CAACJ,YAAY,CAACiB,IAAI,CAAC,IAAI,CAAClO,OAAO,EAAE;MAAEmO,QAAQ,EAAE;IAAI,CAAE,CAAC;EAC1D;;;uCAvLW/T,wBAAwB,EAAAnE,+DAAA,CAAAsC,wEAAA,GAAAtC,+DAAA,CAAAwC,gEAAA,GAAAxC,+DAAA,CAAA0C,2DAAA,GAAA1C,+DAAA,CAAAuP,4EAAA,GAAAvP,+DAAA,CAAA0a,0EAAA;IAAA;EAAA;;;YAAxBvW,wBAAwB;MAAAvB,SAAA;MAAAwR,SAAA,WAAAuG,+BAAAzX,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;UCZrBlD,4DAJhB,aAAuB,aAC2C,aACzC,aACmB,YACV;UAAAA,oDAAA,8CAAuC;UAAAA,0DAAA,EAAK;UAC9DA,wDAAA,IAAA4a,sCAAA,gBAAwD;UAC5D5a,0DAAA,EAAM;UAGEA,4DAFR,aAA+B,aACa,oBAGuC;UAAvEA,8DAAA,2BAAA6a,kEAAA/K,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAkB;UAAC9P,wDAAA,2BAAA6a,kEAAA/K,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAA,MAAAiE,SAAA,GAAAxY,yDAAA;YAAA,OAAAA,yDAAA,CAAAwY,SAAA,CAAAjM,KAAA,GAAgCpJ,GAAA,CAAAwI,UAAA,CAAAmE,MAAA,CAAkB;UAAA,EAAC;UACtE9P,4DAAA,kBAA0B;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,kBAAuB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAC7BA,0DAD6B,EAAS,EAC7B;UACTA,4DAAA,kBAC4D;UAAxDA,8DAAA,2BAAA8a,mEAAAhL,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAiS,WAAA,EAAAtF,MAAA,MAAA3M,GAAA,CAAAiS,WAAA,GAAAtF,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAyB;UAAC9P,wDAAA,oBAAA+a,4DAAAjL,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAAUmD,GAAA,CAAAwI,UAAA,CAAAmE,MAAA,CAAkB;UAAA,EAAC;UACvD9P,4DAAA,kBAAoC;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAS;UACxDA,4DAAA,kBAAyB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACxCA,4DAAA,kBAA0B;UAAAA,oDAAA,eAAO;UAIjDA,0DAJiD,EAAS,EACrC,EACP,EACJ,EACJ;UACNA,wDAAA,KAAAgb,wCAAA,kBAA8D;UAUlDhb,4DAHZ,eAA0F,eAClC,eAC5B,aAC+B;UAAAA,oDAAA,6EAE9B;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,yBAAiB;UAAAA,0DAAA,EAAI;UAACA,oDAAA,aACtC;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,iCACuB;UAAAA,0DAAA,EAAI;UAAAA,oDAAA,IAIlC;;UAERA,0DAFQ,EAAI,EACF,EACJ;UAGkCA,4DAFxC,eAAgD,eACtB,cACc,gBAAiB;UAAAA,oDAAA,IAA8C;;UAAAA,0DAAA,EAAO;UAAAA,uDAAA,UAAI;UAACA,oDAAA,wFAA+E;UAC9LA,0DAD8L,EAAK,EAC7L;UACNA,4DAAA,eAAsB;UAClBA,uDAAA,eAAsD;UAItEA,0DAHY,EAAM,EACJ,EACJ,EACJ;UACNA,wDAAA,KAAAib,gDAAA,iCAAAjb,oEAAA,CAAgC;UAmBhCA,4DAAA,eAA8C;UAC1CA,uDAAA,qBACyG;UAEjHA,0DADI,EAAM,EACJ;;;UAhFkCA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAM9CpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAYlBrL,uDAAA,IAAyB;UAAzBA,8DAAA,YAAAmD,GAAA,CAAAiS,WAAA,CAAyB;UACjBpV,uDAAA,EAAkB;UAAlBA,wDAAA,mBAAkB;UAClBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAiB;UAAjBA,wDAAA,kBAAiB;UAKIA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAO1BvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAO3CvL,uDAAA,IAIlC;UAJkCA,gEAAA,YAAAA,yDAAA,SAAAmD,GAAA,CAAAqX,SAAA,kKAIlC;UAKiDxa,uDAAA,GAA8C;UAA9CA,+DAAA,CAAAA,yDAAA,SAAAmD,GAAA,CAAAiX,uBAAA,EAA8C;UA4BhGpa,uDAAA,GAAiB;UACSA,wDAD1B,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,+BAA+B,2CAA2C,iCAClE,aAAAjI,GAAA,CAAAoI,SAAA,mCAAwD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IE1E5FvL,4DADF,aAAyD,WACgB;IAGrEA,oDAAA,mBAAW;IAAAA,0DAAA,EAAI;IACjBA,4DAAA,WAE2F;IAAAA,oDAAA,GACzC;IACpDA,0DADoD,EAAI,EAClD;;;;IAHDA,uDAAA,GAAmI;IAAnIA,mEAAA,kFAAA+K,MAAA,CAAAe,aAAA,mBAAAf,MAAA,CAAAe,aAAA,YAAA9L,2DAAA,CAAmI;IACnIA,mEAAA,mEAAA+K,MAAA,CAAAe,aAAA,UAAuF;IAAC9L,uDAAA,EACzC;IADyCA,gEAAA,cAAA+K,MAAA,CAAAe,aAAA,oCACzC;;;ADPpD,MAAOnD,4BAA4B;EAMvCzH,YAAoBE,cAA8B,EAAU8J,YAA0B,EAAUiQ,EAAqB;IAAjG,KAAA/Z,cAAc,GAAdA,cAAc;IAA0B,KAAA8J,YAAY,GAAZA,YAAY;IAAwB,KAAAiQ,EAAE,GAAFA,EAAE;IAJlG,KAAA/P,MAAM,GAAkB,aAAa;IACrC,KAAAU,aAAa,GAAW,EAAE;IAC1B,KAAAsP,IAAI,GAAkB,WAAW;EAGjC;EAEAzZ,QAAQA,CAAA;IACN,IAAI,CAACP,cAAc,CAACwK,SAAS,EAAE,CAAC7J,SAAS,CAACqJ,MAAM,IAAG;MACjD,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpB,IAAI,CAACU,aAAa,GAAG,IAAI,CAACZ,YAAY,CAACa,eAAe,CAACX,MAAM,CAAC;IAEhE,CAAC,CAAC;EACJ;EAEAiQ,eAAeA,CAAA;IACb,IAAI,CAACja,cAAc,CAACc,OAAO,EAAE,CAACH,SAAS,CAACE,IAAI,IAAG;MAC7C,IAAI,CAACmZ,IAAI,GAAGnZ,IAAI;IAClB,CAAC,EAAE8S,KAAK,IAAG,CACX,CAAC,EAAE,MAAK;MACN,IAAI,CAACoG,EAAE,CAACG,aAAa,EAAE;IACzB,CAAC,CAAC;EAEJ;;;uCAzBW3S,4BAA4B,EAAA3I,+DAAA,CAAAsC,qEAAA,GAAAtC,+DAAA,CAAAwC,iEAAA,GAAAxC,+DAAA,CAAAA,4DAAA;IAAA;EAAA;;;YAA5B2I,4BAA4B;MAAA/F,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAwY,sCAAAtY,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCPrClD,4DAFJ,aAAmB,aAC0C,YAClC;UAAAA,oDAAA,wBAAiB;UAAAA,0DAAA,EAAK;UAE3CA,4DADF,aAAsB,aACO;UACzBA,oDAAA,4FACF;UAAAA,0DAAA,EAAM;UAENA,wDAAA,IAAAyb,2CAAA,iBAAyD;UAY/Dzb,0DAFI,EAAM,EACF,EACF;;;UAZ6BA,uDAAA,GAA0B;UAA1BA,wDAAA,SAAAmD,GAAA,CAAAiY,IAAA,iBAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNV;AACQ;AAKZ;AACuB;;;;;;;;;;;;;;;;ICJ9Dpb,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA2W,MAAA,CAAA3L,aAAA,cAA0B;;;;;IA8BhFhL,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;;;IAKsDA,4DAAA,WAAoC;IAAAA,oDAAA,gDAChE;IAAAA,0DAAA,EAAO;;;;;IAAAA,4DAAA,WAAoC;IAAAA,oDAAA,GACtD;IAAAA,0DAAA,EAAO;;;;IAD+CA,uDAAA,EACtD;IADsDA,gEAAA,SAAA2W,MAAA,CAAAvB,WAAA,CAAAuG,WAAA,0BACtD;;;;;;IA+FnB3b,4DADF,cAA0B,aACA;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAK;IAC9DA,4DAAA,iBAAkG;IAAvCA,wDAAA,mBAAA4b,6EAAA;MAAA,MAAA/E,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAAvD,OAAA,CAAc,aAAa,CAAC;IAAA,EAAC;IACnGtT,0DADoG,EAAS,EACvG;IAEJA,4DADF,cAAwB,QACnB;IAAAA,oDAAA,wbAIgG;IACrGA,0DADqG,EAAI,EACnG;IAEJA,4DADF,cAA0B,iBACyD;IAArCA,wDAAA,mBAAA6b,6EAAA;MAAA,MAAAhF,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAArD,KAAA,CAAY,aAAa,CAAC;IAAA,EAAC;IAACxT,oDAAA,YAAK;IACxFA,0DADwF,EAAS,EAC3F;;;ADvIJ,MAAO6D,2BAA2B;EAwBtC3C,YAAoBgK,YAA0B,EAAU8L,YAAsB,EACpE7V,KAAqB,EAAUC,cAA8B,EAAUqP,aAA4B,EACnGqL,YAAmB,EAAUC,IAAU;IAF7B,KAAA7Q,YAAY,GAAZA,YAAY;IAAwB,KAAA8L,YAAY,GAAZA,YAAY;IAC1D,KAAA7V,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAqP,aAAa,GAAbA,aAAa;IACpF,KAAAqL,YAAY,GAAZA,YAAY;IAAiB,KAAAC,IAAI,GAAJA,IAAI;IAzB3C,KAAA3Q,MAAM,GAAW,aAAa;IAC9B,KAAAU,aAAa,GAAa,EAAE;IAU5B,KAAAT,IAAI,GAAW,EAAE;IACjB,KAAA+J,WAAW,GAAW,MAAM;IAC5B,KAAA7J,SAAS,GAAY,KAAK;IAE1B,KAAAyQ,gCAAgC,GAAW,GAAG;IAC9C,KAAAC,iCAAiC,GAAW,GAAG;IAC/C,KAAAC,yBAAyB,GAAW,GAAG;IACvC,KAAAC,2BAA2B,GAAW,GAAG;IACzC,KAAAC,sBAAsB,GAAW,GAAG;IACpC,KAAAC,kBAAkB,GAAW,GAAG;IAChC,KAAA9C,aAAa,GAAW,GAAG;EAM3B;EAEA5X,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,CAAC,IAAI,CAACN,IAAI,CAAC;MAC5B;MACA,IAAI,CAACjK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;IACD,IAAI,CAACjK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,cAAc,EAAE;QAClC,IAAI,CAAC6Z,YAAY,CAACQ,QAAQ,CAAC,iCAAiC,CAAC;QAC7D,IAAI,CAACP,IAAI,CAACQ,SAAS,CAAC;UAClBnV,IAAI,EAAE,UAAU;UAChB2C,OAAO,EAAE;SACV,CAAC;QACF,IAAI,CAACgS,IAAI,CAACQ,SAAS,CAAC;UAClBnV,IAAI,EAAE,eAAe;UACrB2C,OAAO,EAAE;SACV,CAAC;QACF,IAAI,CAAC3I,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;MACjD,CAAC,MAAM;QACL,IAAI,CAAC6Z,YAAY,CAACQ,QAAQ,CAAC,mBAAmB,CAAC;QAC/C,IAAI,CAACP,IAAI,CAACQ,SAAS,CAAC;UAClBnV,IAAI,EAAE,aAAa;UACnB2C,OAAO,EAAE;SACV,CAAC;QACF,IAAI,CAACgS,IAAI,CAACQ,SAAS,CAAC;UAClBnV,IAAI,EAAE,gBAAgB;UACtB2C,OAAO,EAAE;SACV,CAAC;QACF,IAAI,CAACgS,IAAI,CAACQ,SAAS,CAAC;UAClBnV,IAAI,EAAE,qBAAqB;UAC3B2C,OAAO,EAAE;SACV,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAEAiB,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAEAO,UAAUA,CAACmE,MAAW;IACpB,IAAI,CAACvE,SAAS,GAAG,IAAI;IACrB,IAAI,CAACiR,0BAA0B,GAAG,CAAC;IAEnC,IAAI,CAAC1Q,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI,IAAI,CAACgK,WAAW,KAAK,IAAI,EAAE;MAC7B,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,KAAK,KAAK,EAAE;MACrC,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF,CAAC,MAAM;MACL,IAAI,CAACZ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAClF;IAEA,IAAI,IAAI,CAACuI,WAAW,KAAK,MAAM,EAAE;MAC/B,IAAI,CAACqH,wBAAwB,CAC3B,IAAI,CAACvR,YAAY,CAACgB,OAAO,CAACuN,sBAAsB,EAChD,IAAI,CAACvO,YAAY,CAACgB,OAAO,CAACU,yBAAyB,EACnD,IAAI,CAAC1B,YAAY,CAACgB,OAAO,CAACwQ,2BAA2B,EACrD,IAAI,CAACxR,YAAY,CAACgB,OAAO,CAACsL,yBAAyB,EACnD,IAAI,CAACtM,YAAY,CAACgB,OAAO,CAACyQ,+BAA+B,EACzD,IAAI,CAACzR,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CAAC;MAErD,OAAO5J,MAAM;IACf,CAAC,MAAM,IAAI,IAAI,CAACsF,WAAW,KAAK,IAAI,EAAE;MACpC,IAAI,CAACqH,wBAAwB,CAC3B,IAAI,CAACvR,YAAY,CAACgB,OAAO,CAACyN,yBAAyB,EACnD,IAAI,CAACzO,YAAY,CAACgB,OAAO,CAACC,wBAAwB,EAClD,IAAI,CAACjB,YAAY,CAACgB,OAAO,CAACwQ,2BAA2B,EACrD,IAAI,CAACxR,YAAY,CAACgB,OAAO,CAACsL,yBAAyB,EACnD,IAAI,CAACtM,YAAY,CAACgB,OAAO,CAACyQ,+BAA+B,EACzD,IAAI,CAACzR,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CAAC;MACrD,OAAO5J,MAAM;IACf,CAAC,MAAM;MACL,IAAI,IAAI,CAACzE,IAAI,KAAK,EAAE,IAAI,IAAI,CAACA,IAAI,KAAK,QAAQ,IAAIoH,MAAM,CAAC,IAAI,CAACpH,IAAI,CAAC,GAAG,IAAI,EAAE;QAC1E,IAAI,CAAC+L,WAAW,EAAE;QAClB,IAAI,CAAC/L,IAAI,GAAG,MAAM;MACpB;MACA,IAAI,CAACoR,wBAAwB,CAC3B,IAAI,CAACvR,YAAY,CAACgB,OAAO,CAAC0N,0BAA0B,EACpD,IAAI,CAAC1O,YAAY,CAACgB,OAAO,CAACO,yBAAyB,EACnD,IAAI,CAACvB,YAAY,CAACgB,OAAO,CAACwQ,2BAA2B,EACrD,IAAI,CAACxR,YAAY,CAACgB,OAAO,CAACsL,yBAAyB,EACnD,IAAI,CAACtM,YAAY,CAACgB,OAAO,CAACyQ,+BAA+B,EACzD,IAAI,CAACzR,YAAY,CAACgB,OAAO,CAACwN,wBAAwB,CAAC;MACrD,OAAO,IAAI,CAACrO,IAAI;IAClB;EACF;EAEA;;;;;;;;;EASAoR,wBAAwBA,CAAC5C,0BAAkC,EACzD+C,wBAAgC,EAChCC,8BAAsC,EACtCC,4BAAoC,EACpCC,qBAA6B,EAC7BC,gBAAwB;IAExB,IAAIC,wBAAwB,GAAG,CAAC,6BAA6B,EAAE,qCAAqC,CAAC;IACrG,IAAIC,uBAAuB,GAAQ,CAAC,KAAK,CAAC;IAC1C,IAAI,IAAI,CAAC9H,WAAW,KAAK,IAAI,EAAE;MAC7B6H,wBAAwB,GAAG,CAAC,6BAA6B,CAAC;MAC1DC,uBAAuB,GAAG,IAAIxB,gEAAU,CAAC,CAAC,EAAE,EAAE,CAAC;IACjD,CAAC,MAAM,IAAI,IAAI,CAACtG,WAAW,KAAK,KAAK,EAAE;MACrC6H,wBAAwB,GAAG,CAAC,qCAAqC,CAAC;MAClEC,uBAAuB,GAAG,IAAIxB,gEAAU,CAAC,CAAC,EAAE,EAAE,CAAC;IACjD;IAEA;IACA,IAAI,CAACM,gCAAgC,GAAG,IAAIlR,2EAAkB,EAAE,CAC7DsC,WAAW,CAACwP,wBAAwB,CAAC,CACrCvP,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI6P,0CAA0C,GAAG,IAAIrS,2EAAkB,EAAE,CACtEsC,WAAW,CAACyM,0BAA0B,CAAC,CACvCxM,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC;IAE7D,IAAI,IAAI,CAACT,IAAI,IAAI,QAAQ,EAAE;MACzB8R,0CAA0C,CAAC9P,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC;MACnF,IAAI,CAAC4Q,iCAAiC,GAAGkB,0CAA0C,CAAC7P,KAAK,EAAE;IAC7F;IAEA,IAAI,CAAC6O,2BAA2B,GAAG,IAAIrR,2EAAkB,EAAE,CACxDsC,WAAW,CAACyP,8BAA8B,CAAC,CAC3CxP,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC,CAAC,CACrE2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAAC8O,sBAAsB,GAAG,IAAItR,2EAAkB,EAAE,CACnDsC,WAAW,CAAC0P,4BAA4B,CAAC,CACzCzP,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC,CACtD2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAAC+O,kBAAkB,GAAG,IAAIvR,2EAAkB,EAAE,CAC/CsC,WAAW,CAAC2P,qBAAqB,CAAC,CAClC1P,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC,CACtD2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAACiM,aAAa,GAAG,IAAIzO,2EAAkB,EAAE,CAC1CsC,WAAW,CAAC4P,gBAAgB,CAAC,CAC7B3P,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV;IACA,MAAMwK,QAAQ,GAAG,IAAI,CAAC5M,YAAY,CAACe,UAAU,CAAC4N,0BAA0B,EAAE,CACxE,IAAInP,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAEF,MAAM+R,iBAAiB,GAAG,IAAI,CAAClS,YAAY,CAACe,UAAU,CAAC2Q,wBAAwB,EAC7E;IACE;IACA,IAAIlS,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAEJ,MAAMgS,uBAAuB,GAAG,IAAI,CAACnS,YAAY,CAACe,UAAU,CAAC4Q,8BAA8B,EACzF;IACE;IACA,IAAInS,wDAAM,CAAC,OAAO,EAAE,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC,EAC1D,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAEJ,MAAMwJ,qBAAqB,GAAG,IAAI,CAAC3J,YAAY,CAACe,UAAU,CAAC6Q,4BAA4B,EACrF;IACE;IACA,IAAIpS,wDAAM,CAAC,OAAO,EAAE,CAAC,oBAAoB,CAAC,CAAC,EAC3C,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAEJ,MAAMiS,cAAc,GAAG,IAAI,CAACpS,YAAY,CAACe,UAAU,CAAC8Q,qBAAqB,EACvE;IACE;IACA,IAAIrS,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAEJ,MAAM2O,aAAa,GAAG,IAAI,CAAC9O,YAAY,CAACe,UAAU,CAAC+Q,gBAAgB,EACjE;IACE;IACA,IAAItS,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,wDAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,EAC/C,IAAI,IAAI,CAACT,IAAI,KAAK,QAAQ,GAAG,CAAC,IAAIX,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CACnE,CAAC;IAGJ;IACAT,+CAAQ,CAAC,CAACkN,QAAQ,EAAEsF,iBAAiB,EAAEC,uBAAuB,EAAExI,qBAAqB,EAAEyI,cAAc,EAAEtD,aAAa,CAAC,CAAC,CACnHvM,IAAI,CAAC5C,0CAAG,CAAC,CAAC,CAACqP,iBAAiB,EAAEqD,0BAA0B,EAAEC,gCAAgC,EAAEC,8BAA8B,EAAEC,uBAAuB,EAAEvD,sBAAsB,CAAC,KAAI;MAC/K,IAAI,IAAI,CAAC9O,IAAI,IAAI,QAAQ,EAAE;QACzB6O,iBAAiB,GAAGpM,MAAM,CAACC,MAAM,CAACmM,iBAAiB,CAAClM,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC5ED,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MACAsP,0BAA0B,GAAGA,0BAA0B,CAACjR,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MACnKmS,gCAAgC,GAAGA,gCAAgC,CAAClR,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAC/KoS,8BAA8B,GAAGA,8BAA8B,CAACnR,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAC3KqS,uBAAuB,GAAGA,uBAAuB,CAACpR,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAC7J8O,sBAAsB,GAAGA,sBAAsB,CAAC7N,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAE3J,OAAO;QACL,gCAAgC,EAAE6O,iBAAiB,CAACjT,MAAM;QAC1D,wBAAwB,EAAEwH,IAAI,CAACC,KAAK,CAAE6O,0BAA0B,CAACtW,MAAM,GAAGiT,iBAAiB,CAACjT,MAAM,GAAI,GAAG,CAAC;QAC1G,yBAAyB,EAAEwH,IAAI,CAACC,KAAK,CAAE8O,gCAAgC,CAACvW,MAAM,GAAI,GAAG,GAAGiT,iBAAiB,CAACjT,MAAM,CAAC;QACjH,uBAAuB,EAAEwH,IAAI,CAACC,KAAK,CAAE+O,8BAA8B,CAACxW,MAAM,GAAI,GAAG,GAAGiT,iBAAiB,CAACjT,MAAM,CAAC;QAC7G,gBAAgB,EAAEwH,IAAI,CAACC,KAAK,CAAEgP,uBAAuB,CAACzW,MAAM,GAAI,GAAG,GAAGiT,iBAAiB,CAACjT,MAAM;OAC/F;IACH,CAAC,CAAC,CAAC,CACFlF,SAAS,CAAC;MACTlE,IAAI,EAAG8Q,OAAO,IAAI;QAChB,IAAI,CAAC6N,0BAA0B,GAAG7N,OAAO,CAACgP,8BAA8B;QACxE,IAAI,CAACC,oBAAoB,GAAGjP,OAAO,CAACkP,sBAAsB;QAC1D,IAAI,CAACC,qBAAqB,GAAGnP,OAAO,CAAC0O,uBAAuB;QAC5D,IAAI,CAACU,iBAAiB,GAAGpP,OAAO,CAACkG,qBAAqB;QACtD,IAAI,CAACmJ,aAAa,GAAGrP,OAAO,CAAC2O,cAAc;QAC3C;QAEA,IAAI,CAACW,cAAc,CAAC,GAAG,GAAG,IAAI,CAACL,oBAAoB,EAAE,6BAA6B,EAAE,IAAI,CAAC5B,gCAAgC,EAAE,CAAC,kCAAkC,EAAE,2BAA2B,CAAC,EAAE,SAAS,CAAC;QACxM,IAAI,CAACiC,cAAc,CAAC,GAAG,GAAG,IAAI,CAACH,qBAAqB,EAAE,+BAA+B,EAAE,IAAI,CAAC3B,2BAA2B,EAAE,CAAC,sDAAsD,EAAE,+CAA+C,CAAC,EAAE,SAAS,CAAC;QAC9O,IAAI,CAAC8B,cAAc,CAAC,GAAG,GAAG,IAAI,CAACF,iBAAiB,EAAE,0BAA0B,EAAE,IAAI,CAAC3B,sBAAsB,EAAE,CAAC,6CAA6C,EAAE,oDAAoD,CAAC,EAAE,SAAS,CAAC;QAC5N,IAAI,CAAC6B,cAAc,CAAC,GAAG,GAAG,IAAI,CAACD,aAAa,EAAE,sBAAsB,EAAE,IAAI,CAAC3B,kBAAkB,EAAE,CAAC,yCAAyC,EAAE,sCAAsC,CAAC,EAAE,SAAS,CAAC;QAC9L;QAEA;MACF,CAAC;MACDjN,QAAQ,EAAEA,CAAA,KAAK;QACb,IAAI,CAAC7D,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACN;EAEA6L,WAAWA,CAAA;IACT,IAAI,CAACJ,YAAY,CAACiB,IAAI,CAAC,IAAI,CAAClO,OAAO,EAAE;MAAEmO,QAAQ,EAAE;IAAI,CAAE,CAAC;EAC1D;EAEA+F,cAAcA,CAACvL,UAAkB,EAAEC,SAAiB,EAAEtU,GAAW,EAAEic,OAAiB,EAAE4D,GAAW;IAC/F,IAAI,CAACzN,aAAa,CAACwN,cAAc,CAC/B,GAAGvL,UAAU,GAAG,EAChB,OAAOC,SAAS,EAAE,EAClB,CAAC;MACC,IAAI,EAAE2H,OAAO,CAAC,CAAC,CAAC;MAChB,SAAS,EAAE5H,UAAU;MACrB,KAAK,EAAErU;KACR,EACD;MACE,IAAI,EAAEic,OAAO,CAAC,CAAC,CAAC;MAChB,SAAS,EAAE,GAAG,GAAG5H,UAAU;MAC3B,KAAK,EAAErU;KACR,CAAC,EACF,GAAG,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE6f,GAAG,CAAC,EAC1B,CAAC5D,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;MAAEpL,QAAQ,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAK,CAAE,CAAC;EAClE;;;uCAvTWtL,2BAA2B,EAAA7D,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,iEAAA,GAAAxC,+DAAA,CAAA0C,4DAAA,GAAA1C,+DAAA,CAAAuP,qEAAA,GAAAvP,+DAAA,CAAA0a,0EAAA,GAAA1a,+DAAA,CAAAme,6DAAA,GAAAne,+DAAA,CAAAme,4DAAA;IAAA;EAAA;;;YAA3Bta,2BAA2B;MAAAjB,SAAA;MAAAwR,SAAA,WAAAkK,kCAAApb,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;UCbhClD,4DAJR,aAAuB,aAC+C,aACjD,aACO,YACF;UAAAA,oDAAA,mBAAY;UAAAA,0DAAA,EAAK;UACnCA,wDAAA,IAAAue,yCAAA,gBAAwD;UAC1Dve,0DAAA,EAAM;UAGFA,4DAFJ,aAAiC,aACS,oBAGmC;UAAvEA,8DAAA,2BAAAwe,qEAAA1O,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAkB;UAAC9P,wDAAA,2BAAAwe,qEAAA1O,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAA,MAAAiE,SAAA,GAAAxY,yDAAA;YAAA,OAAAA,yDAAA,CAAAwY,SAAA,CAAAjM,KAAA,GAAgCpJ,GAAA,CAAAwI,UAAA,CAAAmE,MAAA,CAAkB;UAAA,EAAC;UACtE9P,4DAAA,kBAA0B;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,kBAAuB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAC3BA,0DAD2B,EAAS,EAC3B;UACTA,4DAAA,kBAC8B;UAD8CA,8DAAA,2BAAAye,sEAAA3O,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAiS,WAAA,EAAAtF,MAAA,MAAA3M,GAAA,CAAAiS,WAAA,GAAAtF,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAyB;UACnG9P,wDAAA,oBAAA0e,+DAAA;YAAA1e,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAAUmD,GAAA,CAAAwI,UAAA,CAAAxI,GAAA,CAAAkI,IAAA,CAAgB;UAAA,EAAC;UAC3BrL,4DAAA,kBAAoC;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAS;UACxDA,4DAAA,kBAAyB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACxCA,4DAAA,kBAA0B;UAAAA,oDAAA,eAAO;UAIzCA,0DAJyC,EAAS,EACnC,EACL,EACF,EACF;UAENA,wDAAA,KAAA2e,2CAAA,kBAA8D;UAUxD3e,4DAHN,eAAyE,eACzC,eACL,aAC0B;UAAAA,oDAAA,WAAG;UAAAA,4DAAA,aAAgE;UAAAA,oDAAA,IAChF;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,wBAAe;UACrBA,wDADqB,KAAA4e,4CAAA,mBAAoC,KAAAC,4CAAA,mBACrB;UAC9C7e,oDAAA,4DAAmD;UAE9EA,0DAF8E,EAAI,EAC1E,EACF;UAIAA,4DAHN,eAAsB,eACiB,eACY,eACE;UAC7CA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAwC,eACD;UACnCA,oDAAA,gFACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAAiD;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,uCAA8B;UAAAA,4DAAA,aAEG;UAAAA,oDAAA,4BAC7E;UAAAA,0DAAA,EAAI;UAACA,oDAAA,8CAAqC;UAGhEA,0DAHgE,EAAI,EAC1D,EACF,EACF;UAGFA,4DAFJ,eAAqC,eACY,eACE;UAC7CA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAwC,eACD;UACnCA,oDAAA,sEACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAAkD;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,uEACxB;UAG3CA,0DAH2C,EAAI,EACrC,EACF,EACF;UAGFA,4DAFJ,eAAqC,eACY,eACE;UAC7CA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAwC,eACD;UACnCA,oDAAA,sCACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAAmD;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,6JAE9D;UAGNA,0DAHM,EAAI,EACA,EACF,EACF;UAGFA,4DAFJ,eAAqC,eACY,eACE;UAC7CA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAAwC,eACD;UACnCA,oDAAA,+CACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAA0C;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,mLAE3B;UA0BtCA,0DA1BsC,EAAI,EAC1B,EACF,EACF,EAqBF,EACF,EACF;UAGNA,wDAAA,MAAA8e,oDAAA,iCAAA9e,oEAAA,CAAgC;UAgBhCA,4DAAA,gBAA8C;UAC5CA,uDAAA,sBACsE;UAE1EA,0DADE,EAAM,EACF;;;UAzJ0BA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAMlDpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAWwDrL,uDAAA,IAAyB;UAAzBA,8DAAA,YAAAmD,GAAA,CAAAiS,WAAA,CAAyB;UAE3FpV,uDAAA,EAAkB;UAAlBA,wDAAA,mBAAkB;UAClBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAiB;UAAjBA,wDAAA,kBAAiB;UAMYA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAO3CvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAGbvL,uDAAA,GAA4C;UAA5CA,mEAAA,SAAAmD,GAAA,CAAA8Y,iCAAA,EAAAjc,2DAAA,CAA4C;UAAiBA,uDAAA,EAChF;UADgFA,gEAAA,cAAAA,yDAAA,SAAAmD,GAAA,CAAAqZ,0BAAA,yBAChF;UAA2Bxc,uDAAA,GAA2B;UAA3BA,wDAAA,SAAAmD,GAAA,CAAAiS,WAAA,WAA2B;UAChDpV,uDAAA,EAA2B;UAA3BA,wDAAA,SAAAmD,GAAA,CAAAiS,WAAA,WAA2B;UAezDpV,uDAAA,IAAiD;UAAjDA,+DAAA,CAAAA,yDAAA,eAAAmD,GAAA,CAAAya,oBAAA,EAAiD;UAEnD5d,uDAAA,GAAwF;UAAxFA,wDAAA,yFAAwF;UAetFA,uDAAA,IAAkD;UAAlDA,+DAAA,CAAAA,yDAAA,eAAAmD,GAAA,CAAA2a,qBAAA,EAAkD;UAelD9d,uDAAA,IAAmD;UAAnDA,gEAAA,UAAAA,yDAAA,eAAAmD,GAAA,CAAA4a,iBAAA,MAAmD;UAgBnD/d,uDAAA,IAA0C;UAA1CA,+DAAA,CAAAA,yDAAA,eAAAmD,GAAA,CAAA6a,aAAA,EAA0C;UAgD/Che,uDAAA,GAAiB;UAC1BA,wDADS,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,2BAA2B,qCAAqC,aAAAjI,GAAA,CAAAoI,SAAA,mCACnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1JV;AAIqB;;;;;;;;;;;;ICDhEvL,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA+K,MAAA,CAAAC,aAAA,cAA0B;;;;;IAyBhFhL,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;;;IAmBEA,4DAFJ,UAA8B,cACM,YACF;IAAAA,oDAAA,yBAAkB;IAEpDA,0DAFoD,EAAI,EAChD,EACF;;;;;IAoCFA,4DAFJ,UAA+B,cACK,YACF;IAAAA,oDAAA,yBAAkB;IAEpDA,0DAFoD,EAAI,EAChD,EACF;;;AD/ER,MAAO8D,mCAAmC;EAQ9C5C,YAAoBgK,YAA0B,EAAUuF,aAA4B,EAAUtP,KAAqB,EACzGC,cAA8B;IADpB,KAAA8J,YAAY,GAAZA,YAAY;IAAwB,KAAAuF,aAAa,GAAbA,aAAa;IAAyB,KAAAtP,KAAK,GAALA,KAAK;IACzF,KAAAC,cAAc,GAAdA,cAAc;IARxB,KAAAgK,MAAM,GAAW,aAAa;IAC9B,KAAAC,IAAI,GAAoB,EAAE;IAC1B,KAAAE,SAAS,GAAY,IAAI;IACzB,KAAAwT,YAAY,GAAG,CAAC;IAChB,KAAAC,WAAW,GAAG,CAAC;IACf,KAAAC,mBAAmB,GAAG,qMAAqM;EAI3N;EAEAtd,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,EAAE;MACnB;MACA,IAAI,CAACvK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CACA;IACD,IAAI,CAACjK,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,8BAA8B,EAChD,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;EAEA+I,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAEAO,UAAUA,CAAA;IACR,IAAIuT,gBAAgB,GAAG,CAAC,IAAI,CAAChU,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IAC/E,IAAI8S,iBAAiB,GAAG,CAAC,IAAI,CAACjU,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IACjF,IAAI,IAAI,CAACxB,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,IAAI,EAAE,EAAE;MACxD8T,gBAAgB,CAAChK,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;MACrE+T,iBAAiB,CAACjK,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACxE;IAEA,MAAMgU,4BAA4B,GAAG,IAAItU,kFAAkB,EAAE,CAC1DsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAACC,wBAAwB,CAAC,CAC/DkB,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAEwU,gBAAgB,CAAC,CAAC,CACxD7R,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,MAAM+R,6BAA6B,GAAG,IAAIvU,kFAAkB,EAAE,CAC3DsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAACO,yBAAyB,CAAC,CAChEY,SAAS,CAAC,IAAI3C,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,wDAAM,CAAC,eAAe,EAAEyU,iBAAiB,CAAC,CAAC,CACzD9R,SAAS,CAAC,IAAI3C,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAAC/B,SAAS,GAAG,IAAI;IACrB,IAAI,CAAC+T,mCAAmC,CACtC,8BAA8B,EAC9B,8BAA8B,EAC9BF,4BAA4B,EAC5B,IAAI,CAAClU,YAAY,CAACgB,OAAO,CAACC,wBAAwB,EAAE+S,gBAAgB,CAAC;IAEvE,IAAI,IAAI,CAAC7T,IAAI,IAAI,MAAM,IAAI,IAAI,CAACA,IAAI,IAAI,EAAE,IAAI,IAAI,CAACA,IAAI,IAAI,QAAQ,EAAE;MACnE,IAAI,CAACiU,mCAAmC,CACtC,sCAAsC,EACtC,+BAA+B,EAC/BD,6BAA6B,EAC7B,IAAI,CAACnU,YAAY,CAACgB,OAAO,CAACO,yBAAyB,EAAE0S,iBAAiB,CAAC;IAC3E;EACF;EAGAG,mCAAmCA,CAACC,KAAa,EAAEC,OAAe,EAAEC,YAAoB,EAAEC,+BAAuC,EAAE5T,aAAuB;IACxJ,MAAMsR,iBAAiB,GAAG,IAAI,CAAClS,YAAY,CAACe,UAAU,CAACyT,+BAA+B,EACpF,CACE,IAAIhV,wDAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,wDAAM,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,EAC7C,IAAIA,wDAAM,CAAC,eAAe,EAAEoB,aAAa,CAAC,CAC3C,CAAC;IAEJsR,iBAAiB,CAACrb,SAAS,CAAC4M,OAAO,IAAG;MACpC,IAAImJ,QAAQ,GAAGnJ,OAAO,CAAC1H,MAAM;MAE7B,IAAI6E,aAAa,CAAClM,QAAQ,CAAC,IAAI,CAACsL,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC,EAAE;QAClF,IAAI,CAAC2S,WAAW,GAAGlH,QAAQ;MAC7B,CAAC,MAAM;QACL,IAAI,CAACiH,YAAY,GAAGjH,QAAQ;MAC9B;MACA;MACA,IAAI6H,qBAAqB,GAAGhR,OAAO,CAACrC,MAAM,CAACY,IAAI,IAAIA,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,CAAC,CAACjG,MAAM;MAElF,IAAI,CAACwJ,aAAa,CAACmP,YAAY,CAC7BL,KAAK,EACLC,OAAO,EACP,CAAC;QACC,OAAO,EAAE,KAAK;QACd,OAAO,EAAEG,qBAAqB;QAC9B,WAAW,EAAE7H,QAAQ;QACrB,eAAe,EAAE2H;OAClB,EACD;QACE,OAAO,EAAE,SAAS;QAClB,OAAO,EAAE3H,QAAQ,GAAG6H,qBAAqB;QACzC,WAAW,EAAE7H,QAAQ;QACrB,eAAe,EAAE2H;OAClB,CAAC,EACF,GAAG,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,EAChC,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;QAAEvQ,QAAQ,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAE,CAAC;MAC1D,IAAI,CAAC5D,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACJ;;;uCA7GWzH,mCAAmC,EAAA9D,+DAAA,CAAAsC,iEAAA,GAAAtC,+DAAA,CAAAwC,mEAAA,GAAAxC,+DAAA,CAAA0C,2DAAA,GAAA1C,+DAAA,CAAAuP,qEAAA;IAAA;EAAA;;;YAAnCzL,mCAAmC;MAAAlB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA6c,6CAAA3c,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCTxClD,4DAJR,aAAuB,aAC2D,aAC7D,aACO,YACF;UAAAA,oDAAA,mCAA4B;UAAAA,0DAAA,EAAK;UACnDA,wDAAA,IAAA8f,iDAAA,gBAAwD;UAC1D9f,0DAAA,EAAM;UAEJA,4DADF,aAAsB,gBAEsF;UAA3CA,8DAAA,2BAAA+f,6EAAAjQ,MAAA;YAAA9P,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAkB;UAAC9P,wDAAA,oBAAAggB,sEAAA;YAAA,OAAU7c,GAAA,CAAAwI,UAAA,EAAY;UAAA,EAAC;UACvG3L,4DAAA,gBAAgC;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAClDA,4DAAA,iBAA6B;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,iBAAyB;UAAAA,oDAAA,YAAI;UAGnCA,0DAHmC,EAAS,EAC/B,EACL,EACF;UAEJA,4DADF,eAA8B,aACmB;UAAAA,oDAAA,qHACzC;UACRA,0DADQ,EAAI,EACN;UAENA,wDAAA,KAAAigB,mDAAA,kBAA8D;UAUxDjgB,4DAHN,eAAmG,eACK,eAC3E,gBACN;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAO;UAC9BA,uDAAA,aAAwG;UAC1GA,0DAAA,EAAM;UAEJA,4DADF,eAAkE,eAC9B;UAChCA,uDAAA,eACM;UAMVA,0DALE,EAAM,EAKF;UACNA,wDAAA,KAAAkgB,mDAAA,kBAA8B;UAS1BlgB,4DAHJ,eAC8F,eACxE,aACD;UAAAA,uDAAA,aAA8C;UAAAA,oDAAA,YAAI;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,wDAE3D;UAAAA,0DAAA,EAAI;UAACA,oDAAA,oSAIoE;UAAAA,4DAAA,SAAG;UAAAA,oDAAA,yGAEX;UAIlFA,0DAJkF,EAAI,EAC5E,EACA,EACF,EACF;UAKFA,4DAHJ,eAC8F,eAC/D,UACvB;UAAAA,oDAAA,sBAAc;UACpBA,0DADoB,EAAK,EACnB;UAEJA,4DADF,eAAmE,eAC/B;UAChCA,uDAAA,eACM;UAMVA,0DALE,EAAM,EAKF;UACNA,wDAAA,KAAAmgB,mDAAA,kBAA+B;UAOrCngB,0DAFI,EAAM,EACF,EACF;UACNA,4DAAA,eAA8C;UAC5CA,uDAAA,qBAEsE;UAE1EA,0DADE,EAAM,EACF;;;UAhG0BA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAISpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UACvErL,uDAAA,EAAc;UAAdA,wDAAA,eAAc;UACdA,uDAAA,GAAoB;UAApBA,wDAAA,qBAAoB;UACpBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UASeA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAOjBvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAC/EvL,uDAAA,EAAoF;UAApFA,wDAAA,YAAAmD,GAAA,CAAAkI,IAAA,cAAAlI,GAAA,CAAAkI,IAAA,UAAAlI,GAAA,CAAAkI,IAAA,wCAAoF;UAGhCrL,uDAAA,GAAkC;UAAlCA,wDAAA,eAAAmD,GAAA,CAAA8b,mBAAA,CAAkC;UAEhGjf,uDAAA,EAA4D;UAA5DA,wDAAA,YAAAmD,GAAA,CAAA6b,WAAA,uCAA4D;UAU3Dhf,uDAAA,GAAsB;UAAtBA,wDAAA,SAAAmD,GAAA,CAAA6b,WAAA,MAAsB;UAO1Bhf,uDAAA,EAA2F;UAA3FA,wDAAA,YAAAmD,GAAA,CAAAkI,IAAA,cAAAlI,GAAA,CAAAkI,IAAA,UAAAlI,GAAA,CAAAkI,IAAA,+CAA2F;UAiB7FrL,uDAAA,IAA2F;UAA3FA,wDAAA,YAAAmD,GAAA,CAAAkI,IAAA,cAAAlI,GAAA,CAAAkI,IAAA,UAAAlI,GAAA,CAAAkI,IAAA,+CAA2F;UAItFrL,uDAAA,GAA6D;UAA7DA,wDAAA,YAAAmD,GAAA,CAAA4b,YAAA,uCAA6D;UAU5D/e,uDAAA,GAAuB;UAAvBA,wDAAA,SAAAmD,GAAA,CAAA4b,YAAA,MAAuB;UAStB/e,uDAAA,GAAiB;UAE1BA,wDAFS,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,2CAA2C,iDACrB,aAAAjI,GAAA,CAAAoI,SAAA,mCACO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChGxB;AACgB;AAImB;;;;;;;;;;;;;ICHhEvL,4DAAA,aAAwD;IAAAA,oDAAA,GAA0B;IAAAA,0DAAA,EAAK;;;;IAA/BA,uDAAA,EAA0B;IAA1BA,gEAAA,KAAA2W,MAAA,CAAA3L,aAAA,cAA0B;;;;;IAwBhFhL,4DAHN,cAA8D,cACV,cACkB,eAC1C;IAAAA,oDAAA,iBAAU;IAGtCA,0DAHsC,EAAO,EACnC,EACF,EACF;;;;;;IA6DFA,4DADF,cAA0B,aACA;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAK;IAC9DA,4DAAA,iBAAkG;IAAvCA,wDAAA,mBAAAogB,0EAAA;MAAA,MAAAvJ,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAAvD,OAAA,CAAc,aAAa,CAAC;IAAA,EAAC;IACnGtT,0DADoG,EAAS,EACvG;IAEJA,4DADF,cAAwB,QACnB;IAAAA,oDAAA,ybAQH;IACFA,0DADE,EAAI,EACA;IAEJA,4DADF,cAA0B,iBACyD;IAArCA,wDAAA,mBAAAqgB,0EAAA;MAAA,MAAAxJ,QAAA,GAAA7W,2DAAA,CAAA8W,GAAA,EAAA1D,SAAA;MAAA,OAAApT,yDAAA,CAAS6W,QAAA,CAAArD,KAAA,CAAY,aAAa,CAAC;IAAA,EAAC;IAACxT,oDAAA,YAAK;IACxFA,0DADwF,EAAS,EAC3F;;;AD9FN,MAAOuJ,yBAAyB;EAiBpCrI,YAAoBgK,YAA0B,EAAU8L,YAAsB,EACpE7V,KAAqB,EAAUC,cAA8B,EAC7DqP,aAA4B;IAFlB,KAAAvF,YAAY,GAAZA,YAAY;IAAwB,KAAA8L,YAAY,GAAZA,YAAY;IAC1D,KAAA7V,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAC7C,KAAAqP,aAAa,GAAbA,aAAa;IAlBvB,KAAArF,MAAM,GAAW,aAAa;IAC9B,KAAAU,aAAa,GAAa,EAAE;IAE5B,KAAAT,IAAI,GAAW,EAAE;IACjB,KAAA+J,WAAW,GAAW,MAAM;IAC5B,KAAA7J,SAAS,GAAY,IAAI;IAEzB,KAAA+U,kCAAkC,GAAG,GAAG;IACxC,KAAAC,sBAAsB,GAAW,GAAG;IACpC,KAAAC,0BAA0B,GAAW,GAAG;EAWxC;EAEA7e,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACuK,QAAQ,CAAC3J,SAAS,CAAE6E,MAAgB,IAAI;MACjD,IAAIwE,MAAM,GAAGxE,MAAM,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAI4N,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACO,UAAU,CAAC,IAAI,CAACN,IAAI,CAAC;MAC5B;MACA,IAAI,CAACjK,cAAc,CAACwK,SAAS,EAAE,CAAC/N,IAAI,CAACuN,MAAM,CAAC;IAC9C,CAAC,CAAC;EACJ;EAEAJ,aAAaA,CAAA;IACX,OAAQ,IAAI,CAACE,YAAY,CAACW,OAAe,CAAC,IAAI,CAACT,MAAM,CAAC;EACxD;EAEAO,UAAUA,CAACmE,MAAW;IACpB,IAAI,CAACvE,SAAS,GAAG,IAAI;IACrB,IAAI,CAACO,aAAa,GAAG,EAAE;IACvB,IAAI,IAAI,CAACV,MAAM,IAAI,aAAa,EAC9B,IAAI,CAACU,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACa,eAAe,CAAC,IAAI,CAACX,MAAM,CAAC,CAAC;IACzE,IAAI,IAAI,CAACgK,WAAW,KAAK,IAAI,EAAE;MAC7B,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACC,EAAE,CAAC;IACjF,CAAC,MAAM,IAAI,IAAI,CAAC+I,WAAW,KAAK,KAAK,EAAE;MACrC,IAAI,CAACtJ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACM,GAAG,CAAC;IAClF,CAAC,MAAM;MACL,IAAI,CAACZ,aAAa,CAACoJ,IAAI,CAAC,IAAI,CAAChK,YAAY,CAACkB,iCAAiC,CAACS,GAAG,CAAC;IAClF;IACA,IAAI,CAAC4T,QAAQ,EAAE;IACf,OAAO,IAAI,CAACpV,IAAI;EAClB;EAEAoV,QAAQA,CAAA;IACN;IACA,IAAI,CAACH,kCAAkC,GAAG,IAAIxV,kFAAkB,EAAE,CAC/DsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAACwU,iCAAiC,CAAC,CACxErT,SAAS,CAAC,IAAI3C,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAACiT,sBAAsB,GAAG,IAAIzV,kFAAkB,EAAE,CACnDsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAACyU,sBAAsB,CAAC,CAC7DtT,SAAS,CAAC,IAAI3C,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV,IAAI,CAACkT,0BAA0B,GAAG,IAAI1V,kFAAkB,EAAE,CACvDsC,WAAW,CAAC,IAAI,CAAClC,YAAY,CAACgB,OAAO,CAAC0U,eAAe,CAAC,CACtDvT,SAAS,CAAC,IAAI3C,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CACvC2C,SAAS,CAAC,IAAI3C,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAAC,CAC1DuB,SAAS,CAAC,IAAI3C,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,CAAC,CACxCiC,KAAK,EAAE;IAEV;IACA,IAAI+J,gBAAgB,GAAG,CACrB,IAAI3M,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD;IACD,IAAI,IAAI,CAACT,IAAI,IAAI,QAAQ,EAAE;MACzBgM,gBAAgB,GAAG,CACjB,IAAI3M,+DAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,EAC5B,IAAIA,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD;IACH;IACA,MAAMgM,QAAQ,GAAG,IAAI,CAAC5M,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACuN,sBAAsB,EAAEpC,gBAAgB,CAAC;IAEjH,MAAMwJ,8BAA8B,GAAG,IAAI,CAAC3V,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACwU,iCAAiC,EAC7H,CACE,IAAIhW,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD,CAAC;IAEJ,MAAMgV,kBAAkB,GAAG,IAAI,CAAC5V,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAACyU,sBAAsB,EACtG,CACE,IAAIjW,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD,CAAC;IAEJ,MAAMiV,WAAW,GAAG,IAAI,CAAC7V,YAAY,CAACe,UAAU,CAAC,IAAI,CAACf,YAAY,CAACgB,OAAO,CAAC0U,eAAe,EACxF,CACE,IAAIlW,+DAAM,CAAC,MAAM,EAAE,IAAI,CAACW,IAAI,CAAC,EAC7B,IAAIX,+DAAM,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC,CAChD,CAAC;IAEJ;IACAlB,8CAAQ,CAAC,CAACkN,QAAQ,EAAE+I,8BAA8B,EAAEC,kBAAkB,EAAEC,WAAW,CAAC,CAAC,CAClFtT,IAAI,CAAC5C,yCAAG,CAAC,CAAC,CAACqP,iBAAiB,EAAE8G,uCAAuC,EAAEC,2BAA2B,EAAEC,oBAAoB,CAAC,KAAI;MAC5H,IAAI,IAAI,CAAC7V,IAAI,IAAI,QAAQ,EAAE;QACzB6O,iBAAiB,GAAGpM,MAAM,CAACC,MAAM,CAACmM,iBAAiB,CAAClM,MAAM,CAAC,CAACC,CAAM,EAAEC,CAAM,KAAI;UAC5ED,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,IAAIF,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,CAAC9C,IAAI,GAAG6C,CAAC,CAAC7C,IAAI,GAAI4C,CAAC,CAACC,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC;UAE9E,OAAOD,CAAC;QACV,CAAC,EAAE,EAAE,CAAC,CAAC;MACT;MAEA+S,uCAAuC,CAAC1U,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MACnJ4V,2BAA2B,CAAC3U,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MACvI6V,oBAAoB,CAAC5U,MAAM,CAAEY,IAAS,IAAKgN,iBAAiB,CAACnN,IAAI,CAAEmB,CAAM,IAAKA,CAAC,CAACC,OAAO,IAAIjB,IAAI,CAACiB,OAAO,IAAID,CAAC,CAAC7C,IAAI,IAAI6B,IAAI,CAAC7B,IAAI,CAAC,CAAC;MAGhI,IAAI8V,uCAAuC,GAAGF,2BAA2B,CAAC3U,MAAM,CAAE8U,CAAM,IAAKA,CAAC,CAAC,OAAO,CAAC,CAACxhB,QAAQ,CAAC,kBAAkB,CAAC,IAAIwhB,CAAC,CAAC,OAAO,CAAC,CAACxhB,QAAQ,CAAC,uBAAuB,CAAC,CAAC,CAACqH,MAAM;MAC5L,IAAIoa,2CAA2C,GAAGH,oBAAoB,CAAC5U,MAAM,CAAE8U,CAAM,IAAKA,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,CAACna,MAAM;MACrH,IAAIqa,mDAAmD,GAAGN,uCAAuC,CAAC1U,MAAM,CAAE8U,CAAM,IAAKA,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,CAACna,MAAM;MAEhJ,OAAO;QACL,yCAAyC,EAAE+Z,uCAAuC,CAAC/Z,MAAM;QACzF,gCAAgC,EAAEqa,mDAAmD;QACrF,6BAA6B,EAAEL,2BAA2B,CAACha,MAAM;QACjE,oBAAoB,EAAEka,uCAAuC;QAC7D,sBAAsB,EAAED,oBAAoB,CAACja,MAAM;QACnD,aAAa,EAAEoa;OAChB;IACH,CAAC,CAAC,CAAC,CACFtf,SAAS,CAAC;MACTlE,IAAI,EAAE8Q,OAAO,IAAG;QACd,IAAI,CAAC4S,4BAA4B,GAAG9S,IAAI,CAACC,KAAK,CAACC,OAAO,CAACkS,8BAA8B,GAAG,GAAG,GAAGlS,OAAO,CAAC6S,uCAAuC,CAAC,EAC5I,IAAI,CAACC,iBAAiB,GAAGhT,IAAI,CAACC,KAAK,CAACC,OAAO,CAACmS,kBAAkB,GAAG,GAAG,GAAGnS,OAAO,CAAC+S,2BAA2B,CAAC,EAC3G,IAAI,CAACC,oBAAoB,GAAGlT,IAAI,CAACC,KAAK,CAACC,OAAO,CAACoS,WAAW,GAAG,GAAG,GAAGpS,OAAO,CAACiT,oBAAoB,CAAC;QAElG,IAAI,CAACnR,aAAa,CAACoR,aAAa,CAAC,8BAA8B,EAC7D,uBAAuB,EACvB,CAAC;UAAE,eAAe,EAAElT,OAAO,CAACoS,WAAW;UAAE,iBAAiB,EAAEpS,OAAO,CAACiT;QAAoB,CAAE,CAAC,EAC3F,IAAI,CAACpB,0BAA0B,EAC/B;UAAEtR,QAAQ,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAE,CAAC;QAEtC,IAAI,CAACsB,aAAa,CAACoR,aAAa,CAAC,gCAAgC,EAAE,0CAA0C,EAC3G,CAAC;UAAE,eAAe,EAAElT,OAAO,CAACkS,8BAA8B;UAAE,iBAAiB,EAAElS,OAAO,CAAC6S;QAAuC,CAAE,CAAC,EACjI,IAAI,CAAClB,kCAAkC,EACvC;UAAEpR,QAAQ,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAE,CAAC;QAEtC,IAAI,CAACsB,aAAa,CAACoR,aAAa,CAAC,oBAAoB,EAAE,8BAA8B,EACnF,CAAC;UAAE,eAAe,EAAElT,OAAO,CAACmS,kBAAkB;UAAE,iBAAiB,EAAEnS,OAAO,CAAC+S;QAA2B,CAAE,CAAC,EACzG,IAAI,CAACnB,sBAAsB,EAC3B;UAAErR,QAAQ,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAE,CAAC;MACxC,CAAC;MACDC,QAAQ,EAAEA,CAAA,KAAM,IAAI,CAAC7D,SAAS,GAAG;KAClC,CAAC;EACN;;;uCAlKWhC,yBAAyB,EAAAvJ,+DAAA,CAAAsC,wEAAA,GAAAtC,+DAAA,CAAAwC,gEAAA,GAAAxC,+DAAA,CAAA0C,4DAAA,GAAA1C,+DAAA,CAAAuP,4EAAA,GAAAvP,+DAAA,CAAA0a,0EAAA;IAAA;EAAA;;;YAAzBnR,yBAAyB;MAAA3G,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAA8e,mCAAA5e,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;UCX9BlD,4DAJR,aAAuB,aACoD,aACtD,aACO,YACF;UAAAA,oDAAA,wBAAiB;UAAAA,0DAAA,EAAK;UACxCA,wDAAA,IAAA+hB,uCAAA,gBAAwD;UAC1D/hB,0DAAA,EAAM;UAGFA,4DAFJ,aAAiC,aACS,oBAGmC;UAAvEA,8DAAA,2BAAAgiB,mEAAAlS,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAkI,IAAA,EAAAyE,MAAA,MAAA3M,GAAA,CAAAkI,IAAA,GAAAyE,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAkB;UAAC9P,wDAAA,2BAAAgiB,mEAAAlS,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAA,MAAAiE,SAAA,GAAAxY,yDAAA;YAAA,OAAAA,yDAAA,CAAAwY,SAAA,CAAAjM,KAAA,GAAgCpJ,GAAA,CAAAwI,UAAA,CAAAmE,MAAA,CAAkB;UAAA,EAAC;UACtE9P,4DAAA,kBAA0B;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,kBAAuB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACtCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAC3BA,0DAD2B,EAAS,EAC3B;UACTA,4DAAA,kBAC8B;UAD8CA,8DAAA,2BAAAiiB,oEAAAnS,MAAA;YAAA9P,2DAAA,CAAAuU,GAAA;YAAAvU,gEAAA,CAAAmD,GAAA,CAAAiS,WAAA,EAAAtF,MAAA,MAAA3M,GAAA,CAAAiS,WAAA,GAAAtF,MAAA;YAAA,OAAA9P,yDAAA,CAAA8P,MAAA;UAAA,EAAyB;UACnG9P,wDAAA,oBAAAkiB,6DAAA;YAAAliB,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAAUmD,GAAA,CAAAwI,UAAA,CAAAxI,GAAA,CAAAkI,IAAA,CAAgB;UAAA,EAAC;UAC3BrL,4DAAA,kBAAoC;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAS;UACxDA,4DAAA,kBAAyB;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAS;UACxCA,4DAAA,kBAA0B;UAAAA,oDAAA,eAAO;UAIzCA,0DAJyC,EAAS,EACnC,EACL,EACF,EACF;UACNA,wDAAA,KAAAmiB,yCAAA,kBAA8D;UAWtDniB,4DAJR,eAA8E,eACtD,eACS,eACoB,eACuB;UAClEA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAA6D,eACtB;UACnCA,oDAAA,wDACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAAgD;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,+MAEA;UAInEA,0DAJmE,EAAI,EAC3D,EACF,EACF,EACF;UAKEA,4DAJR,eAA8B,eACC,eACoB,eACgB,eACtB;UACnCA,oDAAA,0EACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAAmD;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,0NAES;UACzEA,0DADyE,EAAI,EACvE;UACNA,4DAAA,eAAoE;UAClEA,uDAAA,eACM;UAIdA,0DAHM,EAAM,EACF,EACF,EACF;UAIAA,4DAHN,eAA8B,eACC,eACoB,eACuB;UAClEA,uDAAA,eACM;UACRA,0DAAA,EAAM;UAEJA,4DADF,eAA6D,eACtB;UACnCA,oDAAA,4BACF;UAAAA,0DAAA,EAAM;UACHA,4DAAH,SAAG,SAAG;UAAAA,oDAAA,IAA6C;;UAAAA,0DAAA,EAAI;UAACA,oDAAA,0GACJ;UAK9DA,0DAL8D,EAAI,EACpD,EACF,EACF,EACF,EACF;UAINA,wDAAA,KAAAoiB,iDAAA,iCAAApiB,oEAAA,CAAgC;UAoBhCA,4DAAA,eAA8C;UAC5CA,uDAAA,qBACsE;UAG5EA,0DAFI,EAAM,EACF,EACF;;;UA/G0BA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAmD,GAAA,CAAAiI,MAAA,mBAA8B;UAMlDpL,uDAAA,GAAkB;UAAlBA,8DAAA,YAAAmD,GAAA,CAAAkI,IAAA,CAAkB;UAMwDrL,uDAAA,IAAyB;UAAzBA,8DAAA,YAAAmD,GAAA,CAAAiS,WAAA,CAAyB;UAE3FpV,uDAAA,EAAkB;UAAlBA,wDAAA,mBAAkB;UAClBA,uDAAA,GAAgB;UAAhBA,wDAAA,iBAAgB;UAChBA,uDAAA,GAAiB;UAAjBA,wDAAA,kBAAiB;UAKYA,uDAAA,GAAe;UAAfA,wDAAA,SAAAmD,GAAA,CAAAoI,SAAA,CAAe;UAOtCvL,uDAAA,EAAuD;UAAvDA,wDAAA,aAAAmD,GAAA,CAAAoI,SAAA,mCAAuD;UAY7DvL,uDAAA,IAAgD;UAAhDA,gEAAA,UAAAA,yDAAA,SAAAmD,GAAA,CAAAwe,oBAAA,MAAgD;UAchD3hB,uDAAA,IAAmD;UAAnDA,+DAAA,CAAAA,yDAAA,SAAAmD,GAAA,CAAAoe,4BAAA,EAAmD;UAsBnDvhB,uDAAA,IAA6C;UAA7CA,gEAAA,UAAAA,yDAAA,SAAAmD,GAAA,CAAAse,iBAAA,MAA6C;UA+BhDzhB,uDAAA,GAAiB;UAC1BA,wDADS,WAAAmD,GAAA,CAAAiI,MAAA,CAAiB,gCAAgC,0CAA0C,aAAAjI,GAAA,CAAAoI,SAAA,mCAC7C;;;;;;;;;;;;;;;;;;;;;;;;AC1GzD,MAAOlD,eAAe;EAI1BnH,YAAA;IAFA,KAAAmhB,YAAY,GAAW,IAAI;IAGzB,IAAI,CAACA,YAAY,GAAG,IAAI/a,IAAI,EAAE,CAACgb,WAAW,EAAE;EAC9C;EAEA3gB,QAAQA,CAAA,GACR;;;uCATW0G,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAAzF,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAuf,yBAAArf,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCJtBlD,4DAHN,aAA0B,aACS,aACd,WACiB;UAAAA,oDAAA,+BAAwB;UAC1DA,0DAD0D,EAAI,EACxD;UAGFA,4DAFJ,aAAwC,aACP,WACG;UAAAA,uDAAA,aAAgE;UAClGA,0DADkG,EAAI,EAChG;UAEJA,4DADF,aAA2C,YACV;UAAAA,uDAAA,eAAwD;UAI/FA,0DAJ+F,EAAI,EACvF,EACF,EACF,EACF;UAKEA,4DAJR,eAAuB,eACS,cACX,eACK,eACsB;UACtCA,oDAAA,IACF;UAIRA,0DAJQ,EAAM,EACF,EACF,EACF,EACF;;;UALIA,uDAAA,IACF;UADEA,gEAAA,uBAAAmD,GAAA,CAAAkf,YAAA,uDACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEcMriB,4DADF,SAA4C,YACgE;IAArCA,wDAAA,mBAAAwiB,kDAAA;MAAA,MAAA9hB,OAAA,GAAAV,2DAAA,CAAAuU,GAAA,EAAAnB,SAAA;MAAA,MAAAqP,MAAA,GAAAziB,2DAAA;MAAA,OAAAA,yDAAA,CAASyiB,MAAA,CAAAE,cAAA,CAAAjiB,OAAA,CAAA6L,KAAA,CAA0B;IAAA,EAAC;IACvGvM,oDAAA,GACF;IACFA,0DADE,EAAI,EACD;;;;;IAHsBA,uDAAA,EAA2C;IAA3CA,mEAAA,8BAAAyiB,MAAA,CAAAxgB,IAAA,GAAAvB,OAAA,CAAAkiB,GAAA,CAA2C;IAClE5iB,uDAAA,EACF;IADEA,gEAAA,MAAAU,OAAA,CAAA6L,KAAA,MACF;;;AD5BR,MAAOnE,eAAe;EAO1BlH,YAAoBE,cAA8B,EAAU8J,YAA0B;IAAlE,KAAA9J,cAAc,GAAdA,cAAc;IAA0B,KAAA8J,YAAY,GAAZA,YAAY;IANxE,KAAA2X,cAAc,GAAW,aAAa;IACtC,KAAAC,eAAe,GAAW,WAAW;IACrC,KAAA7gB,IAAI,GAAkB,EAAE;IACxB,KAAA4J,OAAO,GAAG,EAAE;IACZ,KAAAkX,UAAU,GAAG,KAAK;IAGhB,IAAI,CAAClX,OAAO,GAAGX,YAAY,CAACW,OAAO;EACrC;EAEAlK,QAAQA,CAAA;IACN,IAAI,CAACP,cAAc,CAACwK,SAAS,EAAE,CAAC7J,SAAS,CAACqJ,MAAM,IAAG;MACjD,IAAIA,MAAM,KAAK,aAAa,IAAIA,MAAM,KAAK,IAAI,CAACyX,cAAc,EAAE;QAC9D,IAAI,CAACA,cAAc,GAAG,aAAa;MACrC,CAAC,MAAM,IAAIzX,MAAM,KAAK,mBAAmB,IAAIA,MAAM,KAAK,IAAI,CAACyX,cAAc,EAAE;QAC3E,IAAI,CAACA,cAAc,GAAG,iBAAiB;MACzC,CAAC,MAAM,IAAIzX,MAAM,KAAK,gBAAgB,IAAIA,MAAM,KAAK,IAAI,CAACyX,cAAc,EAAE;QACxE,IAAI,CAACA,cAAc,GAAG,SAAS;MACjC,CAAC,MAAM,IAAIzX,MAAM,KAAK,kBAAkB,IAAIA,MAAM,KAAK,IAAI,CAACyX,cAAc,EAAE;QAC1E,IAAI,CAACA,cAAc,GAAG,WAAW;MACnC,CAAC,MAAM,IAAIzX,MAAM,KAAK,oBAAoB,IAAIA,MAAM,KAAK,IAAI,CAACyX,cAAc,EAAE;QAC5E,IAAI,CAACA,cAAc,GAAG,aAAa;MACrC;IACF,CAAC,CAAC;IACF,IAAI,CAACzhB,cAAc,CAACc,OAAO,EAAE,CAACH,SAAS,CAACE,IAAI,IAAG;MAC7C,IAAIA,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,OAAO,IAAGA,IAAI,KAAK,cAAc,IAAIA,IAAI,KAAK,WAAW,EAC5F,IAAI,CAACA,IAAI,GAAG,EAAE,CAAC,KACZ;QACH,IAAI,CAACA,IAAI,GAAGA,IAAI,GAAG,GAAG;MACxB;IACF,CAAC,CAAC;EACJ;EAEA0gB,cAAcA,CAACvX,MAAc;IAC3B,IAAI,CAACyX,cAAc,GAAGzX,MAAM;EAC9B;EAEA4X,eAAeA,CAACrP,OAAe;IAC7B,IAAI,CAACmP,eAAe,GAAGnP,OAAO;EAChC;EAEAsP,UAAUA,CAAA;IACR,IAAI,CAACF,UAAU,GAAG,CAAC,IAAI,CAACA,UAAU;EACpC;;;uCA5CW3a,eAAe,EAAApI,+DAAA,CAAAsC,qEAAA,GAAAtC,+DAAA,CAAAwC,iEAAA;IAAA;EAAA;;;YAAf4F,eAAe;MAAAxF,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAkgB,yBAAAhgB,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCLpBlD,4DAJR,aAA+E,aACpD,YACA,SACjB,WAC4D;UAC5DA,uDAAA,aAAgF;UAEpFA,0DADE,EAAI,EACD;UACLA,4DAAA,YAA0C;UAAvBA,wDAAA,mBAAAmjB,6CAAA;YAAA,OAAShgB,GAAA,CAAA8f,UAAA,EAAY;UAAA,EAAC;UACvCjjB,uDAAA,QAAyE;UAC3EA,0DAAA,EAAK;UAEHA,4DADF,YAAqE,WAEvC;UAD6CA,wDAAA,mBAAAojB,4CAAA;YAAA,OAASjgB,GAAA,CAAA6f,eAAA,CAAgB,WAAW,CAAC;UAAA,EAAC;UACnFhjB,oDAAA,YAAI;UAAAA,0DAAA,EAAI;UACpCA,4DAAA,YAC4B;UAD+BA,wDAAA,mBAAAqjB,6CAAA;YAAA,OAASlgB,GAAA,CAAA6f,eAAA,CAAgB,OAAO,CAAC;UAAA,EAAC;UACjEhjB,oDAAA,aAAK;UAAAA,0DAAA,EAAI;UACrCA,4DAAA,YAC4B;UADsCA,wDAAA,mBAAAsjB,6CAAA;YAAA,OAASngB,GAAA,CAAA6f,eAAA,CAAgB,cAAc,CAAC;UAAA,EAAC;UAC/EhjB,oDAAA,oBAAY;UAAAA,0DAAA,EAAI;UAIxCA,4DAHJ,eAAmC,aAET,gBACF;UAAAA,oDAAA,aAAK;UAAAA,0DAAA,EAAO;UAAAA,uDAAA,aAA6C;UAC/EA,0DAAA,EAAI;UAEEA,4DADN,cAAkD,UAC5C,aAAqG;UAAAA,uDAAA,aAC9D;UAAAA,oDAAA,gBAAQ;UAAIA,0DAAJ,EAAI,EAAK;UACxDA,4DAAJ,UAAI,aAAiG;UAAAA,uDAAA,aACrD;UAAAA,oDAAA,YAAI;UAExDA,0DAFwD,EAAI,EAAK,EAC1D,EACD;UAEJA,4DADF,eAA2C,gBAEjB;UAAAA,oDAAA,IAAkB;UAAAA,0DAAA,EAAO;UACjDA,4DAAA,cAA+F;UAC7FA,wDAAA,KAAAujB,8BAAA,iBAA4C;;UAUxDvjB,0DALU,EAAK,EACD,EACH,EACF,EACD,EACF;;;UAnCKA,uDAAA,GAAiE;UAAjEA,wDAAA,CAAAmD,GAAA,CAAA4f,UAAA,gDAAiE;UAE9B/iB,uDAAA,EAA4B;UAA5BA,yDAAA,YAAAmD,GAAA,CAAA4f,UAAA,CAA4B;UAqBxC/iB,uDAAA,IAAkB;UAAlBA,+DAAA,CAAAmD,GAAA,CAAA0f,cAAA,CAAkB;UAEnB7iB,uDAAA,GAAqB;UAArBA,wDAAA,YAAAA,yDAAA,QAAAmD,GAAA,CAAA0I,OAAA,EAAqB;;;;;;;;;;;;;;;;;;;;;;AChChD,MAAOnB,MAAM;EACjBxJ,YAAmBkG,IAAY,EAASmF,KAA2C;IAAhE,KAAAnF,IAAI,GAAJA,IAAI;IAAiB,KAAAmF,KAAK,GAALA,KAAK;EAC7C;;;;;;;;;;;;;;;;ACJI,MAAOmP,UAAU;EACrBxa,YAAmBwiB,IAAqB,EAASC,EAAmB;IAAjD,KAAAD,IAAI,GAAJA,IAAI;IAA0B,KAAAC,EAAE,GAAFA,EAAE;EACnD;;;;;;;;;;;;;;;;;;ACGI,MAAO9a,aAAa;EAExB+a,SAASA,CAACC,KAAU,EAAEC,IAAU;IAC9B,IAAID,KAAK,KAAKE,SAAS,EAAE;MACvB,OAAOF,KAAK;IACd;IACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,CAACpR,MAAM,CAACuR,KAAK,CAACvR,MAAM,CAACoR,KAAK,CAAC,CAAC,EAC3DA,KAAK,GAAGpR,MAAM,CAACoR,KAAK,CAAC,MAClB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAChC,OAAOA,KAAK;IAEd,IAAIpR,MAAM,CAACuR,KAAK,CAACH,KAAK,CAAC,EAAE;MACvB,OAAO,GAAG;IACZ;IAEA,IAAIA,KAAK,GAAG,IAAI,EAAE;MAChB,OAAOA,KAAK;IACd;IAEA,OAAOA,KAAK,CAACvO,QAAQ,EAAE,CAAC2O,KAAK,CAAC,CAAC,EAAEJ,KAAK,CAACvO,QAAQ,EAAE,CAACrO,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG4c,KAAK,CAACvO,QAAQ,EAAE,CAAC2O,KAAK,CAAC,CAAC,CAAC,CAAC;EAGlG;;;uCAtBWpb,aAAa;IAAA;EAAA;;;;YAAbA,aAAa;MAAAqb,IAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;ACApB,MAAOnb,oBAAoB;EAE/B6a,SAASA,CAACC,KAAU,EAAEC,IAAU;IAC9B,IAAID,KAAK,KAAKE,SAAS,EAAE;MACvB,OAAO,GAAG;IACZ;IACA,IAAI,OAAOF,KAAK,KAAK,QAAQ,IAAI,CAACpR,MAAM,CAACuR,KAAK,CAACvR,MAAM,CAACoR,KAAK,CAAC,CAAC,EAC3DA,KAAK,GAAGpR,MAAM,CAACoR,KAAK,CAAC,GAAE,GAAG,MACvB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAChC,OAAOA,KAAK,MACT,IAAIpR,MAAM,CAACuR,KAAK,CAACH,KAAK,CAAC,EAC1B,OAAO,GAAG;IACZ,OAAOA,KAAK,GAAE,GAAG;EAGnB;;;uCAfW9a,oBAAoB;IAAA;EAAA;;;;YAApBA,oBAAoB;MAAAmb,IAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;;;ACE3B,MAAO/a,gBAAgB;EAG3BjI,YAAA;IAFA,KAAAkK,MAAM,GAAW,aAAa;EAEd;EAEhBzJ,QAAQA,CAAA,GACR;;;uCANWwH,gBAAgB;IAAA;EAAA;;;YAAhBA,gBAAgB;MAAAvG,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAE,QAAA,WAAAmhB,0BAAAjhB,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCP7BlD,uDAAA,oBAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA/B;AACoD;AACpD;AACiE;AACjE;AACwD;AACxD;AACiE;AACjE;AACiE;AACjE;AACqD;AACrD;AACsE;AACtE;AACkE;AAClE;AACwD;AAEzB;AACiB;AACD;;AAGzC,MAAO8I,aAAa;EAD1B5H,YAAA;IAEE,KAAA4jB,eAAe,GAAG,sBAAsB;;EAExCC,uBAAuBA,CAACC,MAAW;IACjC,MAAMtf,IAAI,GAAGsf,MAAM,CAACtf,IAAI;IAExB;IACAA,IAAI,CAACuf,iBAAiB,CAAC,OAAO,EAAE,CAAC7d,IAAY,EAAEmF,KAAU,KAAI;MAC3D,IAAIA,KAAK,EAAE;QACTwH,MAAM,CAACkE,IAAI,CAAC1L,KAAK,EAAE,QAAQ,CAAC;MAC9B;IACF,CAAC,CAAC;IAEF7G,IAAI,CAACwf,gBAAgB,CAAC,OAAO,EAAE,MAAK;MAClCxf,IAAI,CAACyf,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAACnmB,GAAG,EAAE;IAClC,CAAC,CAAC;EACJ;EAEAga,cAAcA,CAACuG,KAAa,EAAEC,OAAe,EAAEzR,MAAa,EAAE1P,GAAW,EAAEic,OAAW;IACpF,IAAI8K,KAAK,GAAGxjB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC8iB,sDAAU,CAAC,CAAC;IAClD;IACAQ,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAGrX,MAAM;IACnC;IACA,OAAO8W,sDAAK,CAACrF,OAAO,EAAE4F,KAAK,EAAE9K,OAAO,CAAC;EACvC;EAEAuH,aAAaA,CAACtC,KAAa,EAAEC,OAAe,EAAEzR,MAAa,EAAE1P,GAAW,EAAEic,OAAW;IACnF,IAAI+K,GAAG,GAAGzjB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC0iB,2DAAc,CAAC,CAAC;IACpDa,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG9F,KAAK;IACpC8F,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAGtX,MAAM;IACjCsX,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,GAAGhnB,GAAG,EAAE,GAAG,GAAG;IAC7D,OAAOwmB,sDAAK,CAACrF,OAAO,EAAE6F,GAAG,EAAE/K,OAAO,CAAC,CAAC3b,IAAI,CAACqmB,MAAM,IAAI,IAAI,CAACD,uBAAuB,CAACC,MAAM,CAAC,CAAC;EAC1F;EAEAvK,gBAAgBA,CAAC+E,OAAe,EAAEzR,MAAa,EAAEuM,OAAW;IAC1D,IAAI8K,KAAK,GAAGxjB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC6iB,8DAAY,CAAC,CAAC;IACpDS,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAGrX,MAAM;IACnC,OAAO8W,sDAAK,CAACrF,OAAO,EAAE4F,KAAK,EAAE9K,OAAO,CAAC;EACvC;EAEAsF,YAAYA,CAACL,KAAa,EACxBC,OAAe,EACfzR,MAAY,EACZuX,KAAa,EACbC,MAAc,EACdC,MAAgB,EAChBxgB,MAAgB,EAChBsV,OAAW;IACX,IAAImL,GAAG,GAAG7jB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACsiB,oDAAQ,CAAC,CAAC;IAC9CqB,GAAG,CAAC,aAAa,CAAC,GAAGlG,KAAK;IAC1BkG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG1X,MAAM;IACjC0X,GAAG,CAAC,OAAO,CAAC,GAAGH,KAAK;IACpBG,GAAG,CAAC,QAAQ,CAAC,GAAGF,MAAM;IACtBE,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAGD,MAAM;IAClCC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAGzgB,MAAM;IAEnC,OAAO6f,sDAAK,CAACrF,OAAO,EAAEiG,GAAG,EAAEnL,OAAO,CAAC,CAAC3b,IAAI,CAACqmB,MAAM,IAAI,IAAI,CAACD,uBAAuB,CAACC,MAAM,CAAC,CAAC;EAC1F;EAEA/G,cAAcA,CAACsB,KAAa,EAC1BC,OAAe,EACfzR,MAAY,EACZuX,KAAa,EACbC,MAAc,EACdC,MAAgB,EAChBxgB,MAAgB,EAChBsV,OAAW;IACX,IAAIoL,KAAK,GAAG9jB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACwiB,sDAAU,CAAC,CAAC;IAClDoB,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAGnG,KAAK;IAC9BmG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG3X,MAAM;IACnC2X,KAAK,CAAC,OAAO,CAAC,GAAGJ,KAAK;IACtBI,KAAK,CAAC,QAAQ,CAAC,GAAGH,MAAM;IACxBG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAGF,MAAM;IACpCE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG1gB,MAAM;IAErC,OAAO6f,sDAAK,CAACrF,OAAO,EAAEkG,KAAK,EAAEpL,OAAO,CAAC,CAAC3b,IAAI,CAACqmB,MAAM,IAAI,IAAI,CAACD,uBAAuB,CAACC,MAAM,CAAC,CAAC;EAC5F;EAEA3S,kBAAkBA,CAACkN,KAAa,EAC9BC,OAAe,EACfzR,MAAY,EACZuX,KAAa,EACbE,MAAgB,EAChBxgB,MAAgB,EAChBsV,OAAW;IACX,IAAIoL,KAAK,GAAG9jB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACyiB,2DAAc,CAAC,CAAC;IACtDmB,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAGnG,KAAK;IAC9BmG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG3X,MAAM;IACnC2X,KAAK,CAAC,OAAO,CAAC,GAAGJ,KAAK;IACtBI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAGF,MAAM;IACpCE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG1gB,MAAM;IAErC,OAAO6f,sDAAK,CAACrF,OAAO,EAAEkG,KAAK,EAAEpL,OAAO,CAAC,CAAC3b,IAAI,CAACqmB,MAAM,IAAI,IAAI,CAACD,uBAAuB,CAACC,MAAM,CAAC,CAAC;EAC5F;EAEA/V,kBAAkBA,CAACsQ,KAAa,EAC9BC,OAAe,EACfzR,MAAY,EACZuM,OAAW;IACX,IAAIqL,UAAU,GAAG/jB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACuiB,2DAAc,CAAC,CAAC;IAC3DsB,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAGpG,KAAK;IACnCoG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG5X,MAAM;IACxC,OAAO8W,sDAAK,CAACrF,OAAO,EAAEmG,UAAU,EAAErL,OAAO,CAAC,CAAC3b,IAAI,CAACqmB,MAAM,IAAI,IAAI,CAACD,uBAAuB,CAACC,MAAM,CAAC,CAAC;EACjG;EAEAzP,qBAAqBA,CACnBgK,KAAa,EACbC,OAAe,EACf8F,KAAa,EACbM,4BAAoC,EACpC9Y,MAAc,EACd+Y,SAAc,EACdC,MAAW,EACXza,IAAqB,EACrB6F,cAAwB,EACxBoJ,OAAW;IACX,IAAIyL,IAAI,GAAGnkB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC4iB,8DAAgB,CAAC,CAAC;IACvD,IAAIrK,IAAI,GAAU,EAAE;IAEpB,IAAI2L,OAAO,GAAa,CAAC,IAAItb,yDAAM,CAAC,eAAe,EAAEwG,cAAc,CAAC,EAAE,IAAIxG,yDAAM,CAAC,MAAM,EAAEW,IAAI,CAAC,CAAC;IAC/FgP,IAAI,CAACnF,IAAI,CAAC;MACR,MAAM,EAAE,wBAAwB;MAChC,KAAK,EAAE,GAAG,IAAI,CAAC4P,eAAe,KAAKc,4BAA4B,gBAAgBhd,yDAAY,CAACqd,SAAS,CAACD,OAAO,CAAC,CAAC1Q,QAAQ,EAAE,EAAE;MAC3H,WAAW,EAAE,CAAC;QAAE,MAAM,EAAE,SAAS;QAAE,IAAI,EAAE,KAAK;QAAE,MAAM,EAAE;MAAkC,CAAE;KAC7F,CAAC;IAEF,IAAIjK,IAAI,IAAI,QAAQ,EAAE;MACpB2a,OAAO,CAACE,GAAG,EAAE;IACf;IAEA7L,IAAI,CAACnF,IAAI,CAAC;MACR,MAAM,EAAE,SAAS;MACjB,KAAK,EAAE,GAAG,IAAI,CAAC4P,eAAe,KAAKhY,MAAM,gBAAgBlE,yDAAY,CAACqd,SAAS,CAACD,OAAO,CAAC,CAAC1Q,QAAQ,EAAE,EAAE;MACrG,WAAW,EAAE,CACX;QACE,MAAM,EAAE,SAAS;QACjB,IAAI,EAAE,KAAK;QACX,MAAM,EAAE;OACT,EACD;QACE,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,wBAAwB;QAChC,KAAK,EAAE,KAAK;QACZ,QAAQ,EAAE,CAAC,KAAK,CAAC;QACjB,QAAQ,EAAE,CAAC,OAAO,CAAC;QACnB,IAAI,EAAE,CAAC,wBAAwB;OAChC,EACD;QACE,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE;OACT,EACD;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,0BAA0B;QAClC,IAAI,EAAE;OACP;KAEJ,CAAC;IACF+E,IAAI,CAACnF,IAAI,CAAC2Q,SAAS,CAAC;IACpBxL,IAAI,CAACnF,IAAI,CAAC4Q,MAAM,CAAC;IACjBzL,IAAI,CAACnF,IAAI,CAAC6Q,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAE1BA,IAAI,CAAC,aAAa,CAAC,GAAGxG,KAAK;IAC3BwG,IAAI,CAAC,MAAM,CAAC,GAAG1L,IAAI;IACnB0L,IAAI,CAAC,OAAO,CAAC,GAAGT,KAAK;IACrB,OAAOT,sDAAK,CAACrF,OAAO,EAAEuG,IAAI,EAAEzL,OAAO,CAAC;EACtC;EAEA7E,YAAYA,CACV8J,KAAa,EACbC,OAAe,EACf8F,KAAa,EACbC,MAAc,EACdK,4BAAoC,EACpC1Z,OAAW,EACXb,IAAqB,EACrB6F,cAAwB,EACxBoJ,OAAW;IACX,IAAIyL,IAAI,GAAGnkB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC2iB,qDAAQ,CAAC,CAAC;IAC/C,IAAIpK,IAAI,GAAU,EAAE;IAEpB,IAAI2L,OAAO,GAAa,CAAC,IAAItb,yDAAM,CAAC,eAAe,EAAEwG,cAAc,CAAC,EAAE,IAAIxG,yDAAM,CAAC,MAAM,EAAEW,IAAI,CAAC,CAAC;IAC/FgP,IAAI,CAACnF,IAAI,CAAC;MACR,MAAM,EAAE,wBAAwB;MAChC,KAAK,EAAE,GAAG,IAAI,CAAC4P,eAAe,KAAKc,4BAA4B,gBAAgBhd,yDAAY,CAACqd,SAAS,CAACD,OAAO,CAAC,CAAC1Q,QAAQ,EAAE,EAAE;MAC3H,WAAW,EAAE,CAAC;QAAE,MAAM,EAAE,SAAS;QAAE,IAAI,EAAE,KAAK;QAAE,MAAM,EAAE;MAAkC,CAAE;KAC7F,CAAC;IAEF,IAAIjK,IAAI,IAAI,QAAQ,EAAE;MACpB2a,OAAO,CAACE,GAAG,EAAE;IACf;IAEA7L,IAAI,CAACnF,IAAI,CAAC;MACR,MAAM,EAAE,SAAS;MACjB;MACA,KAAK,EAAE,GAAG,IAAI,CAAC4P,eAAe,KAAK5Y,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgBtD,yDAAY,CAACqd,SAAS,CAACD,OAAO,CAAC,CAAC1Q,QAAQ,EAAE;KAC9G,CAAC;IACF,IAAI6Q,YAAY,GAAU,EAAE;IAC5B,KAAK,IAAIrZ,MAAM,IAAIZ,OAAO,EAAE;MAC1Bia,YAAY,CAACjR,IAAI,CAACpI,MAAM,CAAC,aAAa,CAAC,CAAC;MACxC,IAAIsZ,SAAS,GAAG,EAAE;MAClB;MACA,KAAK,IAAI7Z,KAAK,IAAIO,MAAM,CAAC,cAAc,CAAC,EAAE;QACxCsZ,SAAS,IAAI,yBAAyB,GAAG7Z,KAAK,GAAG,cAAc;MACjE;MACA6Z,SAAS,GAAGA,SAAS,CAAC/e,SAAS,CAAC,CAAC,EAAE+e,SAAS,CAACnf,MAAM,GAAG,CAAC,CAAC;MACxDoT,IAAI,CAACnF,IAAI,CAAC;QACR9N,IAAI,EAAE0F,MAAM,CAAC,aAAa,CAAC;QAC3B,QAAQ,EAAE,CAAC,SAAS,CAAC;QACrB,WAAW,EAAE,CACX;UACE,MAAM,EAAE,SAAS;UACjB,IAAI,EAAE,KAAK;UACX,MAAM,EAAE;SACT,EACD;UACE,MAAM,EAAE,QAAQ;UAChB,MAAM,EAAE,wBAAwB;UAChC,KAAK,EAAE,KAAK;UACZ,QAAQ,EAAE,CAAC,KAAK,CAAC;UACjB,QAAQ,EAAE,CAAC,OAAO,CAAC;UACnB,IAAI,EAAE,CAAC,wBAAwB;SAChC,EACD;UACE,MAAM,EAAE,QAAQ;UAChB,MAAM,EAAE;SACT,EACD;UACE,MAAM,EAAE,SAAS;UACjB,IAAI,EAAE,gBAAgB;UACtB,MAAM,EAAE,KAAK,GAAGsZ,SAAS,GAAG;SAC7B,EACD;UAAE,MAAM,EAAE,WAAW;UAAE,SAAS,EAAE,CAAC,gBAAgB;QAAC,CAAE,EACtD;UACE,MAAM,EAAE,QAAQ;UAChB,KAAK,EAAE,gBAAgB;UACvB,SAAS,EAAE,CAAC,IAAI,CAAC;UACjB,OAAO,EAAE,OAAO;UAChB,OAAO,EAAE;SACV,EACD;UAAE,MAAM,EAAE,eAAe;UAAE,QAAQ,EAAE,CAAC,OAAO,CAAC;UAAE,KAAK,EAAE,CAAC,KAAK;QAAC,CAAE,EAChE;UAAE,MAAM,EAAE,QAAQ;UAAE,MAAM,EAAE;QAA8B,CAAE;OAE/D,CAAC;IACJ;IACA/L,IAAI,CAACnF,IAAI,CAAC;MAAE,MAAM,EAAE,SAAS;MAAE,QAAQ,EAAEhJ;IAAO,CAAE,CAAC;IACnDmO,IAAI,CAACnF,IAAI,CAAC;MACR,MAAM,EAAE,QAAQ;MAChB,QAAQ,EAAEiR,YAAY;MACtB,WAAW,EAAE,CACX;QACE,MAAM,EAAE,QAAQ;QAChB,KAAK,EAAE,CACL,YAAY,CACb;QACD,IAAI,EAAE,CACJ,KAAK;OAER,EACD;QACE,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,SAAS;QACjB,KAAK,EAAE,KAAK;QACZ,QAAQ,EAAE,CACR,KAAK,CACN;QACD,QAAQ,EAAE,CACR,OAAO,EACP,QAAQ,EACR,OAAO,EACP,cAAc,CACf;QACD,IAAI,EAAE,CACJ,OAAO,EACP,eAAe,EACf,OAAO,EACP,cAAc;OAEjB,EACD;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,6BAA6B;QACrC,IAAI,EAAE;OACP,EACD;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,8CAA8C;QACtD,IAAI,EAAE;OACP,EACD;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,4DAA4D;QACpE,IAAI,EAAE;OACP,EACD;QACE,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,+BAA+B;QACvC,IAAI,EAAE;OACP;KAEJ,CAAC;IAEFJ,IAAI,CAAC,aAAa,CAAC,GAAGxG,KAAK;IAC3BwG,IAAI,CAAC,MAAM,CAAC,GAAG1L,IAAI;IACnB0L,IAAI,CAAC,OAAO,CAAC,GAAGT,KAAK;IACrBS,IAAI,CAAC,QAAQ,CAAC,GAAGR,MAAM;IACvB,OAAOV,sDAAK,CAACrF,OAAO,EAAEuG,IAAI,EAAEzL,OAAO,CAAC;EACtC;;;uCAnTWxR,aAAa;IAAA;EAAA;;;aAAbA,aAAa;MAAAud,OAAA,EAAbvd,aAAa,CAAAwd;IAAA;EAAA;;;;;;;;;;;;;;;;;;;;;ACvBoC;AAEN;AACc;;;AAGhE,MAAO1d,YAAY;EAyDvB1H,YAAoB2U,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAxDtB,KAAA8Q,mBAAmB,GAAG,IAAIH,iDAAe,CAAU,KAAK,CAAC;IACjE,KAAAxR,aAAa,GAAG,IAAI,CAAC2R,mBAAmB,CAACC,YAAY,EAAE;IAC/C,KAAAC,KAAK,GAA2B,EAAE;IAE1C,KAAA/B,eAAe,GAAG,sBAAsB;IAExC,KAAA5T,cAAc,GAAG;MACfI,OAAO,EAAE,aAAa;MACtBH,iBAAiB,EAAE,mBAAmB;MACtCS,WAAW,EAAE,iBAAiB;MAC9BH,SAAS,EAAE,eAAe;MAC1BM,gBAAgB,EAAE,sBAAsB;MACxCG,WAAW,EAAE,iBAAiB;MAC9B4U,IAAI,EAAE;KACP;IAED,KAAA1a,iCAAiC,GAAG;MAClCC,EAAE,EAAE,0CAA0C;MAC9CK,GAAG,EAAE,kDAAkD;MACvDG,GAAG,EAAE;KACN;IAED,KAAAhB,OAAO,GAAG;MACR,aAAa,EAAE,aAAa;MAC5B,mBAAmB,EAAE,iBAAiB;MACtC,gBAAgB,EAAE,SAAS;MAC3B,kBAAkB,EAAE,WAAW;MAC/B,oBAAoB,EAAE,aAAa;MACnC,kBAAkB,EAAE,oBAAoB;MACxC,aAAa,EAAE;KAChB;IAED,KAAAK,OAAO,GAAG;MACR6a,uBAAuB,EAAE,QAAQ;MACjCC,wBAAwB,EAAE,OAAO;MACjCvN,sBAAsB,EAAE,QAAQ;MAChCG,0BAA0B,EAAE,QAAQ;MACpCD,yBAAyB,EAAE,QAAQ;MACnCxN,wBAAwB,EAAE,OAAO;MACjCM,yBAAyB,EAAE,QAAQ;MACnCG,yBAAyB,EAAE,QAAQ;MACnCqa,qCAAqC,EAAE,QAAQ;MAC/CC,oCAAoC,EAAE,OAAO;MAC7CC,qBAAqB,EAAE,QAAQ;MAC/BlW,mBAAmB,EAAE,QAAQ;MAC7ByI,wBAAwB,EAAE,OAAO;MACjC9B,oBAAoB,EAAE,OAAO;MAC7BF,oBAAoB,EAAE,OAAO;MAC7BgF,2BAA2B,EAAE,OAAO;MACpClF,yBAAyB,EAAE,OAAO;MAClCmF,+BAA+B,EAAE,OAAO;MACxC+D,iCAAiC,EAAE,QAAQ;MAC3CC,sBAAsB,EAAE,QAAQ;MAChCC,eAAe,EAAE;KAClB;EAGD;EAEAhM,QAAQA,CAACwS,KAAe;IACtB,MAAMtO,QAAQ,GAAGsO,KAAK,CAACvc,GAAG,CAAE5I,IAAI,IAAK,IAAI,CAAC4T,UAAU,CAACrY,GAAG,CAACyE,IAAI,CAAC,CAAC;IAC/D,OAAO2I,8CAAQ,CAACkO,QAAQ,CAAC;EAC3B;EAEAhE,gBAAgBA,CAAA;IACd,IAAI,CAAC6R,mBAAmB,CAAC9oB,IAAI,CAAC,IAAI,CAAC;EACrC;EAEAoO,UAAUA,CAACob,SAAiB,EAAErB,OAAiB;IAC7C,IAAI3nB,GAAG,GAAG,GAAG,IAAI,CAACymB,eAAe,KAAKuC,SAAS,cAAc;IAE7D,OAAO,IAAI,CAAC7pB,GAAG,CAAMa,GAAG,EAAEuK,YAAY,CAACqd,SAAS,CAACD,OAAO,CAAC,CAAC;EAC5D;EAEA,OAAOC,SAASA,CAACD,OAAiB;IAChC,IAAIpf,MAAM,GAAG,IAAI2f,4DAAU,EAAE;IAC7B,KAAK,IAAIja,MAAM,IAAI0Z,OAAO,EAAE;MAC1B,IAAIsB,KAAK,CAACC,OAAO,CAACjb,MAAM,CAACC,KAAK,CAAC,EAAE;QAC/B,KAAK,IAAIib,YAAY,IAAIlb,MAAM,CAACC,KAAK,EAAE;UACrC3F,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,KAAK,EAAEogB,YAAY,CAAC;QACvE;MACF,CAAC,MAAM,IAAIlb,MAAM,CAACC,KAAK,YAAYmP,gEAAU,EAAE;QAC7C9U,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,SAAS,EAAEkF,MAAM,CAACC,KAAK,CAACmX,IAAI,CAAC;QAC9E9c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,OAAO,EAAEkF,MAAM,CAACC,KAAK,CAACoX,EAAE,CAAC;MAC5E,CAAC,MAAM;QACL/c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,GAAG,EAAEkF,MAAM,CAACC,KAAK,CAAC;MACrE;IACF;IACA3F,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;IAClC7gB,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,MAAM,EAAE,aAAa,CAAC;IAC7C,OAAO7gB,MAAM;EACf;EAEO,OAAOyO,YAAYA,CAAC2Q,OAAiB;IAC1C,IAAIpf,MAAM,GAAG,IAAI2f,4DAAU,EAAE;IAC7B,KAAK,IAAIja,MAAM,IAAI0Z,OAAO,EAAE;MAC1B,IAAIsB,KAAK,CAACC,OAAO,CAACjb,MAAM,CAACC,KAAK,CAAC,EAAE;QAC/B,KAAK,IAAIib,YAAY,IAAIlb,MAAM,CAACC,KAAK,EAAE;UACrC3F,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,KAAK,EAAEogB,YAAY,CAAC;QACvE;MACF,CAAC,MAAM,IAAIlb,MAAM,CAACC,KAAK,YAAYmP,gEAAU,EAAE;QAC7C9U,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,SAAS,EAAEkF,MAAM,CAACC,KAAK,CAACmX,IAAI,CAAC;QAC9E9c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,OAAO,EAAEkF,MAAM,CAACC,KAAK,CAACoX,EAAE,CAAC;MAC5E,CAAC,MAAM;QACL/c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,GAAG,EAAEkF,MAAM,CAACC,KAAK,CAAC;MACrE;IACF;IACA,OAAO3F,MAAM;EACf;EAEAmF,eAAeA,CAACX,MAAqB;IACnC,IAAIA,MAAM,KAAK,gBAAgB,EAAE;MAC/B,OAAO,IAAI,CAAC8F,cAAc,CAACI,OAAO;IACpC,CAAC,MAAM,IAAIlG,MAAM,KAAK,mBAAmB,EAAE;MACzC,OAAO,IAAI,CAAC8F,cAAc,CAACC,iBAAiB;IAC9C,CAAC,MAAM,IAAI/F,MAAM,KAAK,oBAAoB,EAAE;MAC1C,OAAO,IAAI,CAAC8F,cAAc,CAACU,WAAW;IACxC,CAAC,MAAM,IAAIxG,MAAM,KAAK,kBAAkB,EAAE;MACxC,OAAO,IAAI,CAAC8F,cAAc,CAACO,SAAS;IACtC,CAAC,MAAM,IAAIrG,MAAM,KAAK,kBAAkB,EAAE;MACxC,OAAO,IAAI,CAAC8F,cAAc,CAACa,gBAAgB;IAC7C,CAAC,MAAM,IAAI3G,MAAM,KAAK,aAAa,EAAE;MACnC,OAAO,IAAI,CAAC8F,cAAc,CAACgB,WAAW;IACxC,CAAC,MAAM;MACL,OAAO,IAAI,CAAChB,cAAc,CAAC4V,IAAI;IACjC;EACF;EAEAtpB,GAAGA,CAAIa,GAAW,EAAEuI,MAAA,GAAqB,IAAI2f,4DAAU,EAAE,EAAEmB,QAAA,GAAoB,IAAI;IACjF,MAAMC,QAAQ,GAAGtpB,GAAG,GAAGuD,IAAI,CAACE,SAAS,CAAC8E,MAAM,CAAC;IAE7C,IAAI8gB,QAAQ,IAAI,IAAI,CAACb,KAAK,CAACc,QAAQ,CAAC,EAAE;MACpC,OAAOlB,wCAAE,CAAC,IAAI,CAACI,KAAK,CAACc,QAAQ,CAAC,CAAC;IACjC;IACA,OAAO,IAAI,CAAC9R,UAAU,CAACrY,GAAG,CAAIa,GAAG,EAAE;MAAEuI,MAAM,EAAEA;IAAM,CAAE,CAAC,CAAC6G,IAAI,CACzDiZ,yCAAG,CAACrM,IAAI,IAAG;MACT,IAAI,CAACwM,KAAK,CAACc,QAAQ,CAAC,GAAGtN,IAAI;IAC7B,CAAC,CAAC,CACH;EACH;EAEAuN,UAAUA,CAAA;IACR,IAAI,CAACf,KAAK,GAAG,EAAE;EACjB;;;uCAhJWje,YAAY,EAAA5I,sDAAA,CAAAsC,4DAAA;IAAA;EAAA;;;aAAZsG,YAAY;MAAAyd,OAAA,EAAZzd,YAAY,CAAA0d;IAAA;EAAA;;;;;;;;;;;;;;;;;;;ACN4B;;AAG/C,MAAO7jB,cAAc;EAIzBvB,YAAA;IAHA,KAAAkK,MAAM,GAAG,IAAI0c,yCAAO,EAAiB;IACrC,KAAA7lB,IAAI,GAAG,IAAI6lB,yCAAO,EAAiB;IAGjC,IAAI,CAAC1c,MAAM,CAACvN,IAAI,CAAC,aAAa,CAAC;IAC/B,IAAI,CAACoE,IAAI,CAACpE,IAAI,CAAC,WAAW,CAAC;EAC7B;EAEA+N,SAASA,CAAA;IACP,OAAO,IAAI,CAACR,MAAM;EACpB;EAEAlJ,OAAOA,CAAA;IACL,OAAO,IAAI,CAACD,IAAI;EAClB;;;uCAfWQ,cAAc;IAAA;EAAA;;;aAAdA,cAAc;MAAA4jB,OAAA,EAAd5jB,cAAc,CAAA6jB;IAAA;EAAA;;;;;;;;;;;;;;;;;;ACCrB,MAAO7c,mBAAmB;EAE9BvI,YAAA,GAAgB;;;uCAFLuI,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAA7G,SAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;ACL+E;AACjD;;;;;AAQxD,MAAO4G,eAAe;EAL5BtI,YAAA;IAaU,KAAA8mB,WAAW,GAAG,CAAC;;EAEvB,IAAIC,WAAWA,CAAA;IACb;IACA,OAAO,IAAI,CAACC,KAAK,CAACnb,IAAI,CAAC,CAACG,IAAI,EAAEib,KAAK,KAAKA,KAAK,KAAK,IAAI,CAACH,WAAW,CAAC;EACrE;EAEAI,kBAAkBA,CAAA,GAClB;EAEA/M,eAAeA,CAAA,GACf;EAEAgN,WAAWA,CAAA;IACT;IACA,IAAI,CAACC,eAAe,CAACC,aAAa,CAACC,UAAU,IAAI,IAAI,CAACP,WAAW,CAACM,aAAa,CAACE,WAAW;IAE3F,IAAI,IAAI,CAACT,WAAW,GAAG,CAAC,EAAE;MACxB,IAAI,CAACA,WAAW,EAAE;IACpB;EACF;EAEAU,YAAYA,CAAA;IACV,IAAI,CAACJ,eAAe,CAACC,aAAa,CAACC,UAAU,IAAI,IAAI,CAACP,WAAW,CAACM,aAAa,CAACE,WAAW;IAE3F,IAAI,IAAI,CAACT,WAAW,GAAG,IAAI,CAACE,KAAK,CAACjhB,MAAM,GAAG,CAAC,EAAE;MAC5C,IAAI,CAAC+gB,WAAW,EAAE;IACpB;EACF;;;uCApCWxe,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAA5G,SAAA;MAAA+lB,cAAA,WAAAC,+BAAA1lB,EAAA,EAAAC,GAAA,EAAA0lB,QAAA;QAAA,IAAA3lB,EAAA;iFAGTuG,uEAAmB,KAAUse,qDAAU;;;;;;;;;;;;;;;;;;;;;;;;UCVlD/nB,4DAFR,aAA8B,aACD,WACqC;UAAxBA,wDAAA,mBAAA8oB,4CAAA;YAAA9oB,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAASmD,GAAA,CAAAklB,WAAA,EAAa;UAAA,EAAC;UAACroB,uDAAA,WAAkC;UAAAA,0DAAA,EAAI;UAChGA,4DAAA,WAA2C;UAAzBA,wDAAA,mBAAA+oB,4CAAA;YAAA/oB,2DAAA,CAAAuU,GAAA;YAAA,OAAAvU,yDAAA,CAASmD,GAAA,CAAAulB,YAAA,EAAc;UAAA,EAAC;UAAC1oB,uDAAA,WAAmC;UAClFA,0DADkF,EAAI,EAChF;UACNA,4DAAA,gBAA4B;UACxBA,0DAAA,2BAA8D;UAEtEA,0DADI,EAAM,EACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA,MAAOiE,kBAAkB;EAE7B/C,YAAoBC,KAAqB,EAAUC,cAA8B;IAA7D,KAAAD,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;EAAoB;EAErFO,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAAC9C,GAAG,CAAC0D,SAAS,CAACC,GAAG,IAAG;MAC7B,IAAIA,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,KAAK,WAAW,EAC7B,IAAI,CAACb,cAAc,CAACc,OAAO,EAAE,CAACrE,IAAI,CAACmE,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC;IACnD,CAAC,CAAC;EACJ;;;uCATWgC,kBAAkB,EAAAjE,+DAAA,CAAAsC,2DAAA,GAAAtC,+DAAA,CAAAwC,qEAAA;IAAA;EAAA;;;YAAlByB,kBAAkB;MAAArB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAimB,4BAAA/lB,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCLzBlD,4DAJN,aAAsD,aAEZ,aACa,cACV;UAAAA,oDAAA,sHAA+G;UAAAA,0DAAA,EAAO;UAQhJA,4DANb,aAAuB,UAChB,cAG8I,UAC1I,UACE,gBAA0B;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAQ;UAAAA,uDAAA,gBAG0D;UACvGA,0DAAA,EAAM;UACDA,4DAAL,WAAK,gBAA+B;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAQ;UAAAA,uDAAA,gBAEgD;UACvGA,0DAAA,EAAM;UACDA,4DAAL,WAAK,gBAA+B;UAAAA,oDAAA,kBAAU;UAAAA,0DAAA,EAAQ;UAAAA,uDAAA,iBACwB;UAAAA,0DAAA,EAAM;UAC/EA,4DAAL,WAAK,gBAA+B;UAAAA,oDAAA,qBAAa;UAAAA,0DAAA,EAAQ;UAAAA,uDAAA,iBACwB;UAAAA,0DAAA,EAAM;UAIjFA,4DAHN,WAAK,WACE,WACE,eAC0B;UAAAA,uDAAA,iBACD;UAAAA,4DAAA,iBAAyD;UAAAA,oDAAA,gEAC7D;UAAQA,0DAAR,EAAQ,EAAM;UACtCA,uDAAA,iBAAkG;UAEtGA,0DADE,EAAM,EACF;UACHA,4DAAH,SAAG,aAAgG;UAAAA,oDAAA,+BAC3F;UACZA,0DADY,EAAI,EAAI,EAAM,EACpB;UAGFA,4DAFJ,eAAiB,eACiB,kBAC0B;UAAAA,oDAAA,iBAAS;UAQjFA,0DARiF,EAAS,EACtE,EACF,EACD,EACH,EACF,EACF,EACF,EACF;;;;;;;;;;;;;;;;;;;;;;;;AC9CgD;AACJ;AAE5C,MAAO8K,kBAAkB;EAK7B5J,YAAA;IAJQ,KAAAlD,OAAO,GAAW,sBAAsB;IAExC,KAAAkrB,QAAQ,GAAW,EAAE;IAG3B,IAAI,CAAClD,OAAO,GAAG,EAAE;EACnB;EAEO5Y,WAAWA,CAAC8b,QAAyB;IAC1C,IAAI,CAACA,QAAQ,GAAG,OAAOA,QAAQ,KAAK,QAAQ,GAAG,IAAIA,QAAQ,EAAE,GAAGA,QAAQ;IACxE,OAAO,IAAI;EACb;EAEO7b,SAASA,CAACf,MAAc;IAC7B,IAAI,CAAC0Z,OAAO,CAAC9Q,IAAI,CAAC5I,MAAM,CAAC;IACzB,OAAO,IAAI;EACb;EAEOgB,KAAKA,CAAA;IACV,IAAIjP,GAAG,GAAG,GAAG,IAAI,CAACL,OAAO,IAAI,IAAI,CAACkrB,QAAQ,EAAE;IAE5C,IAAItiB,MAAM,GAAG,IAAI2f,4DAAU,EAAE;IAC7B,KAAK,IAAIja,MAAM,IAAI,IAAI,CAAC0Z,OAAO,EAAE;MAC/B,IAAIsB,KAAK,CAACC,OAAO,CAACjb,MAAM,CAACC,KAAK,CAAC,EAAE;QAC/B,KAAK,IAAIib,YAAY,IAAIlb,MAAM,CAACC,KAAK,EAAE;UACrC3F,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,KAAK,EAAEogB,YAAY,CAAC;QACvE;MACF,CAAC,MAAM,IAAIlb,MAAM,CAACC,KAAK,YAAYmP,gEAAU,EAAE;QAC7C9U,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,SAAS,EAAEkF,MAAM,CAACC,KAAK,CAACmX,IAAI,CAAC;QAC9E9c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,OAAO,EAAEkF,MAAM,CAACC,KAAK,CAACoX,EAAE,CAAC;MAC5E,CAAC,MAAM;QACL/c,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,SAAS,GAAGnb,MAAM,CAAClF,IAAI,GAAG,GAAG,EAAEkF,MAAM,CAACC,KAAK,CAAC;MACrE;IACF;IACA3F,MAAM,GAAGA,MAAM,CAAC6gB,MAAM,CAAC,KAAK,EAAC,eAAe,CAAC;IAE7C,OAAO,GAAGppB,GAAG,IAAIuI,MAAM,CAAC0O,QAAQ,EAAE,EAAE;EACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1CF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;;;;WCvCA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,gBAAgB,qBAAqB;WACrC;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA,aAAa;WACb;WACA,IAAI;WACJ;WACA;;WAEA;;WAEA;;WAEA;;;;;WCrCA;WACA;WACA;WACA;WACA;;;;;UEJA;UACA","sources":["./server.ts","./src/app/about/about.component.ts","./src/app/about/about.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.server.ts","./src/app/app.module.ts","./src/app/case-studies/case-studies.component.ts","./src/app/case-studies/case-studies.component.html","./src/app/dashboard/beyond-compliance/beyond-compliance.component.ts","./src/app/dashboard/beyond-compliance/beyond-compliance.component.html","./src/app/dashboard/dashboard.component.ts","./src/app/dashboard/dashboard.component.html","./src/app/dashboard/disclosure-rates/disclosure-rates.component.ts","./src/app/dashboard/disclosure-rates/disclosure-rates.component.html","./src/app/dashboard/export-as/export-as.component.ts","./src/app/dashboard/export-as/export-as.component.html","./src/app/dashboard/further-findings-alternative-two/approach-to-incidents/approach-to-incidents.component.ts","./src/app/dashboard/further-findings-alternative-two/approach-to-incidents/approach-to-incidents.component.html","./src/app/dashboard/further-findings-alternative-two/approach-to-policies/approach-to-policies.component.ts","./src/app/dashboard/further-findings-alternative-two/approach-to-policies/approach-to-policies.component.html","./src/app/dashboard/further-findings-alternative-two/approach-to-risks/approach-to-risks.component.ts","./src/app/dashboard/further-findings-alternative-two/approach-to-risks/approach-to-risks.component.html","./src/app/dashboard/further-findings-alternative-two/further-findings.component.ts","./src/app/dashboard/further-findings-alternative-two/further-findings.component.html","./src/app/dashboard/going-beyond-compliance/going-beyond-compliance.component.ts","./src/app/dashboard/going-beyond-compliance/going-beyond-compliance.component.html","./src/app/dashboard/highlight-metric/highlight-metric.component.ts","./src/app/dashboard/highlight-metric/highlight-metric.component.html","./src/app/dashboard/introductory-section/introductory-section.component.ts","./src/app/dashboard/introductory-section/introductory-section.component.html","./src/app/dashboard/key-findings-section/key-findings-section.component.ts","./src/app/dashboard/key-findings-section/key-findings-section.component.html","./src/app/dashboard/minimum-requirements-section/minimum-requirements-section.component.ts","./src/app/dashboard/minimum-requirements-section/minimum-requirements-section.component.html","./src/app/dashboard/spotlight-metrics/spotlight-metrics.component.ts","./src/app/dashboard/spotlight-metrics/spotlight-metrics.component.html","./src/app/footer/footer.component.ts","./src/app/footer/footer.component.html","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/app/models/filter.model.ts","./src/app/models/valuerange.model.ts","./src/app/pipes/num-format.pipe.ts","./src/app/pipes/percentage-format.pipe.ts","./src/app/section/section.component.ts","./src/app/section/section.component.html","./src/app/services/charts.service.ts","./src/app/services/data.provider.ts","./src/app/services/sector.provider.ts","./src/app/slider/slider-item.directive.ts","./src/app/slider/slider.component.ts","./src/app/slider/slider.component.html","./src/app/subscribe/subscribe.component.ts","./src/app/subscribe/subscribe.component.html","./src/app/utils/wikirate-url-builder.ts","./node_modules/express/lib/ sync","external node-commonjs \"async_hooks\"","external node-commonjs \"buffer\"","external node-commonjs \"crypto\"","external node-commonjs \"events\"","external node-commonjs \"fs\"","external node-commonjs \"http\"","external node-commonjs \"https\"","external node-commonjs \"module\"","external node-commonjs \"net\"","external node-commonjs \"node:fs\"","external node-commonjs \"node:fs/promises\"","external node-commonjs \"node:path\"","external node-commonjs \"node:url\"","external node-commonjs \"os\"","external node-commonjs \"path\"","external node-commonjs \"punycode\"","external node-commonjs \"querystring\"","external node-commonjs \"stream\"","external node-commonjs \"string_decoder\"","external node-commonjs \"timers\"","external node-commonjs \"tty\"","external node-commonjs \"url\"","external node-commonjs \"util\"","external node-commonjs \"zlib\"","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/require chunk loading","webpack/runtime/startup chunk dependencies","webpack/before-startup","webpack/startup","webpack/after-startup"],"sourcesContent":["import 'zone.js/node';\r\n\r\nimport { APP_BASE_HREF } from '@angular/common';\r\nimport { CommonEngine } from '@angular/ssr';\r\nimport express from 'express';\r\nimport { existsSync } from 'node:fs';\r\nimport { join } from 'node:path';\r\nimport AppServerModule from './src/main.server';\r\n\r\n// The Express app is exported so that it can be used by serverless Functions.\r\nexport function app(): express.Express {\r\n  const server = express();\r\n  const distFolder = join(process.cwd(), 'dist/msa-dashboard/browser');\r\n  const indexHtml = existsSync(join(distFolder, 'index.original.html'))\r\n    ? join(distFolder, 'index.original.html')\r\n    : join(distFolder, 'index.html');\r\n\r\n  const commonEngine = new CommonEngine();\r\n\r\n  server.set('view engine', 'html');\r\n  server.set('views', distFolder);\r\n\r\n  // Example Express Rest API endpoints\r\n  // server.get('/api/**', (req, res) => { });\r\n  // Serve static files from /browser\r\n  server.get('*.*', express.static(distFolder, {\r\n    maxAge: '1y'\r\n  }));\r\n\r\n  // All regular routes use the Angular engine\r\n  server.get('*', (req, res, next) => {\r\n    const { protocol, originalUrl, baseUrl, headers } = req;\r\n\r\n    commonEngine\r\n      .render({\r\n        bootstrap: AppServerModule,\r\n        documentFilePath: indexHtml,\r\n        url: `${protocol}://${headers.host}${originalUrl}`,\r\n        publicPath: distFolder,\r\n        providers: [{ provide: APP_BASE_HREF, useValue: baseUrl }],\r\n      })\r\n      .then((html) => res.send(html))\r\n      .catch((err) => next(err));\r\n  });\r\n\r\n  return server;\r\n}\r\n\r\nfunction run(): void {\r\n  const port = process.env['PORT'] || 4000;\r\n\r\n  // Start up the Node server\r\n  const server = app();\r\n  server.listen(port, () => {\r\n    console.log(`Node Express server listening on http://localhost:${port}`);\r\n  });\r\n}\r\n\r\n// Webpack will replace 'require' with '__webpack_require__'\r\n// '__non_webpack_require__' is a proxy to Node 'require'\r\n// The below code is to ensure that the server is run only when not requiring the bundle.\r\ndeclare const __non_webpack_require__: NodeRequire;\r\nconst mainModule = __non_webpack_require__.main;\r\nconst moduleFilename = mainModule && mainModule.filename || '';\r\nif (moduleFilename === __filename || moduleFilename.includes('iisnode')) {\r\n  run();\r\n}\r\n\r\nexport default AppServerModule;\r\n","import {Component, OnInit} from '@angular/core';\r\n// @ts-ignore\r\nimport methodology_table from '../../assets/methodology_table.json';\r\n// @ts-ignore\r\nimport spotlight_metrics from '../../assets/spotlight_metrics_table.json';\r\n// @ts-ignore\r\nimport walk_free_reports from '../../assets/reports_per_sector.json';\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {SectorProvider} from \"../services/sector.provider\";\r\nimport {ViewportScroller} from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: 'about',\r\n  templateUrl: './about.component.html',\r\n  styleUrls: ['./about.component.scss']\r\n})\r\nexport class AboutComponent implements OnInit {\r\n  table: any[] = [];\r\n  spotlight_metrics_table: any[] = []\r\n  reports: any[] = []\r\n  currentIndex = 1\r\n  contributors = [\r\n    {\r\n      \"contributor\": \"Australian National University\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/5295432/20444349-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"ESCP Europe\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/1779114/12602972-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"John Hopkins University\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/2749557/12774885-medium.jpg\"\r\n    },\r\n    {\r\n      \"contributor\": \"Lancaster University Management School\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/12639475/33117884-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"School of International and Public Affairs at Columbia University\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/12639482/33117897-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"University of Amsterdam\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/5759131/21999891-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"University of British Columbia\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/2877117/13099211-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"University of Connecticut\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/2877060/13099154-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"University of Nottingham\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/3149947/13561221-medium.png\"\r\n    },\r\n    {\r\n      \"contributor\": \"University of Western Australia\",\r\n      \"logo\": \"https://wikirate-production-storage.fra1.cdn.digitaloceanspaces.com/files/2549359/12602502-medium.jpeg\"\r\n    }];\r\n\r\n  constructor(private route: ActivatedRoute, private sectorProvider: SectorProvider,private scroll: ViewportScroller) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.table = JSON.parse(JSON.stringify(methodology_table));\r\n    this.spotlight_metrics_table = JSON.parse(JSON.stringify(spotlight_metrics));\r\n    this.reports = JSON.parse(JSON.stringify(walk_free_reports));\r\n\r\n    this.route.url.subscribe(val => {\r\n      if (val[0].path === 'about')\r\n        this.sectorProvider.getPath().next(val[0].path)\r\n    })\r\n\r\n    this.scrollToTop();\r\n  }\r\n\r\n  scrollToTop() {\r\n    this.scroll.scrollToPosition([0, 0]);\r\n  }\r\n\r\n}\r\n","<div class=\"container mt-4 mb-4\">\r\n  <h1 class=\"pt-4 pb-4\">About</h1>\r\n  <p class=\"intro pb-4 col-lg-10 col-md-12\">This dashboard shines a light on business reporting under modern slavery legislation. Only with\r\n    transparency can we\r\n    understand how legislation is affecting business practice, hold non-compliance to account and improve industry\r\n    standards. Promoting respect for human rights and labour standards is crucial to build a more sustainable and\r\n    resilient global economy - join us in our efforts!</p>\r\n</div>\r\n<div class=\"container mt-4 mb-4\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12 p-3 pt-4 pb-4\">\r\n      <h3 class=\"mb-3\">Sector Focus</h3>\r\n      <p class=\"col-lg-10 col-md-12\">\r\n        Over the years Walk Free has analysed and published subsets of the data collected through the Modern Slavery\r\n        Act Research project on Wikirate. Since 2019 these case studies have had a sector specific focus, which so\r\n        far have included:\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <app-slider>\r\n    <div appSliderItem  *ngFor=\"let report of reports\">\r\n      <div class=\"card m-2\" style=\"width: 18rem;\">\r\n        <img src=\"{{report['image']}}\" class=\"card-img-top\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{report['title']}}</h5>\r\n          <p class=\"card-text\">{{report['description']}}</p>\r\n          <a class=\"button orange-navy-button mt-3 me-2\"\r\n              href=\"{{report['href']}}\"\r\n              target=\"_blank\">Read more</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </app-slider>\r\n</div>\r\n<div class=\"container mt-4 mb-4\">\r\n  <h3 class=\"mb-4\">Take Action</h3>\r\n  <div class=\"row ms-lg-0 me-lg-0 ms-1 me-1\">\r\n    <div class=\"col-lg-4 mb-lg-0 mb-3 no-padding pe-lg-2 content-box\">\r\n      <div class=\"bg-yellow p-4 fit-height\">\r\n        <h5 class=\"mb-3\">Policy maker</h5>\r\n        <ul class=\"no-margin\">\r\n          <li>Assess how companies are responding to MSA legislation across sectors</li>\r\n          <li>Find reporting gaps and assess how these could be improved through strengthened legislation</li>\r\n          <li>Use these findings to advocate for improved MSA legislation</li>\r\n          <li>Implement financial penalties for non-compliance with the MSAs</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-4  mb-lg-0 mb-3 no-padding ps-lg-2 pe-lg-2 content-box\">\r\n      <div class=\"bg-dark-orange p-4 pb-2 fit-height\">\r\n        <h5 class=\"mb-3\">Company reporting under MSA</h5>\r\n        <ul>\r\n          <li>Assess how peers are performing under MSA legislations and identify better practice</li>\r\n          <li>Address reporting gaps that exist at your company</li>\r\n          <li>Use the beyond compliance metrics to define due diligence and reporting targets</li>\r\n          <li>Share findings with industry initiatives, to encourage better engagement with MSA legislations</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-4 no-padding ps-lg-2 content-box\">\r\n      <div class=\"bg-deep-blue p-4 fit-height\">\r\n        <h5 class=\"mb-3\">Activist</h5>\r\n        <ul>\r\n          <li>Share findings on social media to highlight where companies can do more\r\n          </li>\r\n          <li>Spread the word! Share the dashboard so that others can engage too</li>\r\n          <li> Join the MSA research on the <a class=\"text-white\"\r\n              href=\"https://wikirate.org/MSA_Beyond_Compliance_Research\">Wikirate\r\n              platform</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"container mt-4 mb-4\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"content\">\r\n        <p class=\"col-lg-10 col-md-12\">\r\n          In 2016, when the first companies started publishing their UK Modern Slavery Act statements, Walk Free and\r\n          Wikirate partnered to set up a research project that could assess their contents; were companies approaching\r\n          it as another tick box exercise or were they going beyond compliance?\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"section bg-grey\">\r\n  <div class=\"container mt-4 mb-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12 p-3 pt-4 pb-4\">\r\n        <h3 class=\"mb-3\">Methodology</h3>\r\n        <p class=\"col-lg-10 col-md-12\">\r\n          Drawing on Walk Free's knowledge of modern slavery due diligence and the Home Office Guidance accompanying the\r\n          UK Act,\r\n          the partnership developed a <b>set of 18 standardised metrics</b> to assess the content of the statements.\r\n        </p>\r\n        <p class=\"col-lg-10 col-md-12\">In 2024, <b>3 spotlight metrics</b> were designed to capture additional aspects of due diligence. The\r\n          following overview\r\n          shows how both the UK and Australian legislation guidance and requirements map to the projects' standardised\r\n          metrics.\r\n        </p>\r\n        <div class=\"content collapse\" id=\"methodology\">\r\n          <table class=\"table table-responsive-md\">\r\n            <thead class=\"thead-dark\">\r\n              <tr>\r\n                <th class=\"bg-deep-blue wikirate-metrics\" scope=\"col-3\" colspan=\"2\">Walk Free metrics on Wikirate\r\n                  platform\r\n                </th>\r\n                <th class=\"bg-deep-blue\" scope=\"col-3\"><a\r\n                    href=\"https://www.gov.uk/government/publications/transparency-in-supply-chains-a-practical-guide\">UK\r\n                    MSA\r\n                    Requirements & Guidance</a></th>\r\n                <th class=\"bg-deep-blue\" scope=\"col-3\"><a\r\n                    href=\"https://modernslaveryregister.gov.au/resources/\">Australia\r\n                    MSA Requirements</a>\r\n                </th>\r\n              </tr>\r\n              <tr>\r\n                <th class=\"bg-white wikirate-metrics\" scope=\"col-2\">Metric</th>\r\n                <th class=\"bg-white wikirate-metrics\" scope=\"col-4\">Description</th>\r\n                <th class=\"bg-white\" scope=\"col-3\">Requirements & Guidance</th>\r\n                <th class=\"bg-white\" scope=\"col-3\">Requirements & Criterion</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let item of table\">\r\n                <td class=\"col-2 bg-neutral-blue wikirate-metrics\"><a href=\"{{item['url']}}\"\r\n                    target=\"_blank\">{{item['metric']}}</a></td>\r\n                <td class=\"col-4 bg-neutral-blue wikirate-metrics\">{{item['description']}}</td>\r\n                <td class=\"col-3\"\r\n                  [ngClass]=\"(item['requirements_guidance_color'] === 'red') ? 'td-bg-color-red' : 'td-bg-color-yellow'\">\r\n                  {{item['requirements_guidance']}}</td>\r\n                <td class=\"col-3\"\r\n                  [ngClass]=\"(item['requirements_criterion_color'] === 'red') ? 'td-bg-color-red' : 'td-bg-color-yellow'\">\r\n                  {{item['requirements_criterion']}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"row ms-2\">\r\n            <div class=\"row p-1 justify-content-end\">\r\n              <div class=\"col-auto no-padding\">Mandatory</div>\r\n              <div class=\"col-auto\">\r\n                <div class=\"legend-box td-bg-color-red\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row p-1  justify-content-end\">\r\n              <div class=\"col-auto no-padding\">Not Mandatory</div>\r\n              <div class=\"col-auto\">\r\n                <div class=\"legend-box td-bg-color-yellow\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <table class=\"table table-responsive-md mt-3\">\r\n            <thead class=\"thead-dark\">\r\n              <tr>\r\n                <th class=\"bg-deep-blue wikirate-metrics\" scope=\"col-9\" colspan=\"2\">Spotlight metrics\r\n                </th>\r\n              </tr>\r\n              <tr>\r\n                <th class=\"bg-white wikirate-metrics\" scope=\"col-2\">Metric</th>\r\n                <th class=\"bg-white wikirate-metrics\" scope=\"col-10\">Description</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let item of spotlight_metrics_table\">\r\n                <td class=\"col-2 bg-neutral-blue wikirate-metrics\"><a href=\"{{item['url']}}\"\r\n                    target=\"_blank\">{{item['metric']}}</a></td>\r\n                <td class=\"col-10 bg-neutral-blue wikirate-metrics\">{{item['description']}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <span id=\"show-more\" class=\"show-more collapsed\" data-bs-toggle=\"collapse\" href=\"#methodology\" role=\"button\"\r\n          aria-expanded=\"false\" aria-controls=\"methodology\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"container mt-4 mb-4\">\r\n  <div class=\"section\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8 p-3\">\r\n        <h3 class=\"mb-3\">Collaborative Research</h3>\r\n        <div class=\"content\">\r\n          <p>On <a href=\"https://wikirate.org\" target=\"_blank\">wikirate.org</a> anyone interested can take part in research efforts that gather data about the\r\n            actions and impacts of companies on people and planet. The data displayed in this dashboard is collected\r\n            through the Modern Slavery Act research project. It is organised by Walk Free and Wikirate but the research\r\n            is conducted by a much broader community of passionate researchers including volunteers, University\r\n            students, and experts from around the world. As the research is ongoing, this is a dynamic dashboard that\r\n            updates as and when new data is contributed to <a href=\"https://wikirate.org\" target=\"_blank\">wikirate.org</a>.</p>\r\n          <p><i>The data feeding into this dashboard includes raw assessment from our team of student volunteers. The\r\n              data used in our research publications undergoes an additional layer of quality assurance.</i></p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-4 mb-md-0 mb-3 p-md-4 content-box d-flex flex-column justify-content-center\">\r\n        <div class=\"bg-deep-blue p-4\">\r\n          <h5 class=\"mb-3\">Join the Research</h5>\r\n          <p>Contribute to MSA research via the <a class=\"text-white\"\r\n              href=\"https://wikirate.org/MSA_Beyond_Compliance_Research\" target=\"_blank\">wikirate.org</a></p>\r\n          <div class=\"mt-auto\">\r\n            <a class=\"button white-button mt-3 me-2\"\r\n              href=\"https://docs.google.com/forms/d/e/1FAIpQLSerCNkXsdRrdPeirYub3qMxY5SC0-JwxpP7b9gUZuV0mL6Q-Q/viewform\"\r\n              target=\"_blank\">Become a Volunteer</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"container\">\r\n  <div class=\"section\">\r\n    <app-subscribe></app-subscribe>\r\n  </div>\r\n</div>\r\n<div class=\"container mt-4 mb-4\">\r\n  <div class=\"section\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12 p-3\">\r\n        <h3 class=\"mb-3\">Research Contributors</h3>\r\n        <p>This research was performed with the contribution of the following organisations</p>\r\n        <div class=\"slider mt-3\">\r\n          <div class=\"slide-track\">\r\n            <div class=\"slide\" *ngFor=\"let contributor of contributors let i = index\">\r\n              <div class=\"row col-12 justify-content-center\">\r\n                <div class=\"image-box d-flex justify-content-center align-items-center m-2\">\r\n                  <img src=\"{{contributor.logo}}\" alt=\"{{contributor.contributor}}\" />\r\n                </div>\r\n                <div class=\"contributor-name m3 text-center\">\r\n                  {{contributor.contributor}}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #standardized_metrics_details>\r\n  <p>As the project progressed 3 more standardised metrics have been added. One resulting from the Australian Modern\r\n    Slavery Act requirements assessing \"Consultation process\" (see table below) and two looking at best practices\r\n    such as companies <a href=\"https://wikirate.org/Walk_Free+MSA_historic_record\" target=\"_blank\">providing a\r\n      historic\r\n      record of previous statements</a> on their\r\n    website, and making explicit <a href=\"https://wikirate.org/Walk_Free+MSA_Impact_on_Company_Behaviour\"\r\n      target=\"_blank\">how the legislation impacted company behavior.</a></p>\r\n</ng-template>","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {DashboardComponent} from \"./dashboard/dashboard.component\";\r\nimport {AboutComponent} from \"./about/about.component\";\r\nimport {KeyFindingsSectionComponent} from \"./dashboard/key-findings-section/key-findings-section.component\";\r\nimport {\r\n  MinimumRequirementsSectionComponent\r\n} from \"./dashboard/minimum-requirements-section/minimum-requirements-section.component\";\r\nimport {FurtherFindingsComponent} from \"./dashboard/further-findings-alternative-two/further-findings.component\";\r\nimport {DisclosureRatesComponent} from \"./dashboard/disclosure-rates/disclosure-rates.component\";\r\nimport {SubscribeComponent} from \"./subscribe/subscribe.component\";\r\nimport { BeyondComplianceComponent } from './dashboard/beyond-compliance/beyond-compliance.component';\r\nimport { HighlightMetricComponent } from './dashboard/highlight-metric/highlight-metric.component';\r\nimport { CaseStudiesComponent } from './case-studies/case-studies.component';\r\nimport { GoingBeyondComplianceComponent } from './dashboard/going-beyond-compliance/going-beyond-compliance.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'dashboard/:sector', component: DashboardComponent\r\n  },\r\n  {path: 'dashboard/key-findings/:sector', component: KeyFindingsSectionComponent},\r\n  {path: 'dashboard/highlight-metric/:sector', component: HighlightMetricComponent},\r\n  {path: 'dashboard/meeting-minimum-requirements/:sector', component: MinimumRequirementsSectionComponent},\r\n  {path: 'dashboard/beyond-compliance/:sector', component: BeyondComplianceComponent},\r\n  {path: 'dashboard/going-beyond-compliance/:sector', component: GoingBeyondComplianceComponent},\r\n  {path: 'dashboard/further-findings/:sector', component: FurtherFindingsComponent},\r\n  {path: 'dashboard/sector-disclosure-rates/:sector', component: DisclosureRatesComponent},\r\n  {path: 'case-studies', component: CaseStudiesComponent},\r\n  {path: 'subscribe', component: SubscribeComponent},\r\n  {path: 'about', component: AboutComponent},\r\n  {path: '**', redirectTo: '/dashboard/all-sectors', pathMatch: 'full'}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, NavigationEnd, Router} from \"@angular/router\";\r\nimport {filter, Subscription} from \"rxjs\";\r\nimport {\r\n  NgcCookieConsentConfig,\r\n  NgcCookieConsentModule,\r\n  NgcCookieConsentService, NgcInitializingEvent, NgcNoCookieLawEvent,\r\n  NgcStatusChangeEvent\r\n} from 'ngx-cookieconsent';\r\n\r\nconst cookieConfig: NgcCookieConsentConfig = {\r\n  cookie: {\r\n    domain: 'localhost' // or 'your.domain.com' // it is mandatory to set a domain, for cookies to work properly (see https://goo.gl/S2Hy2A)\r\n  },\r\n  palette: {\r\n    popup: {\r\n      background: '#000'\r\n    },\r\n    button: {\r\n      background: '#f1d600'\r\n    }\r\n  },\r\n  theme: 'edgeless',\r\n  type: 'opt-out'\r\n};\r\n\r\ndeclare let gtag: Function;\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  view: string = 'default';\r\n\r\n  //keep refs to subscriptions to be able to unsubscribe later\r\n  private popupOpenSubscription!: Subscription;\r\n  private popupCloseSubscription!: Subscription;\r\n  private initializeSubscription!: Subscription;\r\n  private statusChangeSubscription!: Subscription;\r\n  private revokeChoiceSubscription!: Subscription;\r\n  private noCookieLawSubscription!: Subscription;\r\n\r\n  constructor(private route: ActivatedRoute, private router: Router, private ccService: NgcCookieConsentService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // subscribe to cookieconsent observables to react to main events\r\n    this.popupOpenSubscription = this.ccService.popupOpen$.subscribe(\r\n      () => {\r\n        // you can use this.ccService.getConfig() to do stuff...\r\n      });\r\n    this.popupCloseSubscription = this.ccService.popupClose$.subscribe(\r\n      () => {\r\n      });\r\n\r\n    this.initializeSubscription = this.ccService.initializing$.subscribe(\r\n      (event: NgcInitializingEvent) => {\r\n      });\r\n\r\n    this.statusChangeSubscription = this.ccService.statusChange$.subscribe(\r\n      (event: NgcStatusChangeEvent) => {\r\n        if (event.status == 'allow') {\r\n          gtag('consent', 'update', {\r\n            'ad_storage': 'granted',\r\n            'analytics_storage': 'granted'\r\n          })\r\n        } else {\r\n          gtag('consent', 'update', {\r\n            'ad_storage': 'denied',\r\n            'analytics_storage': 'denied'\r\n          });\r\n          this.deleteAllCookies()\r\n        }\r\n      });\r\n\r\n    this.revokeChoiceSubscription = this.ccService.revokeChoice$.subscribe(\r\n      () => {\r\n        gtag('consent', 'update', {\r\n          'ad_storage': 'denied',\r\n          'analytics_storage': 'denied'\r\n        });\r\n      });\r\n\r\n    this.noCookieLawSubscription = this.ccService.noCookieLaw$.subscribe(\r\n      (event: NgcNoCookieLawEvent) => {\r\n      });\r\n\r\n    // this.setUpAnalytics();\r\n    this.route.queryParams\r\n      .subscribe(params => {\r\n          // @ts-ignore\r\n          this.view = params.view;\r\n        }\r\n      );\r\n  }\r\n\r\n  deleteAllCookies() {\r\n    var cookies = document.cookie.split(\";\");\r\n\r\n    for (var i = 0; i < cookies.length; i++) {\r\n      var cookie = cookies[i];\r\n      var eqPos = cookie.indexOf(\"=\");\r\n      var name = eqPos > -1 ? cookie.substring(0, eqPos) : cookie;\r\n      if (name.includes(\"_ga\") || name.includes(\"_gid\") || name.includes(\"_gat\")) {\r\n        document.cookie = name + '=; path=/; domain=' + '.wikirate.org' + '; expires=' + new Date(0).toUTCString();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // unsubscribe to cookieconsent observables to prevent memory leaks\r\n    this.popupOpenSubscription.unsubscribe();\r\n    this.popupCloseSubscription.unsubscribe();\r\n    this.initializeSubscription.unsubscribe();\r\n    this.statusChangeSubscription.unsubscribe();\r\n    this.revokeChoiceSubscription.unsubscribe();\r\n    this.noCookieLawSubscription.unsubscribe();\r\n  }\r\n}\r\n","<header-component *ngIf=\"view !== 'embed'\">></header-component>\r\n  <router-outlet></router-outlet>\r\n<footer *ngIf=\"view !== 'embed'\"></footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { ServerModule } from '@angular/platform-server';\r\n\r\nimport { AppModule } from './app.module';\r\nimport { AppComponent } from './app.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    AppModule,\r\n    ServerModule,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppServerModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule, provideClientHydration, withEventReplay } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { AboutComponent } from './about/about.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { provideHttpClient, withInterceptorsFromDi } from \"@angular/common/http\";\r\nimport { SectorProvider } from \"./services/sector.provider\";\r\nimport { IntroductorySectionComponent } from './dashboard/introductory-section/introductory-section.component';\r\nimport { KeyFindingsSectionComponent } from './dashboard/key-findings-section/key-findings-section.component';\r\nimport {\r\n  MinimumRequirementsSectionComponent\r\n} from './dashboard/minimum-requirements-section/minimum-requirements-section.component';\r\nimport { DataProvider } from \"./services/data.provider\";\r\nimport { NumFormatPipe } from \"./pipes/num-format.pipe\";\r\nimport { ChartsService } from \"./services/charts.service\";\r\nimport { PercentageFormatPipe } from \"./pipes/percentage-format.pipe\";\r\nimport { DisclosureRatesComponent } from './dashboard/disclosure-rates/disclosure-rates.component';\r\nimport { ApproachToPoliciesComponent } from './dashboard/further-findings-alternative-two/approach-to-policies/approach-to-policies.component';\r\nimport { FurtherFindingsComponent } from './dashboard/further-findings-alternative-two/further-findings.component';\r\nimport { ApproachToIncidentsComponent } from './dashboard/further-findings-alternative-two/approach-to-incidents/approach-to-incidents.component';\r\nimport {\r\n  ApproachToRisksComponent\r\n} from \"./dashboard/further-findings-alternative-two/approach-to-risks/approach-to-risks.component\";\r\nimport { SectionComponent } from './section/section.component';\r\nimport { ExportAsModule } from \"ngx-export-as\";\r\nimport { ClipboardModule } from \"ngx-clipboard\";\r\nimport { SubscribeComponent } from './subscribe/subscribe.component';\r\nimport { NgcCookieConsentConfig, NgcCookieConsentModule } from \"ngx-cookieconsent\";\r\nimport { SpotlightMetricsComponent } from './dashboard/spotlight-metrics/spotlight-metrics.component';\r\nimport { BeyondComplianceComponent } from './dashboard/beyond-compliance/beyond-compliance.component';\r\nimport { HighlightMetricComponent } from './dashboard/highlight-metric/highlight-metric.component';\r\nimport { SliderComponent } from './slider/slider.component';\r\nimport { SliderItemDirective } from './slider/slider-item.directive';\r\nimport { CaseStudiesComponent } from './case-studies/case-studies.component';\r\nimport { GoingBeyondComplianceComponent } from './dashboard/going-beyond-compliance/going-beyond-compliance.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ExportAsComponent } from './dashboard/export-as/export-as.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst cookieConfig: NgcCookieConsentConfig = {\r\n  cookie: {\r\n    domain: '.wikirate.org'\r\n  },\r\n  palette: {\r\n    popup: {\r\n      background: '#000029'\r\n    },\r\n    button: {\r\n      background: '#f1d600'\r\n    }\r\n  },\r\n  theme: 'edgeless',\r\n  type: 'opt-out',\r\n  layout: 'my-custom-layout',\r\n  layouts: {\r\n    \"my-custom-layout\": '{{messagelink}}{{compliance}}'\r\n  },\r\n  elements: {\r\n    messagelink: `\r\n    <span id=\"cookieconsent:desc\" class=\"cc-message\">{{message}}\r\n      <a aria-label=\"learn more about our privacy policy\" tabindex=\"1\" class=\"cc-link\" href=\"{{privacyPolicyHref}}\" target=\"_blank\">{{privacyPolicyLink}}</a>.\r\n    </span>\r\n    `,\r\n  },\r\n  content: {\r\n    message: 'The Beyond Compliance Dashboard uses cookies to collect and analyze site performance and usage. By clicking the Accept button, you agree to allow us to place cookies and share information with Google Analytics. For more information, please read our ',\r\n    privacyPolicyLink: 'Privacy Policy',\r\n    privacyPolicyHref: 'https://www.walkfree.org/privacy-policy/'\r\n  }\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    FooterComponent,\r\n    AboutComponent,\r\n    DashboardComponent,\r\n    IntroductorySectionComponent,\r\n    KeyFindingsSectionComponent,\r\n    MinimumRequirementsSectionComponent,\r\n    NumFormatPipe,\r\n    PercentageFormatPipe,\r\n    DisclosureRatesComponent,\r\n    ApproachToIncidentsComponent,\r\n    ApproachToRisksComponent,\r\n    ApproachToPoliciesComponent,\r\n    FurtherFindingsComponent,\r\n    SectionComponent,\r\n    ExportAsComponent,\r\n    SubscribeComponent,\r\n    SpotlightMetricsComponent,\r\n    BeyondComplianceComponent,\r\n    HighlightMetricComponent,\r\n    SliderComponent,\r\n    SliderItemDirective,\r\n    CaseStudiesComponent,\r\n    GoingBeyondComplianceComponent\r\n  ],\r\n  bootstrap: [AppComponent],\r\n  imports: [\r\n    FormsModule,\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    NgbModule,\r\n    RouterModule,\r\n    AppRoutingModule,\r\n    ExportAsModule,\r\n    ClipboardModule,\r\n    NgcCookieConsentModule.forRoot(cookieConfig)],\r\n  providers: [SectorProvider, DataProvider, ChartsService, provideHttpClient(withInterceptorsFromDi()), provideClientHydration(withEventReplay())]\r\n})\r\nexport class AppModule {\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n// @ts-ignore\r\nimport case_studies from \"../../assets/case-studies/electronics.json\"\r\n\r\n@Component({\r\n  selector: 'app-case-studies',\r\n  templateUrl: './case-studies.component.html',\r\n  styleUrls: ['./case-studies.component.scss']\r\n})\r\nexport class CaseStudiesComponent implements OnInit {\r\n\r\n  case_studies = case_studies\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"row mt-3\">\r\n    <div class=\"col-xl-4 col-lg-6 col-md-12 col-12 mb-lg-0 mb-3 pt-3\" *ngFor=\"let case_study of case_studies\">\r\n      <div class=\"accordion\" [id]=\"case_study['key']\">\r\n        <div class=\"accordion-item-transparent\">\r\n          <div class=\"accordion-header\" [id]=\"case_study['key']+'_title'\">\r\n            <div class=\"accordion-button-transparent collapsed\" type=\"button\" data-bs-toggle=\"collapse\"\r\n              [attr.data-bs-target]=\"'#'+case_study['key']+'_alt_two'\" aria-expanded=\"false\"\r\n              aria-controls=\"collapseThree\">\r\n                <div [className]=\"'image-container ' + case_study['key']\"></div>\r\n                <div class=\"row p-4\">\r\n                  <div class=\"row\">\r\n                    <h6>Case studies</h6>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <h3 class=\"orange-title\">{{case_study['subject']}}</h3>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <p>{{case_study['description']}}</p>\r\n                    <h5 class=\"on-details\">More</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div [id]=\"case_study['key']+'_alt_two'\" class=\"accordion-collapse collapse\"\r\n            [attr.aria-labelledby]=\"case_study['key']+'_title'\" [attr.data-bs-parent]=\"'#'+case_study['key']\">\r\n            <div class=\"accordion-body\">\r\n              <div class=\"row\" *ngFor=\"let case of case_study['case_studies']\">\r\n                <figure>\r\n                  <div class=\"blockquote ps-2\">\r\n                    <p><i class=\"bi bi-quote pe-2\"></i>{{case['quote']}}</p>\r\n                  </div>\r\n                  <figcaption class=\"blockquote-footer mt-2 mb-2\">\r\n                    <a target=\"_blank\" [href]=\"case['wikirate_answer']\">{{case['company']}}</a> <cite title=\"source\">{{'\r\n                      Page '+ case['page']+ ' on '}}<a target=\"_blank\" [href]=\"case['source']\">Modern Slavery\r\n                        Statement</a></cite>\r\n                  </figcaption>\r\n\r\n                </figure>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>","import { Component, OnInit, SimpleChanges } from '@angular/core';\r\nimport { DataProvider } from \"../../services/data.provider\";\r\nimport { Filter } from \"../../models/filter.model\";\r\n// @ts-ignore\r\nimport beyond_compliance_metrics from \"../../../assets/charts-params/beyond-compliance-metrics.json\"\r\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport { SectorProvider } from \"../../services/sector.provider\";\r\nimport { forkJoin, map } from \"rxjs\";\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\nimport { WikirateUrlBuilder } from 'src/app/utils/wikirate-url-builder';\r\n\r\n@Component({\r\n  selector: 'beyond-compliance',\r\n  templateUrl: './beyond-compliance.component.html',\r\n  styleUrls: ['./beyond-compliance.component.scss']\r\n})\r\nexport class BeyondComplianceComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  year: number | string = ''\r\n  active: string = 'name';\r\n  isLoading: boolean = true;\r\n  beyond_compliance_metrics = beyond_compliance_metrics;\r\n  metric_question:string = ''\r\n  metric_seq = 1\r\n\r\n  constructor(private dataProvider: DataProvider, private route: ActivatedRoute, private sectorProvider: SectorProvider, private chartService: ChartsService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData()\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'going-beyond-compliance')\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n    })\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n  updateData() {\r\n    this.active = \"name\"\r\n    this.isLoading = true;\r\n    let company_group = this.dataProvider.getCompanyGroup(this.sector)\r\n\r\n    const uk_statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.meet_uk_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.uk].filter(value => value != ''))]\r\n    )\r\n\r\n    const aus_statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.meet_aus_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.aus].filter(value => value != ''))]\r\n    )\r\n\r\n    const statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_meet_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.any].filter(value => value != ''))]\r\n    )\r\n\r\n    let metric:any = this.beyond_compliance_metrics.find((document: any) => document.seq === this.metric_seq)\r\n\r\n    this.metric_question = metric['question']\r\n\r\n    const metric_answers = this.dataProvider.getAnswers(metric['id'], [\r\n      new Filter(\"year\", this.year),\r\n      new Filter(\"value\", metric['filter_value']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.any].filter(value => value != ''))\r\n    ].filter(item => item.value != 'latest'))\r\n\r\n    const metric_total_url = new WikirateUrlBuilder().setEndpoint(metric['id'])\r\n      .addFilter(new Filter(\"year\", this.year))\r\n      .addFilter(new Filter(\"value\", metric['filter_value']))\r\n      .addFilter(new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.any].filter(value => value != '')))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    const metric_uk_url = new WikirateUrlBuilder().setEndpoint(metric['id'])\r\n      .addFilter(new Filter(\"year\", this.year))\r\n      .addFilter(new Filter(\"value\", metric['filter_value']))\r\n      .addFilter(new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.uk].filter(value => value != '')))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    const metric_aus_url = new WikirateUrlBuilder().setEndpoint(metric['id'])\r\n      .addFilter(new Filter(\"year\", this.year))\r\n      .addFilter(new Filter(\"value\", metric['filter_value']))\r\n      .addFilter(new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.aus].filter(value => value != '')))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    forkJoin([uk_statements_assessed, aus_statements_assessed, statements_assessed, metric_answers])\r\n      .pipe(map(([uk_assessed_statements, aus_assessed_statements, total_assessed_statements, answers]) => {\r\n        if (this.year == 'latest') {\r\n          total_assessed_statements = Object.values(total_assessed_statements.reduce((r: any, o: any) => {\r\n            r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n            return r\r\n          }, {}))\r\n        }\r\n\r\n        let uk_count = answers.reduce((count: any, item:any) => {\r\n          if (uk_assessed_statements.some((o: any) => o.company === item.company && o.year === item.year)) {\r\n            return count + 1;\r\n          }\r\n          return count;\r\n        }, 0);\r\n        let aus_count = answers.reduce((count: any, item:any) => {\r\n          if (aus_assessed_statements.some((o: any) => o.company === item.company && o.year === item.year)) {\r\n            return count + 1;\r\n          }\r\n          return count;\r\n        }, 0);\r\n        let total = answers.reduce((count: any, item:any) => {\r\n          if (total_assessed_statements.some((o: any) => o.company === item.company && o.year === item.year)) {\r\n            return count + 1;\r\n          }\r\n          return count;\r\n        }, 0);\r\n\r\n        return {\r\n          'uk_percent': Math.round(uk_count * 100 / uk_assessed_statements.length),\r\n          'aus_percent': Math.round(aus_count * 100 / aus_assessed_statements.length),\r\n          'total_percent': Math.round(total * 100 / total_assessed_statements.length)\r\n        }\r\n      }))\r\n      .subscribe({\r\n        next: (results) => {\r\n          let vis_data = [\r\n            { 'label': 'Both', 'value': results.total_percent, 'color': '#000029', 'metric': metric['label'], 'wikirate_page': metric_total_url },\r\n            { 'label': 'UK', 'value': results.uk_percent, 'color': metric['uk_color_hex'], 'mandatory': metric['uk_color'] == 'bg-deep-orange' ? 'Yes' : 'No', 'metric': metric['label'], 'wikirate_page': metric_uk_url },\r\n            { 'label': 'AUS', 'value': results.aus_percent, 'color': metric['aus_color_hex'], 'mandatory': metric['aus_color'] == 'bg-deep-orange' ? 'Yes' : 'No', 'metric': metric['label'], 'wikirate_page': metric_aus_url }]\r\n\r\n          if (metric['label'] == \"Consultation process\") {\r\n            vis_data = [\r\n              { 'label': 'Both', 'value': NaN, 'color': '#000029', 'metric': metric['label'], 'wikirate_page': metric_total_url },\r\n              { 'label': 'UK', 'value': NaN, 'color': metric['uk_color_hex'], 'mandatory': metric['uk_color'] == 'bg-deep-orange' ? 'Yes' : 'No', 'metric': metric['label'], 'wikirate_page': metric_uk_url },\r\n              { 'label': 'AUS', 'value': results.aus_percent, 'color': metric['aus_color_hex'], 'mandatory': metric['aus_color'] == 'bg-deep-orange' ? 'Yes' : 'No', 'metric': metric['label'], 'wikirate_page': metric_aus_url }]\r\n          }\r\n\r\n          this.chartService.drawSimpleBarChart(metric['label'], '#metric-chart', vis_data, { renderer: \"svg\", actions: false })\r\n        },\r\n        complete: () => {\r\n          this.isLoading = false\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.updateData()\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div id=\"beyond-compliance\" class=\"section-top mt-5 bg-grey p-4\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n                <h3 class=\"title\">Going Beyond Compliance</h3>\r\n                <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <select class=\"msa-form-select ms-md-auto bg-grey\" aria-label=\"Minimum requirements year filter\"\r\n                    style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\" [(ngModel)]=\"year\"\r\n                    (change)=\"updateData()\">\r\n                    <option [ngValue]=\"''\" selected>ALL YEARS</option>\r\n                    <option [ngValue]=\"'latest'\">LATEST</option>\r\n                    <option [ngValue]=\"2022\">2022</option>\r\n                    <option [ngValue]=\"2021\">2021</option>\r\n                    <option [ngValue]=\"2020\">2020</option>\r\n                    <option [ngValue]=\"2019\">2019</option>\r\n                    <option [ngValue]=\"2018\">2018</option>\r\n                    <option [ngValue]=\"2017\">2017</option>\r\n                    <option [ngValue]=\"2016\">2016</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"row p-2\">\r\n                <div class=\"col-lg-10 col-md-12\">\r\n                    <select class=\"msa-metric-select ms-md-auto bg-grey\" aria-label=\"Metric Select\" (change)=\"updateData()\" [(ngModel)]=\"metric_seq\">\r\n                        <option *ngFor=\"let metric of beyond_compliance_metrics\" [ngValue]=\"metric['seq']\">{{metric['label']}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"row pt-md-2 pt-1\">\r\n                <div class=\"col-md-12\">\r\n                    <p class=\"col-lg-10 col-md-12 fst-italic fs-5\">Beyond the minimum requirements, the accompanying guidance of the MSAs outlines the measures and\r\n                        actions\r\n                        companies should take and report on to ensure their operations and supply chains are free from\r\n                        exploitation. </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row p-2 row justify-content-center\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n            <div class=\"row p-1 pe-2 text-center\">\r\n                <p><b>{{metric_question}}</b></p>\r\n            </div>\r\n            <div class=\"row p-1 pe-2\">\r\n                <div class=\"col-auto no-padding ms-auto\">Mandatory</div>\r\n                <div class=\"col-auto\">\r\n                    <div class=\"legend-box bg-deep-orange\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row p-1 pe-2 justify-content-center\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-6 col-xl-6\">\r\n                    <div id=\"metric-chart\" class=\"chart-wrapper\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n            <div class=\"col-12 text-center align-self-center\">\r\n                <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n                    <span class=\"sr-only\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"section-bottom bg-grey p-1 pe-4 pb-4\">\r\n        <export-as [sector]=\"sector\" [section]=\"'beyond-compliance'\" [elementId]=\"'beyond-compliance'\"\r\n            [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n    </div>\r\n</div>","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Data, ParamMap} from \"@angular/router\";\r\nimport {SectorProvider} from \"../services/sector.provider\";\r\nimport {ViewportScroller} from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: 'dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  sector: string = \"all-sectors\"\r\n  view: string = \"default\";\r\n\r\n  constructor(private route: ActivatedRoute, private sectorProvider: SectorProvider, private scroll: ViewportScroller) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n        let sector = params.get('sector');\r\n        if (sector !== null && sector != this.sector) {\r\n          this.sector = sector\r\n        }\r\n        this.sectorProvider.getSector().next(sector);\r\n      }\r\n    )\r\n    this.route.queryParams\r\n      .subscribe(params => {\r\n          // @ts-ignore\r\n          this.view = params.view;\r\n        }\r\n      );\r\n    this.sectorProvider.getPath().next(\"dashboard\")\r\n    this.scrollToTop()\r\n  }\r\n\r\n  scrollToTop() {\r\n    this.scroll.scrollToPosition([0, 0]);\r\n  }\r\n\r\n}\r\n","<introductory-section *ngIf=\"view !== 'embed'\"></introductory-section>\r\n<highlight-metric></highlight-metric>\r\n<key-findings-section></key-findings-section>\r\n<spotlight-metrics></spotlight-metrics>\r\n<further-findings></further-findings>\r\n<minimum-requirements-section></minimum-requirements-section>\r\n<beyond-compliance></beyond-compliance>\r\n<disclosure-rates></disclosure-rates>","import {Component, OnInit} from '@angular/core';\r\nimport {DataProvider} from \"../../services/data.provider\";\r\nimport {Filter} from \"../../models/filter.model\";\r\nimport {SectorProvider} from \"../../services/sector.provider\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {forkJoin} from \"rxjs\";\r\nimport {WikirateUrlBuilder} from \"../../utils/wikirate-url-builder\";\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\n\r\n@Component({\r\n  selector: 'disclosure-rates',\r\n  templateUrl: './disclosure-rates.component.html',\r\n  styleUrls: ['./disclosure-rates.component.scss']\r\n})\r\nexport class DisclosureRatesComponent implements OnInit {\r\n  year: number | string = ''\r\n  isLoading: boolean = true;\r\n  garment_avg_disclosure_rate: number = 0;\r\n  financial_avg_disclosure_rate: number = 0;\r\n  hospitality_avg_disclosure_rate: number = 0;\r\n  food_bev_avg_disclosure_rate: number = 0;\r\n  renewable_energy_avg_disclosure_rate: number = 0;\r\n  electronics_avg_disclosure_rate: number = 0;\r\n\r\n  constructor(private dataProvider: DataProvider, private sectorProvider: SectorProvider, private chartsService: ChartsService,\r\n              private route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.updateData()\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'disclosure-rates')\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Update Data function calculates the average disclosure rate per selected sector and year. We are taking here into\r\n   * consideration only assessed statements into the calculation.\r\n   */\r\n  updateData() {\r\n    this.isLoading = true;\r\n\r\n    const food_and_bev_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", [this.dataProvider.company_groups.food_and_beverage, this.dataProvider.companies_with_assessed_statement.any])\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const food_and_bev_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.food_and_beverage, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n\r\n    const garment_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", [this.dataProvider.company_groups.garment, this.dataProvider.companies_with_assessed_statement.any])\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const garment_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.garment, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n\r\n    const financial_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.dataProvider.company_groups.financial)\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const financial_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.financial, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n  \r\n    const hospitality_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.dataProvider.company_groups.hospitality)\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const hospitality_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.hospitality, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n\r\n    const renewable_energy_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.dataProvider.company_groups.renewable_energy)\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const renewable_energy_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.renewable_energy, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n\r\n    const electronics_disclosure_rates = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_disclosure_rate, [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.dataProvider.company_groups.electronics)\r\n      ].filter(item => item.value != 'latest')\r\n    )\r\n\r\n    const electronics_disclosure_rates_url = new WikirateUrlBuilder()\r\n    .setEndpoint(this.dataProvider.metrics.msa_disclosure_rate)\r\n    .addFilter(new Filter(\"year\", this.year))\r\n    .addFilter(new Filter(\"company_group\", [this.dataProvider.company_groups.renewable_energy, this.dataProvider.companies_with_assessed_statement.any]))\r\n    .build()\r\n\r\n    forkJoin([food_and_bev_disclosure_rates,\r\n      garment_disclosure_rates, financial_disclosure_rates,\r\n      hospitality_disclosure_rates, renewable_energy_disclosure_rates,\r\n      electronics_disclosure_rates]).subscribe(results => {\r\n\r\n      if (this.year == 'latest') {\r\n        results[0] = Object.values(results[0].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n\r\n        results[1] = Object.values(results[1].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n\r\n        results[2] = Object.values(results[2].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n\r\n        results[3] = Object.values(results[3].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n\r\n        results[4] = Object.values(results[3].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n\r\n        results[5] = Object.values(results[4].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n          return r\r\n        }, {}))\r\n      }\r\n\r\n      this.food_bev_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[0]);\r\n      this.garment_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[1]);\r\n      this.financial_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[2]);\r\n      this.hospitality_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[3]);\r\n      this.renewable_energy_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[4]);\r\n      this.electronics_avg_disclosure_rate = this.calc_avg_disclosure_rate(results[5]);\r\n\r\n      this.drawSemiDonutChart(this.garment_avg_disclosure_rate, \"semi-donut-disclosure-rates-garment\", garment_disclosure_rates_url)\r\n      this.drawSemiDonutChart(this.food_bev_avg_disclosure_rate, \"semi-donut-disclosure-rates-food-bev\", food_and_bev_disclosure_rates_url)\r\n      this.drawSemiDonutChart(this.financial_avg_disclosure_rate, \"semi-donut-disclosure-rates-finance\", financial_disclosure_rates_url)\r\n      this.drawSemiDonutChart(this.hospitality_avg_disclosure_rate, \"semi-donut-disclosure-rates-hospitality\", hospitality_disclosure_rates_url)\r\n      this.drawSemiDonutChart(this.renewable_energy_avg_disclosure_rate, \"semi-donut-disclosure-rates-energy\", renewable_energy_disclosure_rates_url)\r\n      this.drawSemiDonutChart(this.electronics_avg_disclosure_rate, \"semi-donut-disclosure-rates-electronics\", electronics_disclosure_rates_url)\r\n\r\n      this.isLoading = false;\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Calculates the average disclosure rate given the array of the assessed statements and disclosure rates\r\n   * @param assessed_statements\r\n   * @param disclosure_rates\r\n   * @private\r\n   */\r\n  private calc_avg_disclosure_rate(disclosure_rates: any): number {\r\n    let avg_discosure_rate = 0;\r\n    for (let answer of disclosure_rates)\r\n      avg_discosure_rate += answer['value'] == 'Unknown' ? 0 : Number(answer['value']);\r\n    return Math.round(avg_discosure_rate*10 / disclosure_rates.length)\r\n  }\r\n\r\n  drawSemiDonutChart(percentage: number, elementId: string, url: string) {\r\n    this.chartsService.drawSemiDonutChart(\r\n      `${percentage}%`,\r\n      `div#${elementId}`,\r\n      [{\r\n        'id': 'Covered',\r\n        'percent': percentage,\r\n        'wikirate_page': url\r\n      },\r\n      {\r\n        'id': 'Not Covered',\r\n        'percent': 100 - percentage,\r\n        'wikirate_page': url\r\n      }],\r\n      250, [\"#FF5C45\", \"#E5E5EA\"],\r\n      [\"Covered\", \"Not Covered\"], { renderer: \"svg\", actions: false })\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"disclosure-rates\" class=\"section-top bg-grey mt-5 p-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h3 class=\"title\">Sector Disclosure Rates</h3>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <select class=\"msa-form-select bg-grey ms-md-auto\" aria-label=\"Minimum requirements year filter\"\r\n          style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\" [(ngModel)]=\"year\" (change)=\"updateData()\">\r\n          <option [ngValue]=\"''\" selected>ALL YEARS</option>\r\n          <option [ngValue]=\"'latest'\">LATEST</option>\r\n          <option [ngValue]=\"2022\">2022</option>\r\n          <option [ngValue]=\"2021\">2021</option>\r\n          <option [ngValue]=\"2020\">2020</option>\r\n          <option [ngValue]=\"2019\">2019</option>\r\n          <option [ngValue]=\"2018\">2018</option>\r\n          <option [ngValue]=\"2017\">2017</option>\r\n          <option [ngValue]=\"2016\">2016</option>\r\n          <option [ngValue]=\"2015\">2015</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-10 col-md-12 pt-md-2 pt-1 fst-italic fs-5\">\r\n        <p>The average percentage of measures and actions reported by companies in their modern slavery statements by sector.</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n      <div class=\"col-12 text-center align-self-center\">\r\n        <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--  <hr class=\"deep-blue no-margin\">-->\r\n    <div class=\"disclosure-rates\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-lg-4 col-md-6 mt-lg-0 mt-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-food-bev\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">Food & Beverage</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mt-lg-0 mt-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-garment\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">Garment</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mt-md-2 mt-lg-0 mt-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-finance\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">Finance</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mt-md-2 mt-lg-0 mt-2 pt-lg-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-hospitality\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">(Renewable) Energy</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mt-md-2 mt-lg-0 mt-2 pt-lg-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-energy\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">Hospitality</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mt-md-2 mt-lg-0 mt-2 pt-lg-2 text-center p-5\">\r\n          <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8 col-sm-10\">\r\n              <div id=\"semi-donut-disclosure-rates-electronics\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h6 class=\"pb-3 pt-1\">Electronics</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"section-bottom p-1 pe-4 pb-4 bg-grey\">\r\n    <export-as [sector]=\"'all-sectors'\" [section]=\"'sector-disclosure-rates'\" [elementId]=\"'disclosure-rates'\"\r\n      [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n  </div>\r\n</div>","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\n// import { ExportAsConfig, ExportAsService } from \"ngx-export-as\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\n\r\n@Component({\r\n  selector: 'export-as',\r\n  templateUrl: './export-as.component.html',\r\n  styleUrls: ['./export-as.component.scss']\r\n})\r\nexport class ExportAsComponent implements OnInit {\r\n\r\n  @Input()\r\n  elementId: string = ''\r\n  @Input()\r\n  sector: string = 'all-sectors'\r\n  @Input()\r\n  section: string = ''\r\n  @Input()\r\n  button_class: string = 'btn-deep-blue'\r\n  baseUrl: string = ''\r\n  waiting: boolean = false;\r\n  src_content: string = \"\";\r\n\r\n  @ViewChild(\"embed\") embed!: TemplateRef<any>;\r\n\r\n  constructor(){}\r\n\r\n  // constructor(private exportAsService: ExportAsService, private modalService: NgbModal) {\r\n  // }\r\n\r\n  ngOnInit(): void {\r\n    this.baseUrl = window.location.origin+'/dashboard/';\r\n    this.src_content = '<iframe src=\\'' + this.baseUrl + this.section + '/' + this.sector + '?view=embed\\' width=\\'100%\\' height=\\'100%\\' frameborder=\\'0\\'></iframe>';\r\n  }\r\n\r\n  export() {\r\n    // this.waiting = true;\r\n    // var exportAsConfig: ExportAsConfig = {\r\n    //   type: 'png', // the type you want to download\r\n    //   elementIdOrContent: this.elementId, // the id of html/table element\r\n    //   options: {\r\n    //     scale: 3\r\n    //   }\r\n    // }\r\n    // this.exportAsService.save(exportAsConfig, this.section + '-' + this.sector).subscribe(() => {\r\n    // }, () => {\r\n    // }, () => {\r\n    //   this.waiting = false\r\n    // });\r\n  }\r\n\r\n  openModal() {\r\n    // this.modalService.open(this.embed, { centered: true });\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-md-12 ms-md-auto text-end\">\r\n    <a class=\"button-sm {{button_class}} me-2 ms-md-auto\" (click)=\"export()\" [ngClass]=\"waiting ? 'waiting': ''\">export as\r\n      png</a>\r\n    <a class=\"button-sm ms-md-auto {{button_class}}\" type=\"button\" id=\"share\" data-bs-toggle=\"dropdown\"\r\n       aria-expanded=\"false\">share</a>\r\n    <ul class=\"dropdown-menu\" aria-labelledby=\"share\">\r\n      <li><a class=\"dropdown-item\" target=\"_blank\" type=\"button\" ngxClipboard\r\n             [cbContent]=\"baseUrl+section+'/'+sector\"><i\r\n        class=\"bi bi-link-45deg ms-2 me-2\"></i>copy link</a></li>\r\n      <li><a class=\"dropdown-item\" (click)=\"openModal()\" type=\"button\"><i\r\n        class=\"bi bi-code-square ms-2 me-2\"></i>embed</a></li>\r\n      <li><a class=\"dropdown-item\" target=\"_blank\"\r\n             [href]=\"'https://www.linkedin.com/shareArticle?mini=true&url='+baseUrl+section+'/'+sector\"><i\r\n        class=\"bi bi-linkedin ms-2 me-2\"></i>linkedin</a></li>\r\n      <li><a class=\"dropdown-item\" target=\"_blank\"\r\n             [href]=\"'mailto:info@example.com?&subject=&cc=&bcc=&body='+baseUrl+section+'/'+sector\"><i\r\n        class=\"bi bi-envelope-fill ms-2 me-2\"></i>mail</a></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<ng-template #embed let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Embed Section</h4>\r\n    <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <pre #code>&lt;iframe src=\"{{baseUrl}}{{section}}/{{sector}}\r\n      ?view=embed\" width=\"100%\" height=\"100%\" frameborder=\"0\"&gt;&lt;/iframe&gt;</pre>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-light\" ngxClipboard\r\n            [cbContent]=\"src_content\" (cbOnSuccess)=\"modal.close()\">Copy\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { DataProvider } from \"../../../services/data.provider\";\r\nimport { ChartsService } from \"../../../services/charts.service\";\r\nimport { Filter } from \"../../../models/filter.model\";\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, forkJoin } from 'rxjs';\r\n\r\n\r\n@Component({\r\n  selector: 'approach-to-incidents',\r\n  templateUrl: './approach-to-incidents.component.html',\r\n  styleUrls: ['./approach-to-incidents.component.scss']\r\n})\r\nexport class ApproachToIncidentsComponent implements OnInit, OnChanges {\r\n  @Input()\r\n  year!: number | string;\r\n  @Input()\r\n  sector !: string;\r\n  @Input()\r\n  legislation!: string;\r\n  incidents_remediation;\r\n  company_group: string[] = []\r\n  params = ''\r\n\r\n  isLoading: boolean = true;\r\n\r\n  constructor(private dataProvider: DataProvider, private chartsService: ChartsService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const dataPaths = ['/assets/charts-params/incidents-remediation.json']\r\n\r\n    this.dataProvider.loadData(dataPaths).subscribe({\r\n      next: ([incidents_remediation]) => {\r\n        this.incidents_remediation = incidents_remediation;\r\n\r\n        // Notify that data is loaded\r\n        this.dataProvider.markDataAsLoaded();\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load data:', error);\r\n      }\r\n    });\r\n\r\n    // Subscribe to the isDataLoaded$ observable\r\n    this.dataProvider.isDataLoaded$.subscribe((isLoaded) => {\r\n      if (isLoaded) {\r\n        this.updateData();\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.updateData()\r\n  }\r\n\r\n  updateData() {\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    this.isLoading = true;\r\n    let assessed_statements_metric_id = this.dataProvider.metrics.msa_meet_min_requirements\r\n    this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    if (this.legislation == 'uk') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_uk_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation == 'aus') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_aus_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    }\r\n\r\n    this.params = DataProvider.getUrlParams([new Filter('year', this.year),\r\n    new Filter(\"company_group\", this.company_group),\r\n    ].filter((filter) => filter.value != '' && filter.value != 'latest')).toString()\r\n\r\n    this.chartsService.drawSubgroupsBarChart(\r\n      \"Whistleblowing or Grievance Mechanisms\",\r\n      \"div#whistleblowing-mechanisms-alt-two\",\r\n      300,\r\n      assessed_statements_metric_id,\r\n      2722458,\r\n      {\r\n        \"name\": \"subgroups\",\r\n        \"values\": [\r\n          {\r\n            \"key\": \"(direct employees)\",\r\n            \"label\": \"Direct employees\",\r\n            \"color\": 0,\r\n            \"seq\": 1\r\n          },\r\n          { \"key\": \"(supply chain workers)\", \"label\": \"Supply chain workers\", \"color\": 1, \"seq\": 2 },\r\n          { \"key\": \"\", \"label\": \"Direct employees\", \"color\": 2, \"seq\": 3 }\r\n        ],\r\n        \"transform\": [{ \"type\": \"window\", \"ops\": [\"row_number\"], \"as\": [\"seq\"] }]\r\n      },\r\n      {\r\n        \"name\": \"groups\",\r\n        \"values\": [\r\n          {\r\n            \"title\": \"Whistleblower protection\",\r\n            \"term\": \"Whistleblower protection\",\r\n            \"seq\": 1\r\n          }, {\r\n            \"title\": \"Hotline, email, contact form\",\r\n            \"term\": \"Hotline\",\r\n            \"seq\": 2\r\n          }, {\r\n            \"title\": \"Focal point\",\r\n            \"term\": \"Focal Point\",\r\n            \"seq\": 3\r\n          },\r\n          { \"title\": \"None of the above\", \"term\": \"No\", \"seq\": 3 }\r\n        ],\r\n        \"transform\": [{ \"type\": \"window\", \"ops\": [\"row_number\"], \"as\": [\"seq\"] }]\r\n      },\r\n      this.year,\r\n      this.company_group,\r\n      { renderer: \"svg\", actions: false }).finally(() => {\r\n        this.chartsService.drawBarChart(\r\n          \"Incidents Remediation\",\r\n          \"div#incident-remediation-alt-two\",\r\n          350,\r\n          250,\r\n          assessed_statements_metric_id,\r\n          this.incidents_remediation,\r\n          this.year,\r\n          this.company_group,\r\n          { renderer: \"svg\", actions: false }).finally(() => this.isLoading = false)\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n  <div class=\"col-12 text-center align-self-center\">\r\n    <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row justify-content-md-center\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_whistleblowing_mechanism_revised?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">GRIEVANCE MECHANISMS</a></h5>\r\n      <p>provided to increase likelihood of incidents being reported</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"whistleblowing-mechanisms-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-12 mt-4\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_incidents_remediation_revised?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">REMEDIATION STRATEGY</a></h5>\r\n      <p>deployed when specific incidents are identified</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"incident-remediation-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { DataProvider } from \"../../../services/data.provider\";\r\nimport { ChartsService } from \"../../../services/charts.service\";\r\nimport { Filter } from \"../../../models/filter.model\";\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, forkJoin } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'approach-to-policies',\r\n  templateUrl: './approach-to-policies.component.html',\r\n  styleUrls: ['./approach-to-policies.component.scss']\r\n})\r\nexport class ApproachToPoliciesComponent implements OnInit, OnChanges {\r\n\r\n  @Input()\r\n  year!: number | string;\r\n  @Input()\r\n  sector !: string;\r\n  @Input()\r\n  legislation!: string;\r\n  company_group: string[] = [];\r\n  modern_slavery_policies;\r\n  modern_slavery_training;\r\n  params = ''\r\n\r\n  isLoading: boolean = true;\r\n\r\n  constructor(private dataProvider: DataProvider, private chartsService: ChartsService, private httpClient: HttpClient) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const dataPaths = ['/assets/charts-params/modern-slavery-policies.json', '/assets/charts-params/modern-slavery-training.json']\r\n\r\n    this.dataProvider.loadData(dataPaths).subscribe({\r\n      next: ([policies, training]) => {\r\n        this.modern_slavery_policies = policies;\r\n        this.modern_slavery_training = training;\r\n\r\n        // Notify that data is loaded\r\n        this.dataProvider.markDataAsLoaded()\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load data:', error);\r\n      }\r\n    });\r\n\r\n    // Subscribe to isDataLoaded$ to trigger updateData\r\n    this.dataProvider.isDataLoaded$.subscribe((isLoaded) => {\r\n      if (isLoaded) {\r\n        this.updateData();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n      this.updateData();\r\n  }\r\n\r\n  updateData() {\r\n    this.isLoading = true;\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    let assessed_statements_metric_id = this.dataProvider.metrics.msa_meet_min_requirements\r\n    this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    if (this.legislation == 'uk') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_uk_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation == 'aus') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_aus_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    }\r\n\r\n    this.params = DataProvider.getUrlParams([new Filter('year', this.year),\r\n    new Filter(\"company_group\", this.company_group),\r\n    ].filter((filter) => filter.value != '' && filter.value != 'latest')).toString()\r\n\r\n    this.chartsService.drawBarChart(\r\n      \"Modern Slavery Supply Chain Policies\",\r\n      \"div#modern-slavery-supply-chain-policies-alt-two\",\r\n      350,\r\n      250,\r\n      assessed_statements_metric_id,\r\n      this.modern_slavery_policies,\r\n      this.year,\r\n      this.company_group,\r\n      {\r\n        renderer: \"svg\",\r\n        actions: false\r\n      }).finally(() => {\r\n        this.chartsService.drawBarChart(\r\n          \"Modern Slavery Training\",\r\n          \"div#training-alt-two\",\r\n          350,\r\n          350,\r\n          assessed_statements_metric_id,\r\n          this.modern_slavery_training,\r\n          this.year,\r\n          this.company_group,\r\n          { renderer: \"svg\", actions: false }).finally(() => {\r\n            this.isLoading = false\r\n          })\r\n      })\r\n  }\r\n}\r\n","<div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n  <div class=\"col-12 text-center align-self-center\">\r\n    <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_training_revised?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">MODERN SLAVERY TRAINING</a>\r\n      </h5>\r\n      <p>provided to increase chances of staff identifying incidents and avoiding practices that increase chances of\r\n        incidents occurring\r\n      </p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"training-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n  <div class=\"col-md-12 mt-4\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_Policy_grouped?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">MODERN SLAVERY SUPPLY CHAIN\r\n        POLICIES</a></h5>\r\n      <p>specifying practices thas should be adhered to be avoid exploitation</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"modern-slavery-supply-chain-policies-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { DataProvider } from \"../../../services/data.provider\";\r\nimport { ChartsService } from \"../../../services/charts.service\";\r\nimport { Filter } from \"../../../models/filter.model\";\r\n\r\n\r\n@Component({\r\n  selector: 'approach-to-risks',\r\n  templateUrl: './approach-to-risks.component.html',\r\n  styleUrls: ['./approach-to-risks.component.scss']\r\n})\r\nexport class ApproachToRisksComponent implements OnInit, OnChanges {\r\n  isLoading: boolean = true;\r\n  @Input()\r\n  year!: number | string;\r\n  @Input()\r\n  sector !: string;\r\n  @Input()\r\n  legislation !: string;\r\n  risk_identification;\r\n  risk_assessment;\r\n  company_group: string[] = [];\r\n  params = ''\r\n\r\n  constructor(private dataProvider: DataProvider, private chartsService: ChartsService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const dataPaths = [\r\n      '/assets/charts-params/risk-identification.json',\r\n      '/assets/charts-params/risk-assessment.json',\r\n    ];\r\n\r\n    // Load data using the service\r\n    this.dataProvider.loadData(dataPaths).subscribe({\r\n      next: ([identification, assessment]) => {\r\n        this.risk_identification = identification;\r\n        this.risk_assessment = assessment;\r\n\r\n        // Notify that data is loaded\r\n        this.dataProvider.markDataAsLoaded();\r\n      },\r\n      error: (error) => {\r\n        console.error('Failed to load data:', error);\r\n      },\r\n    });\r\n\r\n    // Subscribe to the isDataLoaded$ observable\r\n    this.dataProvider.isDataLoaded$.subscribe((isLoaded) => {\r\n      if (isLoaded) {\r\n        this.updateData();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n      this.updateData();\r\n  }\r\n\r\n  updateData() {\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    this.isLoading = true;\r\n    let assessed_statements_metric_id = this.dataProvider.metrics.msa_meet_min_requirements\r\n    this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    if (this.legislation == 'uk') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_uk_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation == 'aus') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_aus_min_requirements\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    }\r\n\r\n    this.params = DataProvider.getUrlParams([new Filter('year', this.year),\r\n    new Filter(\"company_group\", this.company_group),\r\n    ].filter((filter) => filter.value != '' && filter.value != 'latest')).toString()\r\n\r\n    this.chartsService.drawBarChart(\r\n      \"Risk Assessment\",\r\n      \"div#risk-assessment-alt-two\",\r\n      350,\r\n      200,\r\n      assessed_statements_metric_id,\r\n      this.risk_assessment,\r\n      this.year,\r\n      this.company_group,\r\n      { renderer: \"svg\", actions: false }).finally(() => {\r\n        this.chartsService.drawBarChart(\r\n          \"Risks identified by risk category\",\r\n          \"div#risk-identification-alt-two\",\r\n          350,\r\n          250,\r\n          assessed_statements_metric_id,\r\n          this.risk_identification,\r\n          this.year,\r\n          this.company_group,\r\n          {\r\n            renderer: \"svg\",\r\n            actions: false\r\n          }).finally(() => this.chartsService.drawSubgroupsBarChart(\r\n            \"Risks Management\",\r\n            \"div#risk-management-alt-two\",\r\n            350,\r\n            assessed_statements_metric_id,\r\n            6948944,\r\n            {\r\n              \"name\": \"subgroups\",\r\n              \"values\": [\r\n                {\r\n                  \"key\": \"(self- reporting)\",\r\n                  \"label\": \"Self reporting\",\r\n                  \"color\": 0,\r\n                  \"seq\": 1\r\n                },\r\n                { \"key\": \"(independent)\", \"label\": \"Independent\", \"color\": 1, \"seq\": 2 }\r\n              ],\r\n              \"transform\": [{ \"type\": \"window\", \"ops\": [\"row_number\"], \"as\": [\"seq\"] }]\r\n            },\r\n            {\r\n              \"name\": \"groups\",\r\n              \"values\": [\r\n                {\r\n                  \"title\": \"Audits of suppliers\",\r\n                  \"term\": \"Audits of suppliers\",\r\n                  \"seq\": 1\r\n                },\r\n                { \"title\": \"On-site visits\", \"term\": \"On-site visits\", \"seq\": 2 },\r\n                { \"title\": \"Neither\", \"term\": \"Neither\", \"seq\": 3 }\r\n              ],\r\n              \"transform\": [{ \"type\": \"window\", \"ops\": [\"row_number\"], \"as\": [\"seq\"] }]\r\n            },\r\n            this.year,\r\n            this.company_group,\r\n            { renderer: \"svg\", actions: false })).finally(() => this.isLoading = false\r\n            )\r\n\r\n      })\r\n  }\r\n\r\n}\r\n","<div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n  <div class=\"col-12 text-center align-self-center\">\r\n    <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n      <span class=\"sr-only\">Loading...</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_risk_assessment?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">RISK ASSESSMENT TOOLS</a></h5>\r\n      <p>used to identify high risk factors in operations</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"risk-assessment-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row justify-content-md-center\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n  <div class=\"col-md-12 mt-4\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_Identification_of_risks?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">TYPES OF RISKS IDENTIFIED</a></h5>\r\n      <p>as likely to occur within operations</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"risk-identification-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-12 mt-4\">\r\n    <div class=\"row\">\r\n      <h5><a\r\n        [href]=\"'https://wikirate.org/Walk_Free+MSA_risk_management_revised?tab=metric_answer&'+this.params\"\r\n        target=\"_blank\">RISK MANAGEMENT SYSTEM</a></h5>\r\n      <p>used to keep an eye on (high risk) operations</p>\r\n    </div>\r\n    <div class=\"row text-center pt-2\">\r\n      <div id=\"risk-management-alt-two\" class=\"chart-wrapper\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { Filter } from \"../../models/filter.model\";\r\nimport { DataProvider } from \"../../services/data.provider\";\r\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport { SectorProvider } from \"../../services/sector.provider\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\n\r\n@Component({\r\n  selector: 'further-findings',\r\n  templateUrl: './further-findings.component.html',\r\n  styleUrls: ['./further-findings.component.scss']\r\n})\r\nexport class FurtherFindingsComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  legislation: string = 'both';\r\n  year: string = ''\r\n  percentage_of_companies_identified_risks: number = 0;\r\n  percentage_of_companies_report_policy_beyond_t1: number = 0;\r\n  percentage_of_no_remediations: number = 0;\r\n  @ViewChild(\"content\") content!: TemplateRef<any>;\r\n\r\n  isLoading: boolean = true;\r\n\r\n  constructor(private dataProvider: DataProvider, private route: ActivatedRoute, private sectorProvider: SectorProvider, private modalService: NgbModal) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData()\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'further-findings')\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n    })\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n\r\n  updateData() {\r\n    this.isLoading = true\r\n    let company_group: any = []\r\n    if (this.sector != 'all-sectors')\r\n      company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    this.isLoading = true;\r\n    let assessed_statements_metric_id = this.dataProvider.metrics.msa_meet_min_requirements\r\n    company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    if (this.legislation == 'uk') {\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_uk_min_requirements\r\n      company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation == 'aus') {\r\n      if (this.year !== '' && this.year !== 'latest' && Number(this.year) < 2020) {\r\n        this.openMessage();\r\n        this.year = '2020';\r\n      }\r\n      assessed_statements_metric_id = this.dataProvider.metrics.meet_aus_min_requirements\r\n      company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    }\r\n\r\n    this.isLoading = true\r\n\r\n    let assessed_filters = [\r\n      new Filter(\"year\", this.year),\r\n      new Filter(\"value\", [\"Yes\", \"No\", \"Unknown\"]),\r\n      new Filter(\"company_group\", company_group)\r\n    ]\r\n    if (this.year == 'latest') {\r\n      assessed_filters = [\r\n        new Filter(\"value\", [\"Yes\", \"No\", \"Unknown\"]),\r\n        new Filter(\"company_group\", company_group)\r\n      ]\r\n    }\r\n\r\n    let assessed_statements = this.dataProvider.getAnswers(assessed_statements_metric_id, assessed_filters)\r\n\r\n    let no_remediation = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_incidents_remediation,\r\n      [new Filter(\"year\", this.year),\r\n      new Filter(\"value\", [\"No\", \"In Development\"]),\r\n      new Filter(\"company_group\", company_group)])\r\n\r\n    let risks_identified = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_risks_identified,\r\n      [new Filter(\"year\", this.year),\r\n      new Filter(\"value\", [\"Yes\"]),\r\n      new Filter(\"company_group\", company_group)])\r\n\r\n    let policy_beyond_t1 = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_policy_beyond_t1,\r\n      [new Filter(\"year\", this.year),\r\n      new Filter(\"value\", [\"Yes\"]),\r\n      new Filter(\"company_group\", company_group)])\r\n\r\n    forkJoin([assessed_statements, no_remediation, risks_identified, policy_beyond_t1]).subscribe(response => {\r\n      if (this.year == 'latest') {\r\n        response[0] = Object.values(response[0].reduce((r: any, o: any) => {\r\n          r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n          return r\r\n        }, {}))\r\n      }\r\n      response[1] = response[1].filter((item: any) => response[0].find((o: any) => o.company == item.company && o.year == item.year))\r\n      response[2] = response[2].filter((item: any) => response[0].find((o: any) => o.company == item.company && o.year == item.year))\r\n      response[3] = response[3].filter((item: any) => response[0].find((o: any) => o.company == item.company && o.year == item.year))\r\n\r\n      let assessed = response[0]\r\n      let no_remediation = response[1]\r\n      let reported_risks = response[2]\r\n      let policy_beyond = response[3]\r\n\r\n      this.percentage_of_no_remediations = Math.round(no_remediation.length * 100 / assessed.length);\r\n      this.percentage_of_companies_identified_risks = Math.round(reported_risks.length * 100 / assessed.length);\r\n      this.percentage_of_companies_report_policy_beyond_t1 = Math.round(policy_beyond.length * 100 / assessed.length);\r\n    }, error => {\r\n      console.log(error)\r\n    }, () => this.isLoading = false)\r\n\r\n  }\r\n\r\n  openMessage() {\r\n    this.modalService.open(this.content, { centered: true });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"further-findings-section\" class=\"section-top mt-5 bg-grey p-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\">\r\n        <h3 class=\"title\">Further Findings</h3>\r\n        <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"row ps-3 pe-3 pt-md-0 pt-2\">\r\n          <select #select class=\"msa-form-select bg-grey ms-md-auto me-3 mb-md-0 mb-1\" aria-label=\"Minimum requirements year filter\"\r\n                  style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\" [(ngModel)]=\"year\"\r\n                  (change)=\"updateData(); select.value = this.year\">\r\n            <option value=\"\" selected>ALL YEARS</option>\r\n            <option value=\"latest\">LATEST</option>\r\n            <option value=\"2022\">2022</option>\r\n            <option value=\"2021\">2021</option>\r\n            <option value=\"2020\">2020</option>\r\n            <option value=\"2019\">2019</option>\r\n            <option value=\"2018\">2018</option>\r\n            <option value=\"2017\">2017</option>\r\n            <option value=\"2016\">2016</option>\r\n          </select>\r\n          <select class=\"msa-form-select bg-grey\" aria-label=\"Legislation filter\"\r\n                  [(ngModel)]=\"legislation\" (change)=\"updateData()\">\r\n            <option [ngValue]=\"'both'\" selected>LEGISLATION</option>\r\n            <option [ngValue]=\"'uk'\">UK MSA</option>\r\n            <option [ngValue]=\"'aus'\">AUS MSA</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n      <div class=\"col-12 text-center align-self-center\">\r\n        <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row dive-deeper mt-3 \" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n      <div class=\"col-lg-4 mb-lg-0 mb-3\">\r\n        <div class=\"accordion\" id=\"approach_to_policies\">\r\n          <div class=\"accordion-item\">\r\n            <div class=\"accordion-header\" id=\"approachToPoliciesTitle\">\r\n              <div class=\"accordion-button-grey collapsed\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                   data-bs-target=\"#approach-to-policies-alt-two\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\r\n                <div class=\"row mt-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"msa-primary-info\">{{100 - percentage_of_companies_report_policy_beyond_t1}}%</div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <p class=\"accordion-paragraph\">of companies <b>do not have a modern slavery policy</b> that applies to\r\n                      stakeholders beyond the 1st tier of their supply chain</p>\r\n                    <h5 class=\"on-details\">Policies</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"approach-to-policies-alt-two\" class=\"accordion-collapse collapse\"\r\n                 aria-labelledby=\"approachToPoliciesTitle\"\r\n                 data-bs-parent=\"#approach_to_policies\">\r\n              <div class=\"accordion-body\">\r\n                <approach-to-policies [year]=\"this.year\" [legislation]=\"this.legislation\" [sector]=\"this.sector\"></approach-to-policies>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 mb-lg-0 mb-3\">\r\n        <div class=\"accordion\" id=\"approach_to_risks_accordion\">\r\n          <div class=\"accordion-item\">\r\n            <div class=\"accordion-header\" id=\"headingThree\">\r\n              <div class=\"accordion-button-grey collapsed\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                   data-bs-target=\"#ApproachToRisksAltTwo\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\r\n                <div class=\"row mt-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"msa-primary-info\">{{100 - percentage_of_companies_identified_risks}}%</div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <p class=\"accordion-paragraph\">of companies <b>have not identified any modern slavery risks</b> within their operations and supply chains\r\n                      <br>\r\n                    </p>\r\n\r\n                    <h5 class=\"on-details\">Risks</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"ApproachToRisksAltTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingThree\"\r\n                 data-bs-parent=\"#approach_to_risks_accordion\">\r\n              <div class=\"accordion-body\">\r\n                <approach-to-risks [year]=\"this.year\" [legislation]=\"this.legislation\" [sector]=\"this.sector\"></approach-to-risks>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 mb-lg-0 mb-3\">\r\n        <div class=\"accordion\" id=\"approach_to_incidents\">\r\n          <div class=\"accordion-item\">\r\n            <div class=\"accordion-header\" id=\"headingApproachToIncidents\">\r\n              <div class=\"accordion-button-grey collapsed\" type=\"button\" data-bs-toggle=\"collapse\"\r\n                   data-bs-target=\"#collapseApproachToIncidents-alt-two\" aria-expanded=\"false\"\r\n                   aria-controls=\"collapseApproachToIncidents\">\r\n                <div class=\"row mt-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"msa-primary-info\">{{percentage_of_no_remediations}}%</div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <p class=\"accordion-paragraph\">of companies <b>do not disclose having remediation policies in place</b> to respond to incidents of modern slavery</p>\r\n                    <h5 class=\"on-details\">Remediation</h5>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"collapseApproachToIncidents-alt-two\" class=\"accordion-collapse collapse\"\r\n                 aria-labelledby=\"headingApproachToIncidents\" data-bs-parent=\"#approach_to_incidents\">\r\n              <div class=\"accordion-body\">\r\n                <approach-to-incidents [year]=\"this.year\" [legislation]=\"this.legislation\" [sector]=\"this.sector\"></approach-to-incidents>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <ng-template #content let-modal>\r\n    <div class=\"modal-header\">\r\n      <h5 class=\"modal-title\">The Australian Modern Slavery Act</h5>\r\n      <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n      <p>The Australian Modern Slavery Act was passed in 2018 and required companies to produce their first statement\r\n        for\r\n        financial year 2019. These needed to be submitted within 3 months after year's end (in 2020) but for this first\r\n        year the government provided companies with an extension due to the impact of the covid pandemic. As a result,\r\n        most companies submitted statements under the Australian Act from the financial year 2020 onward.</p>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-light\" (click)=\"modal.close('Close click')\">Close</button>\r\n    </div>\r\n  </ng-template>\r\n  <div class=\"section-bottom  bg-grey pe-4 pb-4\">\r\n    <export-as [sector]=\"sector\" [section]=\"'further-findings'\"\r\n               [elementId]=\"'further-findings-section'\"\r\n               [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n// @ts-ignore\r\nimport beyond_compliance_metrics from \"../../../assets/charts-params/beyond-compliance-metrics.json\"\r\nimport { DataProvider } from 'src/app/services/data.provider';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { SectorProvider } from 'src/app/services/sector.provider';\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\nimport { Filter } from 'src/app/models/filter.model';\r\nimport { forkJoin, map, Observable } from \"rxjs\";\r\n\r\n@Component({\r\n  selector: 'app-going-beyond-compliance',\r\n  templateUrl: './going-beyond-compliance.component.html',\r\n  styleUrls: ['./going-beyond-compliance.component.scss']\r\n})\r\nexport class GoingBeyondComplianceComponent implements OnInit {\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n  \r\n  sector: string = \"all-sectors\";\r\n  year: number | string = ''\r\n  beyond_compliance_metrics = beyond_compliance_metrics;\r\n  metric_question = ''\r\n  metric_seq = 1\r\n  isLoading = true;\r\n\r\n  constructor(private dataProvider: DataProvider, private route: ActivatedRoute,\r\n    private sectorProvider: SectorProvider, private chartService: ChartsService) {\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData()\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'going-beyond-compliance')\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n    })\r\n  }\r\n\r\n  updateData() {\r\n    let company_group = this.dataProvider.getCompanyGroup(this.sector)\r\n\r\n    const uk_statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.meet_uk_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.uk].filter(value => value != ''))]\r\n    )\r\n\r\n    const aus_statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.meet_aus_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.aus].filter(value => value != ''))]\r\n    )\r\n\r\n    const statements_assessed = this.dataProvider.getAnswers(\r\n      this.dataProvider.metrics.msa_meet_min_requirements, [\r\n      new Filter(\"year\", this.year),\r\n      new Filter('value', ['Yes', 'No', 'Unknown']),\r\n      new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.any].filter(value => value != ''))]\r\n    )\r\n\r\n    let requests: Observable<any>[] = [];\r\n    requests.push(uk_statements_assessed)\r\n    requests.push(aus_statements_assessed)\r\n    requests.push(statements_assessed)\r\n\r\n    for (let metric of beyond_compliance_metrics) {\r\n      requests.push(\r\n        this.dataProvider.getAnswers(metric['id'], [\r\n          new Filter(\"year\", this.year),\r\n          new Filter(\"value\", metric['filter_value']),\r\n          new Filter(\"company_group\", [company_group, this.dataProvider.companies_with_assessed_statement.any].filter(value => value !== ''))\r\n        ].filter(item => item.value !== 'latest'))\r\n      );\r\n    }\r\n\r\n    forkJoin(requests)\r\n      .pipe(map((responses: any) => {\r\n        console.log(responses)\r\n        let results: any = []\r\n        if (this.year == 'latest') {\r\n          responses[2] = Object.values(responses[2].reduce((r: any, o: any) => {\r\n            r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n            return r\r\n          }, {}))\r\n        }\r\n\r\n        for (let i = 3; i < responses.length; i++) {\r\n          let uk_count = responses[i].reduce((count: any, item: any) => {\r\n            if (responses[0].some((o: any) => o.company === item.company && o.year === item.year)) {\r\n              return count + 1;\r\n            }\r\n            return count;\r\n          }, 0);\r\n          let aus_count = responses[i].reduce((count: any, item: any) => {\r\n            if (responses[1].some((o: any) => o.company === item.company && o.year === item.year)) {\r\n              return count + 1;\r\n            }\r\n            return count;\r\n          }, 0);\r\n          let total = responses[i].reduce((count: any, item: any) => {\r\n            if (responses[2].some((o: any) => o.company === item.company && o.year === item.year)) {\r\n              return count + 1;\r\n            }\r\n            return count;\r\n          }, 0);\r\n\r\n          results.push({\r\n            'key': beyond_compliance_metrics[i - 3]['label'],\r\n            'value': Math.round(uk_count * 100 / responses[0].length),\r\n            'category': 'UK',\r\n            'label': beyond_compliance_metrics[i - 3]['break_down_label'],\r\n            'question': beyond_compliance_metrics[i - 3]['question'],\r\n            'mandatory': beyond_compliance_metrics[i - 3]['aus_color'] == 'bg-deep-orange' ? 'Yes' : 'No'\r\n          })\r\n\r\n          results.push({\r\n            'key': beyond_compliance_metrics[i - 3]['label'],\r\n            'value': Math.round(aus_count * 100 / responses[1].length),\r\n            'category': 'AUS',\r\n            'label': beyond_compliance_metrics[i - 3]['break_down_label'],\r\n            'question': beyond_compliance_metrics[i - 3]['question'],\r\n            'mandatory': beyond_compliance_metrics[i - 3]['aus_color'] == 'bg-deep-orange' ? 'Yes' : 'No'\r\n          })\r\n\r\n          results.push({\r\n            'key': beyond_compliance_metrics[i - 3]['label'],\r\n            'value': Math.round(total * 100 / responses[2].length),\r\n            'category': 'Both',\r\n            'label': beyond_compliance_metrics[i - 3]['break_down_label'],\r\n            'question': beyond_compliance_metrics[i - 3]['question'],\r\n            'mandatory': beyond_compliance_metrics[i - 3]['aus_color'] == 'bg-deep-orange' ? 'Yes' : 'No'\r\n          })\r\n        }\r\n        return results\r\n      }))\r\n      .subscribe({\r\n        next: (results) => {\r\n          this.chartService.drawRadarChart('', '#radar-chart', results, '', { renderer: \"svg\", actions: true })\r\n        },\r\n        complete: () => {\r\n          this.isLoading = false\r\n        }\r\n      })\r\n  }\r\n}","<div class=\"container\">\r\n    <div id=\"beyond-compliance\" class=\"section-top mt-5 bg-grey p-4\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n                <h3 class=\"title\">Going Beyond Compliance</h3>\r\n                <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <select class=\"msa-form-select ms-md-auto bg-grey\" aria-label=\"Minimum requirements year filter\"\r\n                    style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\" [(ngModel)]=\"year\"\r\n                    (change)=\"updateData()\">\r\n                    <option [ngValue]=\"''\" selected>ALL YEARS</option>\r\n                    <option [ngValue]=\"'latest'\">LATEST</option>\r\n                    <option [ngValue]=\"2022\">2022</option>\r\n                    <option [ngValue]=\"2021\">2021</option>\r\n                    <option [ngValue]=\"2020\">2020</option>\r\n                    <option [ngValue]=\"2019\">2019</option>\r\n                    <option [ngValue]=\"2018\">2018</option>\r\n                    <option [ngValue]=\"2017\">2017</option>\r\n                    <option [ngValue]=\"2016\">2016</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"row pt-md-2 pt-1\">\r\n                <div class=\"col-md-12\">\r\n                    <p class=\"col-lg-10 col-md-12 fst-italic fs-5\">Beyond the minimum requirements, the accompanying\r\n                        guidance of the MSAs outlines the measures and\r\n                        actions\r\n                        companies should take and report on to ensure their operations and supply chains are free from\r\n                        exploitation. </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"row p-1 pe-2 justify-content-center\">\r\n                <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-6 col-xl-6\">\r\n                    <div id=\"radar-chart\" class=\"chart-wrapper\"></div>\r\n                </div>\r\n            </div>\r\n        </div>","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Filter } from 'src/app/models/filter.model';\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\nimport { DataProvider } from 'src/app/services/data.provider';\r\nimport { SectorProvider } from 'src/app/services/sector.provider';\r\nimport { forkJoin, map } from 'rxjs';\r\n// @ts-ignore\r\nimport incidents_param from \"../../../assets/charts-params/modern-slavery-incidents-identified.json\";\r\n\r\n@Component({\r\n  selector: 'highlight-metric',\r\n  templateUrl: './highlight-metric.component.html',\r\n  styleUrls: ['./highlight-metric.component.scss']\r\n})\r\nexport class HighlightMetricComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  @ViewChild(\"content\") content!: TemplateRef<any>;\r\n  company_group: string[] = []\r\n  incidents!: number;\r\n  isLoading: boolean = false;\r\n  year: string = ''\r\n  legislation: string = 'both'\r\n  incidents_url: string = \"#\"\r\n  companies_reporting_msi!: number\r\n\r\n  constructor(private dataProvider: DataProvider, private modalService: NgbModal,\r\n    private route: ActivatedRoute, private sectorProvider: SectorProvider, private chartsService: ChartsService) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData(this.year)\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n  updateData($event: any) {\r\n    this.isLoading = true;\r\n\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    if (this.legislation === 'uk') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation === 'aus') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    } else {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    }\r\n\r\n    if (this.legislation === 'both') {\r\n      this.createChart(this.dataProvider.metrics.msa_statement_assessed,\r\n        this.dataProvider.metrics.msa_incidents_identified\r\n      )\r\n      return $event;\r\n    }\r\n    else if (this.legislation === 'uk') {\r\n      this.createChart(this.dataProvider.metrics.uk_msa_statement_assessed,\r\n        this.dataProvider.metrics.msa_incidents_identified\r\n      )\r\n      return $event;\r\n    }\r\n    else {\r\n      if (this.year !== '' && this.year !== 'latest' && Number(this.year) < 2020) {\r\n        this.openMessage();\r\n        this.year = '2020';\r\n      }\r\n      this.createChart(this.dataProvider.metrics.aus_msa_statement_assessed,\r\n        this.dataProvider.metrics.msa_incidents_identified\r\n      )\r\n      return this.year;\r\n    }\r\n  }\r\n\r\n  createChart(assessed_statements_metric: number, incidents_identified_metric: number) {\r\n    //prepare all requests that need to be executed\r\n    this.isLoading = true;\r\n\r\n    var accepted_values = [\"Yes\", \"Recruitment fees\", \"Freedom of movement\", \"Wages and benefits\", \"Working Hours\", \"Working conditions\", \"Other incidents\"]\r\n    let assessed_filters = [\r\n      new Filter(\"year\", this.year),\r\n      new Filter(\"value\", accepted_values),\r\n      new Filter(\"company_group\", this.company_group)\r\n    ]\r\n    if (this.year == 'latest') {\r\n      assessed_filters = [\r\n        new Filter(\"value\", accepted_values),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ]\r\n    }\r\n    const assessed = this.dataProvider.getAnswers(assessed_statements_metric, assessed_filters)\r\n\r\n    const msa_incidents = this.dataProvider.getAnswers(incidents_identified_metric,\r\n      [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"value\", accepted_values),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ])\r\n\r\n\r\n    const descriptions: any = {\r\n      \"Yes\": \"Cases that companies qualified as forced or child labour\",\r\n      \"Recruitment fees\": \"Cases of workers paying recruitment or other fees\",\r\n      \"Freedom of movement\": \"Restrictions on freedom of movement workers (e.g. withholding of passports)\",\r\n      \"Wages and benefits\": \"Issues related to wages (underpayment, salary below minimum wages)\",\r\n      \"Working Hours\": \"Cases of excessive or mandatory overtime\",\r\n      \"Working conditions\": \"Issues related to health and safety or cases of harassment\",\r\n      \"Other incidents\": \"Cases of illegal subcontracting or issues related to general labour practices\"\r\n    }\r\n\r\n    forkJoin([assessed, msa_incidents])\r\n      .pipe(map(([assessed_response, msa_incidents_response]) => {\r\n        if (this.year == 'latest') {\r\n          assessed_response = Object.values(assessed_response.reduce((r: any, o: any) => {\r\n            r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n            return r\r\n          }, {}))\r\n        }\r\n        msa_incidents_response = msa_incidents_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n\r\n        var values: any[] = []\r\n        this.companies_reporting_msi = Math.round((msa_incidents_response.length) * 100 / assessed_response.length)\r\n        values.push({\r\n          \"category\": \"Companies reporting\\nmodern slavery\\nincidents\",\r\n          \"stack\": 1,\r\n          \"sort\": 1,\r\n          \"labels\": \"left\",\r\n          \"labeledValue\": this.companies_reporting_msi\r\n        })\r\n        for (var i = 0; i < accepted_values.length; i++) {\r\n          values.push({\r\n            \"category\": accepted_values[i] == 'Yes' ? 'Modern slavery' : accepted_values[i],\r\n            \"stack\": 2,\r\n            \"sort\": i + 1,\r\n            \"labels\": \"right\",\r\n            \"gap\": 10\r\n          })\r\n        }\r\n\r\n        var data: any = {\r\n          \"Yes\": 0,\r\n          \"Recruitment fees\": 0,\r\n          \"Freedom of movement\": 0,\r\n          \"Wages and benefits\": 0,\r\n          \"Working Hours\": 0,\r\n          \"Working conditions\": 0,\r\n          \"Other incidents\": 0\r\n        }\r\n        for (var i = 0; i < msa_incidents_response.length; i++) {\r\n          var options = msa_incidents_response[i]['value'].split(\", \")\r\n          for (var option of options) {\r\n            data[option] = data[option] + 1\r\n          }\r\n        }\r\n        for (var value of accepted_values) {\r\n          values.push({\r\n            'source': \"Companies reporting\\nmodern slavery\\nincidents\",\r\n            'destination': value == 'Yes'? 'Modern slavery' : value,\r\n            'description': descriptions[value],\r\n            'value': Math.round(data[value] * 100 / msa_incidents_response.length)\r\n          })\r\n        }\r\n        return {\r\n          'incidents': Math.round((msa_incidents_response.length) * 100 / assessed_response.length),\r\n          'values': values\r\n        }\r\n      }))\r\n      .subscribe({\r\n        next: (results) => {\r\n          this.incidents = results.incidents\r\n\r\n          this.chartsService.drawShankeyChart(            \r\n              '#incidents-chart', \r\n              results.values,\r\n              { renderer: \"svg\",\r\n              actions: false}\r\n          )\r\n        },\r\n        complete: () => {\r\n          this.isLoading = false\r\n        }\r\n      })\r\n  }\r\n\r\n  openMessage() {\r\n    this.modalService.open(this.content, { centered: true });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div id=\"highlighted-metric-section\" class=\"bg-grey p-4 mt-5\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4 col-lg-6 \">\r\n                <h3 class=\"title\">Underreporting of cases of exploitation</h3>\r\n                <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n            </div>\r\n            <div class=\"col-md-8 col-lg-6\">\r\n                <div class=\"row ps-3 pe-3 pt-md-0 pt-3\">\r\n                    <select #select class=\"msa-form-select bg-grey ms-md-auto me-3 mb-md-0 mb-1\"\r\n                        aria-label=\"Default select example\" style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\"\r\n                        [(ngModel)]=\"year\" (ngModelChange)=\"select.value = updateData($event)\">\r\n                        <option value=\"\" selected>ALL YEARS</option>\r\n                        <option value=\"latest\">LATEST</option>\r\n                        <option value=\"2022\">2022</option>\r\n                        <option value=\"2021\">2021</option>\r\n                        <option value=\"2020\">2020</option>\r\n                        <option value=\"2019\">2019</option>\r\n                        <option value=\"2018\">2018</option>\r\n                        <option value=\"2017\">2017</option>\r\n                        <option value=\"2016\">2016</option>\r\n                    </select>\r\n                    <select class=\"msa-form-select bg-grey\" aria-label=\"Default select example\"\r\n                        [(ngModel)]=\"legislation\" (change)=\"updateData($event)\">\r\n                        <option [ngValue]=\"'both'\" selected>LEGISLATION</option>\r\n                        <option [ngValue]=\"'uk'\">UK MSA</option>\r\n                        <option [ngValue]=\"'aus'\">AUS MSA</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n            <div class=\"col-12 text-center align-self-center\">\r\n                <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n                    <span class=\"sr-only\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"incidents-identified\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n            <div class=\"row mt-4 d-flex justify-content-center\">\r\n                <div class=\"col-12\">\r\n                    <p class=\"col-lg-10 col-md-12 fst-italic fs-5\">Millions of modern slavery victims go undetected.\r\n                        While\r\n                        an estimated <b>28 million people</b> are\r\n                        <b>in\r\n                            forced labour globally</b>, only {{incidents | percentageFormat}} of companies we've\r\n                        assessed\r\n                        report finding incidents in their\r\n                        supply chains. This stark gap reveals a critical need for better reporting and transparency.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"row mt-4 align-items-center g-md-0\">\r\n                <div class=\"col-md-3\">\r\n                    <h6 class=\"ms-1 text-end fst-5\"><span class=\"h4\">{{companies_reporting_msi | percentageFormat}}</span><br> of companies disclosing violations report incidents in the following categories</h6>\r\n                </div>\r\n                <div class=\"col-md-9\">\r\n                    <div id=\"incidents-chart\" class=\"chart-wrapper\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ng-template #content let-modal>\r\n        <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">The Australian Modern Slavery Act</h5>\r\n            <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <p>The Australian Modern Slavery Act was passed in 2018 and required companies to produce their first\r\n                statement\r\n                for\r\n                financial year 2019. These needed to be submitted within 3 months after year's end (in 2020) but for\r\n                this first\r\n                year the government provided companies with an extension due to the impact of the covid pandemic. As a\r\n                result,\r\n                most companies submitted statements under the Australian Act from the financial year 2020 onward.</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" (click)=\"modal.close('Close click')\">Close</button>\r\n        </div>\r\n    </ng-template>\r\n    <div class=\"section-bottom bg-grey pe-4 pb-4\">\r\n        <export-as [sector]=\"sector\" [section]=\"'highlight-metric'\" [elementId]=\"'highlighted-metric-section'\"\r\n            [button_class]=\"'btn-deep-blue'\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n    </div>\r\n</div>","import {AfterContentInit, AfterViewInit, ChangeDetectorRef, Component, Input, OnChanges, OnInit} from '@angular/core';\r\nimport {SectorProvider} from \"../../services/sector.provider\";\r\nimport {DataProvider} from \"../../services/data.provider\";\r\n\r\n@Component({\r\n  selector: 'introductory-section',\r\n  templateUrl: './introductory-section.component.html',\r\n  styleUrls: ['./introductory-section.component.scss']\r\n})\r\nexport class IntroductorySectionComponent implements OnInit, AfterViewInit {\r\n\r\n  sector: string | null = 'all-sectors';\r\n  company_group: string = '';\r\n  page: string | null = 'dashboard';\r\n\r\n  constructor(private sectorProvider: SectorProvider, private dataProvider: DataProvider, private cd: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sectorProvider.getSector().subscribe(sector => {\r\n      this.sector = sector;\r\n      this.company_group = this.dataProvider.getCompanyGroup(sector)\r\n\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.sectorProvider.getPath().subscribe(path => {\r\n      this.page = path;\r\n    }, error => {\r\n    }, () => {\r\n      this.cd.detectChanges()\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"intro\">\r\n  <div class=\"col-md-6 bg-deep-blue-transparent p-5 ms-auto\">\r\n    <h1 class=\"title pt-5\">Beyond Compliance</h1>\r\n    <div class=\"row pb-5\">\r\n      <div class=\"subtitle mt-4\">\r\n        A living data dashboard assessing modern slavery reporting across business sectors.\r\n      </div>\r\n\r\n      <div class=\"mt-4 mb-1 pb-5\" *ngIf=\"page === 'dashboard'\">\r\n        <a class=\"button orange-button mb-2\" type=\"button\" routerLink=\"/about\">\r\n          <!--       href=\"{{'https://wikirate.org/MSA_Beyond_Compliance_Research?filter[company_group]='+company_group}}\"-->\r\n\r\n          Take Action</a>\r\n        <a class=\"button transparent-button mt-md-0 mt-3\"\r\n           href=\"{{'/assets/downloads/Wikirate_MSA_Beyond_Compliance_Dashboard_Dataset_'+(company_group===''? 'full': company_group)+'.csv'}}\"\r\n           download=\"{{'Wikirate_MSA_Beyond_Compliance_Dashboard_Dataset_'+company_group+'.csv'}}\">Download\r\n          {{company_group === '' ? 'All' : 'Sector'}} Data</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { AfterContentInit, AfterViewInit, Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { DataProvider } from \"../../services/data.provider\";\r\nimport { Filter } from \"../../models/filter.model\";\r\nimport { ValueRange } from \"../../models/valuerange.model\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport { SectorProvider } from \"../../services/sector.provider\";\r\nimport { Meta, Title } from \"@angular/platform-browser\";\r\nimport { finalize, forkJoin, map } from \"rxjs\";\r\nimport { WikirateUrlBuilder } from \"../../utils/wikirate-url-builder\";\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\n\r\n@Component({\r\n  selector: 'key-findings-section',\r\n  templateUrl: './key-findings-section.component.html',\r\n  styleUrls: ['./key-findings-section.component.scss']\r\n})\r\nexport class KeyFindingsSectionComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  company_group: string[] = []\r\n  @ViewChild(\"content\") content!: TemplateRef<any>;\r\n\r\n  numOfAssessedMSAStatements!: number;\r\n  meetsMinRequirements!: number;\r\n  supplyChainDisclosure!: number;\r\n  workerRemediation!: number;\r\n  dueDilligence!: number;\r\n  incidents!: number;\r\n\r\n  year: string = ''\r\n  legislation: string = 'both'\r\n  isLoading: boolean = false;\r\n\r\n  meet_min_requirements_metric_url: string = '#'\r\n  msa_statement_assessed_metric_url: string = '#'\r\n  msa_statements_metric_url: string = '#'\r\n  supply_chain_disclosure_url: string = '#'\r\n  worker_remediation_url: string = \"#\";\r\n  due_dilligence_url: string = \"#\";\r\n  incidents_url: string = \"#\"\r\n\r\n  constructor(private dataProvider: DataProvider, private modalService: NgbModal,\r\n    private route: ActivatedRoute, private sectorProvider: SectorProvider, private chartsService: ChartsService,\r\n    private titleService: Title, private meta: Meta) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData(this.year)\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'key-findings') {\r\n        this.titleService.setTitle(\"Beyond Compliance: Key Findings\")\r\n        this.meta.updateTag({\r\n          name: 'og:title',\r\n          content: \"Beyond Compliance: Key Findings\"\r\n        })\r\n        this.meta.updateTag({\r\n          name: 'twitter:title',\r\n          content: \"Beyond Compliance: Key Findings\"\r\n        })\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n      } else {\r\n        this.titleService.setTitle(\"Beyond Compliance\")\r\n        this.meta.updateTag({\r\n          name: 'description',\r\n          content: \"Discover ESG data disclosure ratings and supplier transparency of the biggest 100 apparel companies in infographics, charts, and maps by Wikirate.\"\r\n        })\r\n        this.meta.updateTag({\r\n          name: 'og:description',\r\n          content: \"@walkfree & @wikirate have simplified the data on the current state of modern slavery reporting in Australia and the UK. Explore the interactive dashboard to see trends on the effectiveness of this measure to #endmodernslavery.\"\r\n        })\r\n        this.meta.updateTag({\r\n          name: 'twitter:description',\r\n          content: \"Discover ESG data disclosure ratings and supplier transparency of the biggest 100 apparel companies in infographics, charts, and maps by Wikirate.\"\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n  updateData($event: any) {\r\n    this.isLoading = true;\r\n    this.numOfAssessedMSAStatements = 0;\r\n\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    if (this.legislation === 'uk') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation === 'aus') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    } else {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    }\r\n\r\n    if (this.legislation === 'both') {\r\n      this.key_findings_calculation(\r\n        this.dataProvider.metrics.msa_statement_assessed,\r\n        this.dataProvider.metrics.msa_meet_min_requirements,\r\n        this.dataProvider.metrics.msa_supply_chain_disclosure,\r\n        this.dataProvider.metrics.msa_incidents_remediation,\r\n        this.dataProvider.metrics.msa_supply_chain_due_dilligence,\r\n        this.dataProvider.metrics.msa_incidents_identified)\r\n\r\n      return $event;\r\n    } else if (this.legislation === 'uk') {\r\n      this.key_findings_calculation(\r\n        this.dataProvider.metrics.uk_msa_statement_assessed,\r\n        this.dataProvider.metrics.meet_uk_min_requirements,\r\n        this.dataProvider.metrics.msa_supply_chain_disclosure,\r\n        this.dataProvider.metrics.msa_incidents_remediation,\r\n        this.dataProvider.metrics.msa_supply_chain_due_dilligence,\r\n        this.dataProvider.metrics.msa_incidents_identified)\r\n      return $event;\r\n    } else {\r\n      if (this.year !== '' && this.year !== 'latest' && Number(this.year) < 2020) {\r\n        this.openMessage();\r\n        this.year = '2020';\r\n      }\r\n      this.key_findings_calculation(\r\n        this.dataProvider.metrics.aus_msa_statement_assessed,\r\n        this.dataProvider.metrics.meet_aus_min_requirements,\r\n        this.dataProvider.metrics.msa_supply_chain_disclosure,\r\n        this.dataProvider.metrics.msa_incidents_remediation,\r\n        this.dataProvider.metrics.msa_supply_chain_due_dilligence,\r\n        this.dataProvider.metrics.msa_incidents_identified)\r\n      return this.year;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This method performs all the necessary requests to wikirate's api to retrieve the required data in order to\r\n   * calculate the statistics on the component. Different metrics might be used when different filtering is applied.\r\n   * The method gets as input the ids of the metrics used for calculating the key findings.\r\n   * @param statements_metric\r\n   * @param assessed_statements_metric\r\n   * @param meet_requirements_metric\r\n   * @param beyond_compliance_metric\r\n   */\r\n  key_findings_calculation(assessed_statements_metric: number,\r\n    meet_requirements_metric: number,\r\n    supply_chain_disclosure_metric: number,\r\n    incidents_remediation_metric: number,\r\n    due_dilligence_metric: number,\r\n    incidents_metric: number) {\r\n\r\n    let legislation_filter_value = [\"Yes - UK Modern Slavery Act\", \"Yes - Australian Modern Slavery Act\"]\r\n    let beyond_compliance_value: any = [\"Yes\"]\r\n    if (this.legislation === 'uk') {\r\n      legislation_filter_value = [\"Yes - UK Modern Slavery Act\"]\r\n      beyond_compliance_value = new ValueRange(1, '');\r\n    } else if (this.legislation === 'aus') {\r\n      legislation_filter_value = [\"Yes - Australian Modern Slavery Act\"]\r\n      beyond_compliance_value = new ValueRange(1, '');\r\n    }\r\n\r\n    //build urls to link the numbers to wikirate metrics with proper filters applied\r\n    this.meet_min_requirements_metric_url = new WikirateUrlBuilder()\r\n      .setEndpoint(meet_requirements_metric)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    let msa_statement_assessed_metric_wikirate_url = new WikirateUrlBuilder()\r\n      .setEndpoint(assessed_statements_metric)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n\r\n    if (this.year != 'latest') {\r\n      msa_statement_assessed_metric_wikirate_url.addFilter(new Filter(\"year\", this.year))\r\n      this.msa_statement_assessed_metric_url = msa_statement_assessed_metric_wikirate_url.build()\r\n    }\r\n\r\n    this.supply_chain_disclosure_url = new WikirateUrlBuilder()\r\n      .setEndpoint(supply_chain_disclosure_metric)\r\n      .addFilter(new Filter(\"value\", ['Geographical', 'Facility/Supplier']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    this.worker_remediation_url = new WikirateUrlBuilder()\r\n      .setEndpoint(incidents_remediation_metric)\r\n      .addFilter(new Filter(\"value\", ['Worker remediation']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    this.due_dilligence_url = new WikirateUrlBuilder()\r\n      .setEndpoint(due_dilligence_metric)\r\n      .addFilter(new Filter(\"value\", ['Worker remediation']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    this.incidents_url = new WikirateUrlBuilder()\r\n      .setEndpoint(incidents_metric)\r\n      .addFilter(new Filter(\"value\", ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    //prepare all requests that need to be executedF\r\n    const assessed = this.dataProvider.getAnswers(assessed_statements_metric, [\r\n      new Filter(\"value\", [\"Yes\"]),\r\n      new Filter(\"company_group\", this.company_group),\r\n      ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n    ])\r\n\r\n    const meet_requirements = this.dataProvider.getAnswers(meet_requirements_metric,\r\n      [\r\n        // new Filter(\"year\", this.year),\r\n        new Filter(\"value\", [\"Yes\"]),\r\n        new Filter(\"company_group\", this.company_group),\r\n        ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n      ])\r\n\r\n    const supply_chain_disclosure = this.dataProvider.getAnswers(supply_chain_disclosure_metric,\r\n      [\r\n        // new Filter(\"year\", this.year),\r\n        new Filter(\"value\", ['Geographical', 'Facility/Supplier']),\r\n        new Filter(\"company_group\", this.company_group),\r\n        ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n      ])\r\n\r\n    const incidents_remediation = this.dataProvider.getAnswers(incidents_remediation_metric,\r\n      [\r\n        // new Filter(\"year\", this.year),\r\n        new Filter(\"value\", ['Worker remediation']),\r\n        new Filter(\"company_group\", this.company_group),\r\n        ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n      ])\r\n\r\n    const due_dilligence = this.dataProvider.getAnswers(due_dilligence_metric,\r\n      [\r\n        // new Filter(\"year\", this.year),\r\n        new Filter(\"value\", ['Yes']),\r\n        new Filter(\"company_group\", this.company_group),\r\n        ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n      ])\r\n\r\n    const msa_incidents = this.dataProvider.getAnswers(incidents_metric,\r\n      [\r\n        // new Filter(\"year\", this.year),\r\n        new Filter(\"value\", ['Yes']),\r\n        new Filter(\"company_group\", this.company_group),\r\n        ...(this.year !== 'latest' ? [new Filter('year', this.year)] : [])\r\n      ])\r\n\r\n\r\n    /**perform the requests using forkJoin to get all the results before start calculating the key findings**/\r\n    forkJoin([assessed, meet_requirements, supply_chain_disclosure, incidents_remediation, due_dilligence, msa_incidents])\r\n      .pipe(map(([assessed_response, meet_requirements_response, supply_chain_disclosure_response, incidents_remediation_response, due_dilligence_response, msa_incidents_response]) => {\r\n        if (this.year == 'latest') {\r\n          assessed_response = Object.values(assessed_response.reduce((r: any, o: any) => {\r\n            r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n            return r\r\n          }, {}))\r\n        }\r\n        meet_requirements_response = meet_requirements_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        supply_chain_disclosure_response = supply_chain_disclosure_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        incidents_remediation_response = incidents_remediation_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        due_dilligence_response = due_dilligence_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        msa_incidents_response = msa_incidents_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n\r\n        return {\r\n          'num_of_assessed_msa_statements': assessed_response.length,\r\n          'cover_min_requirements': Math.round((meet_requirements_response.length / assessed_response.length) * 100),\r\n          'supply_chain_disclosure': Math.round((supply_chain_disclosure_response.length) * 100 / assessed_response.length),\r\n          'incidents_remediation': Math.round((incidents_remediation_response.length) * 100 / assessed_response.length),\r\n          'due_dilligence': Math.round((due_dilligence_response.length) * 100 / assessed_response.length),\r\n        }\r\n      }))\r\n      .subscribe({\r\n        next: (results) => {\r\n          this.numOfAssessedMSAStatements = results.num_of_assessed_msa_statements\r\n          this.meetsMinRequirements = results.cover_min_requirements\r\n          this.supplyChainDisclosure = results.supply_chain_disclosure\r\n          this.workerRemediation = results.incidents_remediation\r\n          this.dueDilligence = results.due_dilligence\r\n          // this.incidents = results.incidents\r\n\r\n          this.drawDonutChart(100 - this.meetsMinRequirements, \"donut-meet-min-requirements\", this.meet_min_requirements_metric_url, ['Do not meet minimum requirements', 'Meet minimum requirements'], \"#FF5C45\")\r\n          this.drawDonutChart(100 - this.supplyChainDisclosure, \"donut-supply-chain-disclosure\", this.supply_chain_disclosure_url, ['Do not disclose information about their supply chain', 'Disclose information about their supply chain'], \"#FF5C45\")\r\n          this.drawDonutChart(100 - this.workerRemediation, \"donut-worker-remediation\", this.worker_remediation_url, ['Disclose direct worker remediation policies', 'Do not disclose direct worker remediation policies'], \"#FF5C45\")\r\n          this.drawDonutChart(100 - this.dueDilligence, \"donut-due-dilligence\", this.due_dilligence_url, ['No supply chain due dilligence in place', 'Supply chain due dilligence in place'], \"#FF5C45\")\r\n          // this.drawDonutChart(this.incidents, \"donut-incidents\", this.incidents_url, \"#FF5C45\")\r\n\r\n          //loading stops when all requests and calculations have been performed successfully\r\n        },\r\n        complete: () => {\r\n          this.isLoading = false\r\n        }\r\n      })\r\n  }\r\n\r\n  openMessage() {\r\n    this.modalService.open(this.content, { centered: true });\r\n  }\r\n\r\n  drawDonutChart(percentage: number, elementId: string, url: string, options: string[], hex: string) {\r\n    this.chartsService.drawDonutChart(\r\n      `${percentage}%`,\r\n      `div#${elementId}`,\r\n      [{\r\n        'id': options[0],\r\n        'percent': percentage,\r\n        'URL': url\r\n      },\r\n      {\r\n        'id': options[1],\r\n        'percent': 100 - percentage,\r\n        'URL': url\r\n      }],\r\n      250, 250, [\"#e5e5ea\", hex],\r\n      [options[1], options[0]], { renderer: \"svg\", actions: false })\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"key-findings-section\" class=\"section-top mt-5 bg-grey p-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\">\r\n        <h3 class=\"title\">Key Findings</h3>\r\n        <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n      </div>\r\n      <div class=\"col-md-8 ms-md-auto\">\r\n        <div class=\"row ps-3 pe-3 pt-md-0 pt-2\">\r\n          <select #select class=\"msa-form-select bg-grey ms-md-auto me-3 mb-md-0 mb-1\"\r\n            aria-label=\"Default select example\" style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\"\r\n            [(ngModel)]=\"year\" (ngModelChange)=\"select.value = updateData($event)\">\r\n            <option value=\"\" selected>ALL YEARS</option>\r\n            <option value=\"latest\">LATEST</option>\r\n            <option value=\"2022\">2022</option>\r\n            <option value=\"2021\">2021</option>\r\n            <option value=\"2020\">2020</option>\r\n            <option value=\"2019\">2019</option>\r\n            <option value=\"2018\">2018</option>\r\n            <option value=\"2017\">2017</option>\r\n            <option value=\"2016\">2016</option>\r\n          </select>\r\n          <select class=\"msa-form-select bg-grey\" aria-label=\"Default select example\" [(ngModel)]=\"legislation\"\r\n            (change)=\"updateData(year)\">\r\n            <option [ngValue]=\"'both'\" selected>LEGISLATION</option>\r\n            <option [ngValue]=\"'uk'\">UK MSA</option>\r\n            <option [ngValue]=\"'aus'\">AUS MSA</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--  <hr class=\"deep-blue\">-->\r\n    <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n      <div class=\"col-12 text-center align-self-center\">\r\n        <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n      <div class=\"row pt-md-2 pt-1\">\r\n        <div class=\"col-md-12\">\r\n          <p class=\"col-lg-10 col-md-12 fst-italic fs-5\">We <a href=\"{{msa_statement_assessed_metric_url}}\" target=\"_blank\">analysed {{numOfAssessedMSAStatements |\r\n              numFormat}} company statements</a> produced under <span *ngIf=\"legislation == 'both'\">the Australian and\r\n              UK Modern Slavery Acts</span><span *ngIf=\"legislation != 'both'\">the {{legislation.toUpperCase()}} Modern\r\n              Slavert Act</span> and these are some of the gaps we have discovered. </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-5\">\r\n        <div class=\"col-sm-12 col-md-6 mb-5\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-5 p-lg-4 p-2\">\r\n              <div id=\"donut-meet-min-requirements\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                Companies are failing to effectively meet their reporting obligations.\r\n              </div>\r\n              <p><b>{{100 - meetsMinRequirements | percentageFormat}}</b> of statements do not meet all <a\r\n                  class=\"tooltip-term\" type=\"button\"\r\n                  [ngbTooltip]=\"'Disclosure requirements which companies must comply with under the Act.'\">minimum\r\n                  requirements</a> of the corresponding MSA legislation.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-12 col-md-6 mb-5\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-5 p-lg-4 p-2\">\r\n              <div id=\"donut-supply-chain-disclosure\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                Ineffective disclosures render millions of workers invisible\r\n              </div>\r\n              <p><b>{{100 - supplyChainDisclosure | percentageFormat}}</b> of statements disclosed no\r\n                information on their supply chains.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-12 col-md-6 mb-5\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-5 p-lg-4 p-2\">\r\n              <div id=\"donut-worker-remediation\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                No direct worker remediation\r\n              </div>\r\n              <p><b>Only {{100 - workerRemediation | percentageFormat}}</b> of statements do not disclose direct worker\r\n                remediation policies. Such policies prioritise the well-being, rights, and dignity of affected workers.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-12 col-md-6 mb-5\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-5 p-lg-4 p-2\">\r\n              <div id=\"donut-due-dilligence\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                No direct Supply chain due dilligence\r\n              </div>\r\n              <p><b>{{100 - dueDilligence | percentageFormat}}</b> of statements report no supply chain due\r\n                dilligence in place. This means no risk management, seriously impending companies' ability to detect or\r\n                respond to exploitation.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-sm-12 col-md-12 mb-5\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-md-3 col-lg-3 col-xl-3 col-5 p-lg-4 p-2\">\r\n              <div id=\"donut-incidents\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                Underreporting of Modern Slavery Incidents\r\n              </div>\r\n              <p><b>Only {{incidents | percentageFormat}}</b> of statements disclosed detecting an\r\n                incident(s) of modern\r\n                slavery in their supply chains. Unfortunately, we know the number of incidents is likely to be far\r\n                higher,\r\n                suggesting that\r\n                either risk assessment and identification processes are inadequate, or companies are not being\r\n                transparent.</p>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <ng-template #content let-modal>\r\n    <div class=\"modal-header\">\r\n      <h5 class=\"modal-title\">The Australian Modern Slavery Act</h5>\r\n      <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n      <p>The Australian Modern Slavery Act was passed in 2018 and required companies to produce their first statement\r\n        for\r\n        financial year 2019. These needed to be submitted within 3 months after year's end (in 2020) but for this first\r\n        year the government provided companies with an extension due to the impact of the covid pandemic. As a result,\r\n        most companies submitted statements under the Australian Act from the financial year 2020 onward.</p>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-light\" (click)=\"modal.close('Close click')\">Close</button>\r\n    </div>\r\n  </ng-template>\r\n  <div class=\"section-bottom bg-grey pe-4 pb-4\">\r\n    <export-as [sector]=\"sector\" [section]=\"'key-findings'\" [elementId]=\"'key-findings-section'\"\r\n      [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { DataProvider } from \"../../services/data.provider\";\r\nimport { Filter } from \"../../models/filter.model\";\r\nimport { ChartsService } from \"../../services/charts.service\";\r\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport { SectorProvider } from \"../../services/sector.provider\";\r\nimport { WikirateUrlBuilder } from 'src/app/utils/wikirate-url-builder';\r\n\r\n@Component({\r\n  selector: 'minimum-requirements-section',\r\n  templateUrl: './minimum-requirements-section.component.html',\r\n  styleUrls: ['./minimum-requirements-section.component.scss']\r\n})\r\nexport class MinimumRequirementsSectionComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  year: number | string = \"\"\r\n  isLoading: boolean = true;\r\n  aus_assessed = 0;\r\n  uk_assessed = 0;\r\n  uk_legislation_info = \"The UK legislation only requires three criteria, none of which relate to the quality of the statement. Therefore, a direct comparison of minimum compliance between Australian and UK is difficult.\"\r\n\r\n  constructor(private dataProvider: DataProvider, private chartsService: ChartsService, private route: ActivatedRoute,\r\n    private sectorProvider: SectorProvider) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData()\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    }\r\n    )\r\n    this.route.url.subscribe(val => {\r\n      if (val[1].path === 'meeting-minimum-requirements')\r\n        this.sectorProvider.getPath().next(val[1].path)\r\n    })\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n  updateData() {\r\n    let uk_company_group = [this.dataProvider.companies_with_assessed_statement.uk]\r\n    let aus_company_group = [this.dataProvider.companies_with_assessed_statement.aus]\r\n    if (this.dataProvider.getCompanyGroup(this.sector) != '') {\r\n      uk_company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n      aus_company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    }\r\n\r\n    const uk_meet_min_requirements_url = new WikirateUrlBuilder()\r\n      .setEndpoint(this.dataProvider.metrics.meet_uk_min_requirements)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', uk_company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    const aus_meet_min_requirements_url = new WikirateUrlBuilder()\r\n      .setEndpoint(this.dataProvider.metrics.meet_aus_min_requirements)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', aus_company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n    \r\n    this.isLoading = true;\r\n    this.draw_minimum_requirements_pie_chart(\r\n      \"Meet Minimun UK Requirements\",\r\n      \"div#uk-meet-min-requirements\",\r\n      uk_meet_min_requirements_url,\r\n      this.dataProvider.metrics.meet_uk_min_requirements, uk_company_group)\r\n\r\n    if (this.year >= '2020' || this.year == '' || this.year == 'latest') {\r\n      this.draw_minimum_requirements_pie_chart(\r\n        \"Meet Minimun Australian Requirements\",\r\n        \"div#aus-meet-min-requirements\",\r\n        aus_meet_min_requirements_url,\r\n        this.dataProvider.metrics.meet_aus_min_requirements, aus_company_group)\r\n    }\r\n  }\r\n\r\n\r\n  draw_minimum_requirements_pie_chart(title: string, element: string, wikirate_url: string, meet_min_requirements_metric_id: number, company_group: string[]) {\r\n    const meet_requirements = this.dataProvider.getAnswers(meet_min_requirements_metric_id,\r\n      [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"value\", [\"Yes\", \"No\", \"Unknown\"]),\r\n        new Filter(\"company_group\", company_group)\r\n      ])\r\n\r\n    meet_requirements.subscribe(results => {\r\n      let assessed = results.length\r\n\r\n      if (company_group.includes(this.dataProvider.companies_with_assessed_statement.uk)) {\r\n        this.uk_assessed = assessed\r\n      } else {\r\n        this.aus_assessed = assessed\r\n      }\r\n      // @ts-ignore\r\n      let meet_min_requirements = results.filter(item => item['value'] === \"Yes\").length\r\n\r\n      this.chartsService.drawPieChart(\r\n        title,\r\n        element,\r\n        [{\r\n          'value': 'Met',\r\n          'count': meet_min_requirements,\r\n          'sum_count': assessed,\r\n          'wikirate_page': wikirate_url\r\n        },\r\n        {\r\n          'value': 'Not Met',\r\n          'count': assessed - meet_min_requirements,\r\n          'sum_count': assessed,\r\n          'wikirate_page': wikirate_url\r\n        }],\r\n        210, 180, [\"#000029\", \"#FF5C45\"],\r\n        [\"Not Met\", \"Met\"], { renderer: \"svg\", actions: false })\r\n      this.isLoading = false\r\n    })\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"meeting-min-requirements-section\" class=\"section-top mt-5 bg-grey p-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h3 class=\"title\">Meeting Minimum Requirements</h3>\r\n        <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <select class=\"msa-form-select ms-md-auto bg-grey\" aria-label=\"Minimum requirements year filter\"\r\n          style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\" [(ngModel)]=\"year\" (change)=\"updateData()\">\r\n          <option [ngValue]=\"''\" selected>ALL YEARS</option>\r\n          <option [ngValue]=\"'latest'\">LATEST</option>\r\n          <option [ngValue]=\"2022\">2022</option>\r\n          <option [ngValue]=\"2021\">2021</option>\r\n          <option [ngValue]=\"2020\">2020</option>\r\n          <option [ngValue]=\"2019\">2019</option>\r\n          <option [ngValue]=\"2018\">2018</option>\r\n          <option [ngValue]=\"2017\">2017</option>\r\n          <option [ngValue]=\"2016\">2016</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"row pt-md-2 pt-1\">\r\n      <p class=\"col-lg-10 col-md-12 fst-italic fs-5\">Are company statements compliant with the minimum requirements under the UK or Australian Modern Slavery\r\n        Act?</p>\r\n    </div>\r\n    <!--  <hr class=\"deep-blue no-margin\">-->\r\n    <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n      <div class=\"col-12 text-center align-self-center\">\r\n        <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-2 justify-items-center\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n      <div class=\"p-3\" [ngClass]=\"year >= '2020' || year =='' || year =='latest' ? 'col-md-6': 'col-md-12'\">\r\n        <div class=\"text-center\">\r\n          <span class=\"h4\">UK Act</span>\r\n          <i class=\"bi bi-exclamation-diamond-fill small superscript ms-1\" [ngbTooltip]=\"uk_legislation_info\"></i>\r\n        </div>\r\n        <div [ngClass]=\"uk_assessed > 0 ? 'show-element': 'hide-element'\">\r\n          <div class=\"row text-center pt-4\">\r\n            <div id=\"uk-meet-min-requirements\" class=\"chart-wrapper\">\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"row text-center pt-4\">\r\n            <div id=\"uk-requirements-bars\" class=\"chart-wrapper\">\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n        <div *ngIf=\"uk_assessed == 0\">\r\n          <div class=\"row text-center pt-4\">\r\n            <p style=\"font-style: italic\">No data available!</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row pt-4 justify-content-center\"\r\n          [ngClass]=\"year >= '2020' || year =='' || year =='latest' ? 'hide-element': 'show-element'\">\r\n          <div class=\"col-10\">\r\n            <p class=\"quote\"><i class=\"bi bi-exclamation-diamond pe-2\"></i>The <b>Australian Modern Slavery Act was\r\n                passed\r\n                in 2018</b> and required companies to produce their first statement for financial year 2019. These\r\n              needed\r\n              to\r\n              be submitted within 3 months after year's end (in 2020) but for this first year the government provided\r\n              companies with an extension due to the impact of the covid pandemic. As a result, <b>most companies\r\n                submitted\r\n                statements under the Australian Act from the financial year 2020 onward.</b>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6 p-3\"\r\n        [ngClass]=\"year >= '2020' || year =='' || year =='latest' ? 'show-element': 'hide-element'\">\r\n        <div class=\"row text-center\">\r\n          <h4>Australian Act</h4>\r\n        </div>\r\n        <div [ngClass]=\"aus_assessed > 0 ? 'show-element': 'hide-element'\">\r\n          <div class=\"row text-center pt-4\">\r\n            <div id=\"aus-meet-min-requirements\" class=\"chart-wrapper\">\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"row text-center pt-4\">\r\n            <div id=\"aus-requirements-bars\" class=\"chart-wrapper\">\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n        <div *ngIf=\"aus_assessed == 0\">\r\n          <div class=\"row text-center pt-4\">\r\n            <p style=\"font-style: italic\">No data available!</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"section-bottom bg-grey pe-4 pb-4\">\r\n    <export-as [sector]=\"sector\" [section]=\"'meeting-minimum-requirements'\"\r\n      [elementId]=\"'meeting-min-requirements-section'\"\r\n      [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { forkJoin, map } from 'rxjs';\r\nimport { Filter } from 'src/app/models/filter.model';\r\nimport { ChartsService } from 'src/app/services/charts.service';\r\nimport { DataProvider } from 'src/app/services/data.provider';\r\nimport { SectorProvider } from 'src/app/services/sector.provider';\r\nimport { WikirateUrlBuilder } from 'src/app/utils/wikirate-url-builder';\r\n\r\n@Component({\r\n  selector: 'spotlight-metrics',\r\n  templateUrl: './spotlight-metrics.component.html',\r\n  styleUrls: ['./spotlight-metrics.component.scss']\r\n})\r\nexport class SpotlightMetricsComponent implements OnInit {\r\n  sector: string = \"all-sectors\";\r\n  company_group: string[] = []\r\n\r\n  year: string = ''\r\n  legislation: string = 'both'\r\n  isLoading: boolean = true;\r\n\r\n  collaborations_and_memberships_url = '#';\r\n  workers_engagement_url: string = '#';\r\n  living_wage_commitment_url: string = '#';\r\n\r\n  collaborationsAndMemberships!: number;\r\n  workersEngagement!: number;\r\n  livingWageCommitment!: number;\r\n\r\n\r\n  constructor(private dataProvider: DataProvider, private modalService: NgbModal,\r\n    private route: ActivatedRoute, private sectorProvider: SectorProvider,\r\n    private chartsService: ChartsService) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      let sector = params.get('sector');\r\n      if (sector !== null) {\r\n        this.sector = sector\r\n        this.updateData(this.year)\r\n      }\r\n      this.sectorProvider.getSector().next(sector);\r\n    })\r\n  }\r\n\r\n  getSectorName(): any {\r\n    return (this.dataProvider.sectors as any)[this.sector]\r\n  }\r\n\r\n  updateData($event: any) {\r\n    this.isLoading = true\r\n    this.company_group = []\r\n    if (this.sector != 'all-sectors')\r\n      this.company_group.push(this.dataProvider.getCompanyGroup(this.sector))\r\n    if (this.legislation === 'uk') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.uk)\r\n    } else if (this.legislation === 'aus') {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.aus)\r\n    } else {\r\n      this.company_group.push(this.dataProvider.companies_with_assessed_statement.any)\r\n    }\r\n    this.findings()\r\n    return this.year;\r\n  }\r\n\r\n  findings() {\r\n    //build urls to link the numbers to wikirate metrics with proper filters applied\r\n    this.collaborations_and_memberships_url = new WikirateUrlBuilder()\r\n      .setEndpoint(this.dataProvider.metrics.msa_collaborations_and_membership)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    this.workers_engagement_url = new WikirateUrlBuilder()\r\n      .setEndpoint(this.dataProvider.metrics.msa_workers_engagement)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    this.living_wage_commitment_url = new WikirateUrlBuilder()\r\n      .setEndpoint(this.dataProvider.metrics.msa_living_wage)\r\n      .addFilter(new Filter('value', ['Yes']))\r\n      .addFilter(new Filter('company_group', this.company_group))\r\n      .addFilter(new Filter('year', this.year))\r\n      .build()\r\n\r\n    //prepare all requests that need to be executed\r\n    let assessed_filters = [\r\n      new Filter(\"year\", this.year),\r\n      new Filter(\"value\", [\"Yes\"]),\r\n      new Filter(\"company_group\", this.company_group)\r\n    ]\r\n    if (this.year == 'latest') {\r\n      assessed_filters = [\r\n        new Filter(\"value\", [\"Yes\"]),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ]\r\n    }\r\n    const assessed = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_statement_assessed, assessed_filters)\r\n\r\n    const collaborations_and_memberships = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_collaborations_and_membership,\r\n      [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ])\r\n\r\n    const workers_engagement = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_workers_engagement,\r\n      [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ])\r\n\r\n    const living_wage = this.dataProvider.getAnswers(this.dataProvider.metrics.msa_living_wage,\r\n      [\r\n        new Filter(\"year\", this.year),\r\n        new Filter(\"company_group\", this.company_group)\r\n      ])\r\n\r\n    /**perform the requests using forkJoin to get all the results before start calculating the key findings**/\r\n    forkJoin([assessed, collaborations_and_memberships, workers_engagement, living_wage])\r\n      .pipe(map(([assessed_response, collaborations_and_memberships_response, workers_engagement_response, living_wage_response]) => {\r\n        if (this.year == 'latest') {\r\n          assessed_response = Object.values(assessed_response.reduce((r: any, o: any) => {\r\n            r[o.company] = (r[o.company] && r[o.company].year > o.year) ? r[o.company] : o\r\n\r\n            return r\r\n          }, {}))\r\n        }\r\n\r\n        collaborations_and_memberships_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        workers_engagement_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n        living_wage_response.filter((item: any) => assessed_response.find((o: any) => o.company == item.company && o.year == item.year))\r\n\r\n\r\n        let statements_reporting_workers_engagement = workers_engagement_response.filter((x: any) => x['value'].includes('Yes with workers') || x['value'].includes('Yes with labor unions')).length\r\n        let statements_reporting_living_wage_commitment = living_wage_response.filter((x: any) => x['value'] == 'Yes').length\r\n        let statements_reporting_collaborations_and_memberships = collaborations_and_memberships_response.filter((x: any) => x['value'] == 'Yes').length\r\n\r\n        return {\r\n          'assessed_collaborations_and_memberships': collaborations_and_memberships_response.length,\r\n          'collaborations_and_memberships': statements_reporting_collaborations_and_memberships,\r\n          'assessed_workers_engagement': workers_engagement_response.length,\r\n          'workers_engagement': statements_reporting_workers_engagement,\r\n          'assessed_living_wage': living_wage_response.length,\r\n          'living_wage': statements_reporting_living_wage_commitment\r\n        }\r\n      }))\r\n      .subscribe({\r\n        next: results => {\r\n          this.collaborationsAndMemberships = Math.round(results.collaborations_and_memberships * 100 / results.assessed_collaborations_and_memberships),\r\n            this.workersEngagement = Math.round(results.workers_engagement * 100 / results.assessed_workers_engagement),\r\n            this.livingWageCommitment = Math.round(results.living_wage * 100 / results.assessed_living_wage)\r\n\r\n          this.chartsService.drawSingleBar(\"Living wage in supply chains\",\r\n            \"div#living-wage-chart\",\r\n            [{ \"meet_criteria\": results.living_wage, \"num_of_assessed\": results.assessed_living_wage }],\r\n            this.living_wage_commitment_url,\r\n            { renderer: \"svg\", actions: false })\r\n\r\n          this.chartsService.drawSingleBar(\"Collaborations and Memberships\", \"div#collaborations-and-memberships-chart\",\r\n            [{ \"meet_criteria\": results.collaborations_and_memberships, \"num_of_assessed\": results.assessed_collaborations_and_memberships }],\r\n            this.collaborations_and_memberships_url,\r\n            { renderer: \"svg\", actions: false })\r\n\r\n          this.chartsService.drawSingleBar(\"Workers Engagement\", \"div#workers-engagement-chart\",\r\n            [{ \"meet_criteria\": results.workers_engagement, \"num_of_assessed\": results.assessed_workers_engagement }],\r\n            this.workers_engagement_url,\r\n            { renderer: \"svg\", actions: false })\r\n        },\r\n        complete: () => this.isLoading = false\r\n      })\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"spotlight-metrics-section\" class=\"section-top mt-5 bg-grey p-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\">\r\n        <h3 class=\"title\">Spotlight Metrics</h3>\r\n        <h6 class=\"fst-italic\" *ngIf=\"sector !== 'all-sectors'\">{{getSectorName()}} Sector</h6>\r\n      </div>\r\n      <div class=\"col-md-8 ms-md-auto\">\r\n        <div class=\"row ps-3 pe-3 pt-md-0 pt-2\">\r\n          <select #select class=\"msa-form-select bg-grey ms-md-auto me-3 mb-md-0 mb-1\"\r\n            aria-label=\"Default select example\" style=\"max-width: 120px; max-height: 50px; font-size: 0.8em\"\r\n            [(ngModel)]=\"year\" (ngModelChange)=\"select.value = updateData($event)\">\r\n            <option value=\"\" selected>ALL YEARS</option>\r\n            <option value=\"latest\">LATEST</option>\r\n            <option value=\"2022\">2022</option>\r\n            <option value=\"2021\">2021</option>\r\n          </select>\r\n          <select class=\"msa-form-select bg-grey\" aria-label=\"Default select example\" [(ngModel)]=\"legislation\"\r\n            (change)=\"updateData(year)\">\r\n            <option [ngValue]=\"'both'\" selected>LEGISLATION</option>\r\n            <option [ngValue]=\"'uk'\">UK MSA</option>\r\n            <option [ngValue]=\"'aus'\">AUS MSA</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-3\" style=\"height: 150px\" *ngIf=\"isLoading\">\r\n      <div class=\"col-12 text-center align-self-center\">\r\n        <div class=\"spinner-grow text-warning bg-deep-blue\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-4\" [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\">\r\n      <div class=\"row mt-2\">\r\n        <div class=\"mb-lg-3 mb-md-3\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-lg-6 col-md-12 order-2 p-lg-4 p-2\">\r\n              <div id=\"living-wage-chart\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-lg-6 col-md-12 order-1 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                Low and underpayment of wages in supply chains\r\n              </div>\r\n              <p><b>Only {{livingWageCommitment | percentageFormat}}</b> of statements provided a commitment on, or\r\n                detail action to ensure fair / living wages in at least some parts of their supply chain. Low and\r\n                underpayment of wages are an indicator of forced labour. </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-lg-4 mt-5\">\r\n        <div class=\"mb-lg-3 mb-md-3\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"col-lg-6 col-md-12 order-1 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                Memberships and Partnerships with multi-stakeholder initiatives.\r\n              </div>\r\n              <p><b>{{collaborationsAndMemberships | percentageFormat}}</b> of statements mention memberships or\r\n                collaborations with multi-stakeholder initiatives that address modern slavery issues. Such initiatives\r\n                can enable effective remedy for harms and sharing of good practices. </p>\r\n            </div>\r\n            <div class=\"msa-primary-info col-lg-6 col-md-12 order-2 p-lg-4 p-2\">\r\n              <div id=\"collaborations-and-memberships-chart\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-lg-4 mt-5\">\r\n        <div class=\"mb-lg-3 mb-md-3\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"msa-primary-info col-lg-6 col-md-12 order-2 p-lg-4 p-2\">\r\n              <div id=\"workers-engagement-chart\" class=\"chart-wrapper\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-lg-6 col-md-12 order-1 align-content-center\">\r\n              <div class=\"msa-secondary-info mb-2\">\r\n                workers Engagement\r\n              </div>\r\n              <p><b>Only {{workersEngagement | percentageFormat}}</b> of statements reported that the company engage\r\n                with workers or trade unions in the supply chain. </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--  <hr class=\"deep-blue\">-->\r\n\r\n    <!-- Modal -->\r\n    <ng-template #content let-modal>\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">The Australian Modern Slavery Act</h5>\r\n        <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>The Australian Modern Slavery Act was passed in 2018 and required companies to produce their first\r\n          statement\r\n          for\r\n          financial year 2019. These needed to be submitted within 3 months after year's end (in 2020) but for\r\n          this first\r\n          year the government provided companies with an extension due to the impact of the covid pandemic. As\r\n          a result,\r\n          most companies submitted statements under the Australian Act from the financial year 2020 onward.\r\n        </p>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-light\" (click)=\"modal.close('Close click')\">Close</button>\r\n      </div>\r\n    </ng-template>\r\n    <div class=\"section-bottom bg-grey pe-4 pb-4\">\r\n      <export-as [sector]=\"sector\" [section]=\"'spotlight-metrics'\" [elementId]=\"'spotlight-metrics-section'\"\r\n        [ngClass]=\"!isLoading ? 'show-element': 'hide-element'\"></export-as>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  current_year: number = 2022\r\n\r\n  constructor() {\r\n    this.current_year = new Date().getFullYear()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"bg-grey mt-5\">\r\n  <div class=\"container pt-3 pb-5\">\r\n    <div class=\"row\">\r\n      <p class=\"text-center creators\">A collaboration between:</p>\r\n    </div>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-4 text-center\">\r\n        <a href=\"https://walkfree.org/\"><img class=\"logo\" src=\"assets/logos/walk_free_footer_logo.svg\"/></a>\r\n      </div>\r\n      <div class=\"col-4 text-center logo-center\">\r\n        <a href=\"https://wikirate.org\"><img class=\"logo\" src=\"assets/logos/wikirate_logo.svg\"/></a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"bg-orange\">\r\n  <div class=\"footer-container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-11\">\r\n        <div class=\"mt-1 text-light-white mb-1\">\r\n          Copyright  {{current_year}} Minderoo Foundation Pty Ltd. All rights reserved\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {SectorProvider} from \"../services/sector.provider\";\r\nimport {DataProvider} from \"../services/data.provider\";\r\n\r\n@Component({\r\n  selector: 'header-component',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  selectedSector: string = \"All Sectors\"\r\n  selectedSection: string = \"dashboard\"\r\n  path: string | null = \"\"\r\n  sectors = {}\r\n  isMenuOpen = false\r\n\r\n  constructor(private sectorProvider: SectorProvider, private dataProvider: DataProvider) {\r\n    this.sectors = dataProvider.sectors\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sectorProvider.getSector().subscribe(sector => {\r\n      if (sector === \"all-sectors\" && sector !== this.selectedSector) {\r\n        this.selectedSector = \"All Sectors\"\r\n      } else if (sector === \"food-and-beverage\" && sector !== this.selectedSector) {\r\n        this.selectedSector = \"Food & Beverage\"\r\n      } else if (sector === \"garment-sector\" && sector !== this.selectedSector) {\r\n        this.selectedSector = \"Garment\"\r\n      } else if (sector === \"financial-sector\" && sector !== this.selectedSector) {\r\n        this.selectedSector = \"Financial\"\r\n      } else if (sector === \"hospitality-sector\" && sector !== this.selectedSector) {\r\n        this.selectedSector = \"Hospitality\"\r\n      }\r\n    })\r\n    this.sectorProvider.getPath().subscribe(path => {\r\n      if (path === \"dashboard\" || path === \"about\"|| path === \"case-studies\" || path === \"subscribe\")\r\n        this.path = '';\r\n      else {\r\n        this.path = path + '/'\r\n      }\r\n    })\r\n  }\r\n\r\n  onSelectSector(sector: string) {\r\n    this.selectedSector = sector;\r\n  }\r\n\r\n  onSelectSection(section: string) {\r\n    this.selectedSection = section\r\n  }\r\n\r\n  toggleMenu(){\r\n    this.isMenuOpen = !this.isMenuOpen\r\n  }\r\n}\r\n","<div class=\"bg-deep-blue sticky-top ps-lg-5 pe-lg-5 ps-md-4 pe-md-4 ps-3 pe-3\">\r\n  <div id=\"navigation_bar\">\r\n    <ul class=\"nav navbar\">\r\n      <li>\r\n        <a class=\"navbar-brand navbar-expand\" routerLink=\"/dashboard\">\r\n          <img class=\"logo ms-1 mt-1 mb-1\" src=\"assets/logos/walk_free_header_logo.svg\" />\r\n        </a>\r\n      </li>\r\n      <li class=\"burger\" (click)=\"toggleMenu()\">\r\n        <i [class]=\"isMenuOpen? 'bi bi-x display-6' :'bi bi-list display-6'\"></i>\r\n      </li>\r\n      <li class=\"navbar menu ms-md-auto ms-0\" [class.is-open]=\"isMenuOpen\">\r\n        <a class=\"dashboard nav-item nav-link menu-item\" routerLink=\"/dashboard\" (click)=\"onSelectSection('dashboard')\"\r\n          routerLinkActive=\"active\">HOME</a>\r\n        <a class=\"nav-item nav-link menu-item\" routerLink=\"/about\" (click)=\"onSelectSection('about')\"\r\n          routerLinkActive=\"active\">ABOUT</a>\r\n        <a class=\"nav-item nav-link menu-item\" routerLink=\"/case-studies\" (click)=\"onSelectSection('case-studies')\"\r\n          routerLinkActive=\"active\">CASE STUDIES</a>\r\n        <div class=\"nav-item dropdown col\">\r\n          <a class=\"nav-item nav-link text-nowrap menu-item\" type=\"button\" id=\"share\" data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\">\r\n            <span class=\"share\">SHARE</span><i class=\"bi bi-share-fill ms-0 ms-sm-2\"></i>\r\n          </a>\r\n          <ul class=\"dropdown-menu\" aria-labelledby=\"share\">\r\n            <li><a class=\"dropdown-item\" target=\"_blank\" href=\"https://www.linkedin.com/shareArticle?mini=true&url=\"><i\r\n                  class=\"bi bi-linkedin ms-2 me-2\"></i>linkedin</a></li>\r\n            <li><a class=\"dropdown-item\" target=\"_blank\" href=\"mailto:info@example.com?&subject=&cc=&bcc=&body=\"><i\r\n                  class=\"bi bi-envelope-fill ms-2 me-2\"></i>mail</a></li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"filter-dropdown dropdown ms-2\">\r\n          <span class=\"btn btn-secondary sector-filter\" type=\"button\" id=\"sector-filter\" data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\">{{selectedSector}}</span>\r\n          <ul class=\"dropdown-menu\" aria-labelledby=\"sector-filter\" data-popper-placement=\"bottom-start\">\r\n            <li *ngFor=\"let item of sectors | keyvalue\">\r\n              <a class=\"dropdown-item\" routerLink=\"{{'dashboard/'+path+item.key}}\" (click)=\"onSelectSector(item.value)\">\r\n                {{item.value}}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>","import {ValueRange} from \"./valuerange.model\";\r\n\r\nexport class Filter {\r\n  constructor(public name: string, public value: string | number | any[] | ValueRange) {\r\n  }\r\n}\r\n","export class ValueRange {\r\n  constructor(public from: number | string, public to: number | string) {\r\n  }\r\n}\r\n","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'numFormat'\r\n})\r\nexport class NumFormatPipe implements PipeTransform {\r\n\r\n  transform(input: any, args?: any): any {\r\n    if (input === undefined) {\r\n      return input;\r\n    }\r\n    if (typeof input === \"string\" && !Number.isNaN(Number(input)))\r\n      input = Number(input)\r\n    else if (typeof input === \"string\")\r\n      return input\r\n\r\n    if (Number.isNaN(input)) {\r\n      return '-';\r\n    }\r\n\r\n    if (input < 1000) {\r\n      return input;\r\n    }\r\n\r\n    return input.toString().slice(0, input.toString().length - 3) + ',' + input.toString().slice(-3);\r\n\r\n\r\n  }\r\n\r\n}\r\n","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'percentageFormat'\r\n})\r\nexport class PercentageFormatPipe implements PipeTransform {\r\n\r\n  transform(input: any, args?: any): any {\r\n    if (input === undefined) {\r\n      return '-';\r\n    }\r\n    if (typeof input === \"string\" && !Number.isNaN(Number(input)))\r\n      input = Number(input) +'%'\r\n    else if (typeof input === \"string\")\r\n      return input\r\n    else if (Number.isNaN(input))\r\n      return '-';\r\n    return input +'%';\r\n\r\n\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-section',\r\n  templateUrl: './section.component.html',\r\n  styleUrls: ['./section.component.scss']\r\n})\r\nexport class SectionComponent implements OnInit {\r\n  sector: string = \"all-sectors\"\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>\r\n","// @ts-ignore\r\nimport pieChart from '../../assets/charts/pie.json';\r\n// @ts-ignore\r\nimport simpleBarChart from '../../assets/charts/simple-bar.json';\r\n// @ts-ignore\r\nimport donutChart from '../../assets/charts/donut.json';\r\n// @ts-ignore\r\nimport semiDonutChart from '../../assets/charts/semi-donut.json';\r\n// @ts-ignore\r\nimport singleBarChart from '../../assets/charts/single-bar.json';\r\n// @ts-ignore\r\nimport barChart from '../../assets/charts/bars.json';\r\n// @ts-ignore\r\nimport groupedBarsChart from '../../assets/charts/subgroup-bars.json';\r\n// @ts-ignore\r\nimport shankeyChart from '../../assets/charts/shankey-chart.json';\r\n// @ts-ignore\r\nimport radarChart from '../../assets/charts/radar.json';\r\nimport { Injectable } from \"@angular/core\";\r\nimport embed from \"vega-embed\";\r\nimport { Filter } from \"../models/filter.model\";\r\nimport { DataProvider } from \"./data.provider\";\r\n\r\n@Injectable()\r\nexport class ChartsService {\r\n  wikirateApiHost = \"https://wikirate.org\"\r\n\r\n  addListenerOnChartClick(result: any): void {\r\n    const view = result.view\r\n\r\n    //add Signal Listener for open url in a new tab when user clicks on the bar chart\r\n    view.addSignalListener('click', (name: string, value: any) => {\r\n      if (value) {\r\n        window.open(value, '_blank');\r\n      }\r\n    });\r\n\r\n    view.addEventListener('click', () => {\r\n      view.signal('click', null).run();\r\n    });\r\n  }\r\n\r\n  drawRadarChart(title: string, element: string, values: any[], url: string, options: {}) {\r\n    var chart = JSON.parse(JSON.stringify(radarChart))\r\n    // bar['signals']['0']['value'] = title\r\n    chart['data'][0]['values'] = values\r\n    // bar['data'][1]['transform'][2]['expr'] = \"'\" + `${url}` + \"'\"\r\n    return embed(element, chart, options);\r\n  }\r\n\r\n  drawSingleBar(title: string, element: string, values: any[], url: string, options: {}) {\r\n    var bar = JSON.parse(JSON.stringify(singleBarChart))\r\n    bar['signals']['0']['value'] = title\r\n    bar['data'][0]['values'] = values\r\n    bar['data'][1]['transform'][2]['expr'] = \"'\" + `${url}` + \"'\"\r\n    return embed(element, bar, options).then(result => this.addListenerOnChartClick(result));\r\n  }\r\n\r\n  drawShankeyChart(element: string, values: any[], options: {}) {\r\n    var chart = JSON.parse(JSON.stringify(shankeyChart))\r\n    chart['data'][0]['values'] = values\r\n    return embed(element, chart, options);\r\n  }\r\n\r\n  drawPieChart(title: string,\r\n    element: string,\r\n    values: {}[],\r\n    width: number,\r\n    height: number,\r\n    colors: string[],\r\n    domain: string[],\r\n    options: {}) {\r\n    var pie = JSON.parse(JSON.stringify(pieChart))\r\n    pie[\"description\"] = title\r\n    pie[\"data\"][0][\"values\"] = values\r\n    pie[\"width\"] = width\r\n    pie[\"height\"] = height\r\n    pie[\"scales\"][0][\"range\"] = colors\r\n    pie[\"scales\"][0][\"domain\"] = domain\r\n\r\n    return embed(element, pie, options).then(result => this.addListenerOnChartClick(result));\r\n  }\r\n\r\n  drawDonutChart(title: string,\r\n    element: string,\r\n    values: {}[],\r\n    width: number,\r\n    height: number,\r\n    colors: string[],\r\n    domain: string[],\r\n    options: {}) {\r\n    var donut = JSON.parse(JSON.stringify(donutChart))\r\n    donut[\"title\"][\"text\"] = title\r\n    donut[\"data\"][0][\"values\"] = values\r\n    donut[\"width\"] = width\r\n    donut[\"height\"] = height\r\n    donut[\"scales\"][0][\"range\"] = colors\r\n    donut[\"scales\"][0][\"domain\"] = domain\r\n\r\n    return embed(element, donut, options).then(result => this.addListenerOnChartClick(result))\r\n  }\r\n\r\n  drawSemiDonutChart(title: string,\r\n    element: string,\r\n    values: {}[],\r\n    width: number,\r\n    colors: string[],\r\n    domain: string[],\r\n    options: {}) {\r\n    var donut = JSON.parse(JSON.stringify(semiDonutChart))\r\n    donut[\"title\"][\"text\"] = title\r\n    donut[\"data\"][0][\"values\"] = values\r\n    donut[\"width\"] = width\r\n    donut[\"scales\"][0][\"range\"] = colors\r\n    donut[\"scales\"][0][\"domain\"] = domain\r\n\r\n    return embed(element, donut, options).then(result => this.addListenerOnChartClick(result));\r\n  }\r\n\r\n  drawSimpleBarChart(title: string,\r\n    element: string,\r\n    values: {}[],\r\n    options: {}) {\r\n    var simple_bar = JSON.parse(JSON.stringify(simpleBarChart))\r\n    simple_bar[\"title\"][\"text\"] = title\r\n    simple_bar[\"data\"][0][\"values\"] = values\r\n    return embed(element, simple_bar, options).then(result => this.addListenerOnChartClick(result))\r\n  }\r\n\r\n  drawSubgroupsBarChart(\r\n    title: string,\r\n    element: string,\r\n    width: number,\r\n    meets_requirements_metric_id: number,\r\n    metric: number,\r\n    subgroups: any,\r\n    groups: any,\r\n    year: number | string,\r\n    company_groups: string[],\r\n    options: {}) {\r\n    let bars = JSON.parse(JSON.stringify(groupedBarsChart))\r\n    let data: any[] = []\r\n\r\n    let filters: Filter[] = [new Filter('company_group', company_groups), new Filter('year', year)]\r\n    data.push({\r\n      \"name\": 'meets_min_requirements',\r\n      \"url\": `${this.wikirateApiHost}/~${meets_requirements_metric_id}+Answer.json?${DataProvider.getParams(filters).toString()}`,\r\n      \"transform\": [{ \"type\": \"formula\", \"as\": \"key\", \"expr\": \"datum.company + ',' + datum.year\" }]\r\n    })\r\n\r\n    if (year == 'latest') {\r\n      filters.pop()\r\n    }\r\n\r\n    data.push({\r\n      \"name\": \"answers\",\r\n      \"url\": `${this.wikirateApiHost}/~${metric}+Answer.json?${DataProvider.getParams(filters).toString()}`,\r\n      \"transform\": [\r\n        {\r\n          \"type\": \"formula\",\r\n          \"as\": \"key\",\r\n          \"expr\": \"datum.company + ',' + datum.year\"\r\n        },\r\n        {\r\n          \"type\": \"lookup\",\r\n          \"from\": \"meets_min_requirements\",\r\n          \"key\": \"key\",\r\n          \"fields\": [\"key\"],\r\n          \"values\": [\"value\"],\r\n          \"as\": [\"meets_min_requirements\"]\r\n        },\r\n        {\r\n          \"type\": \"filter\",\r\n          \"expr\": \"datum.meets_min_requirements == 'Yes' || datum.meets_min_requirements == 'No' || datum.meets_min_requirements == 'Unknown'\"\r\n        },\r\n        {\r\n          \"type\": \"formula\",\r\n          \"expr\": \"split(datum.value, ', ')\",\r\n          \"as\": \"value_array\"\r\n        }\r\n      ]\r\n    })\r\n    data.push(subgroups)\r\n    data.push(groups)\r\n    data.push(bars['data'][4])\r\n\r\n    bars['description'] = title;\r\n    bars['data'] = data\r\n    bars['width'] = width\r\n    return embed(element, bars, options)\r\n  }\r\n\r\n  drawBarChart(\r\n    title: string,\r\n    element: string,\r\n    width: number,\r\n    height: number,\r\n    meets_requirements_metric_id: number,\r\n    metrics: [],\r\n    year: number | string,\r\n    company_groups: string[],\r\n    options: {}) {\r\n    let bars = JSON.parse(JSON.stringify(barChart))\r\n    let data: any[] = []\r\n\r\n    let filters: Filter[] = [new Filter('company_group', company_groups), new Filter('year', year)]\r\n    data.push({\r\n      \"name\": 'meets_min_requirements',\r\n      \"url\": `${this.wikirateApiHost}/~${meets_requirements_metric_id}+Answer.json?${DataProvider.getParams(filters).toString()}`,\r\n      \"transform\": [{ \"type\": \"formula\", \"as\": \"key\", \"expr\": \"datum.company + ',' + datum.year\" }]\r\n    })\r\n\r\n    if (year == 'latest') {\r\n      filters.pop()\r\n    }\r\n\r\n    data.push({\r\n      \"name\": \"answers\",\r\n      // @ts-ignore\r\n      \"url\": `${this.wikirateApiHost}/~${metrics[0]['id']}+Answer.json?${DataProvider.getParams(filters).toString()}`,\r\n    })\r\n    let short_labels: any[] = []\r\n    for (let metric of metrics) {\r\n      short_labels.push(metric['short_label'])\r\n      let condition = '';\r\n      // @ts-ignore\r\n      for (let value of metric['filter_value']) {\r\n        condition += 'indexof(datum.value, \\'' + value + '\\') >= 0 || '\r\n      }\r\n      condition = condition.substring(0, condition.length - 3)\r\n      data.push({\r\n        name: metric['short_label'],\r\n        \"source\": [\"answers\"],\r\n        \"transform\": [\r\n          {\r\n            \"type\": \"formula\",\r\n            \"as\": \"key\",\r\n            \"expr\": \"datum.company + ',' + datum.year\"\r\n          },\r\n          {\r\n            \"type\": \"lookup\",\r\n            \"from\": \"meets_min_requirements\",\r\n            \"key\": \"key\",\r\n            \"fields\": [\"key\"],\r\n            \"values\": [\"value\"],\r\n            \"as\": [\"meets_min_requirements\"]\r\n          },\r\n          {\r\n            \"type\": \"filter\",\r\n            \"expr\": \"datum.meets_min_requirements == 'Yes' || datum.meets_min_requirements == 'No' || datum.meets_min_requirements == 'Unknown'\"\r\n          },\r\n          {\r\n            \"type\": \"formula\",\r\n            \"as\": \"accepted_value\",\r\n            \"expr\": \"if(\" + condition + \", true, false)\"\r\n          },\r\n          { \"type\": \"aggregate\", \"groupby\": [\"accepted_value\"] },\r\n          {\r\n            \"type\": \"impute\",\r\n            \"key\": \"accepted_value\",\r\n            \"keyvals\": [true],\r\n            \"field\": \"count\",\r\n            \"value\": 0\r\n          },\r\n          { \"type\": \"joinaggregate\", \"fields\": [\"count\"], \"ops\": [\"sum\"] },\r\n          { \"type\": \"filter\", \"expr\": \"datum.accepted_value == true\" }\r\n        ]\r\n      })\r\n    }\r\n    data.push({ 'name': 'metrics', 'values': metrics })\r\n    data.push({\r\n      \"name\": \"counts\",\r\n      \"source\": short_labels,\r\n      \"transform\": [\r\n        {\r\n          \"type\": \"window\",\r\n          \"ops\": [\r\n            \"row_number\"\r\n          ],\r\n          \"as\": [\r\n            \"seq\"\r\n          ]\r\n        },\r\n        {\r\n          \"type\": \"lookup\",\r\n          \"from\": \"metrics\",\r\n          \"key\": \"seq\",\r\n          \"fields\": [\r\n            \"seq\"\r\n          ],\r\n          \"values\": [\r\n            \"label\",\r\n            \"metric\",\r\n            \"color\",\r\n            \"filter_value\"\r\n          ],\r\n          \"as\": [\r\n            \"title\",\r\n            \"wikirate_page\",\r\n            \"color\",\r\n            \"filter_value\"\r\n          ]\r\n        },\r\n        {\r\n          \"type\": \"formula\",\r\n          \"expr\": \"datum.count/datum.sum_count\",\r\n          \"as\": \"percentage\"\r\n        },\r\n        {\r\n          \"type\": \"formula\",\r\n          \"expr\": \"format(datum.count / datum.sum_count, '.0%')\",\r\n          \"as\": \"percent_label\"\r\n        },\r\n        {\r\n          \"type\": \"formula\",\r\n          \"expr\": \"datum.count + ' out of ' + datum.sum_count + ' statements'\",\r\n          \"as\": \"count_label\"\r\n        },\r\n        {\r\n          \"type\": \"formula\",\r\n          \"expr\": \"{ value: datum.filter_value }\",\r\n          \"as\": \"filter\"\r\n        }\r\n      ]\r\n    })\r\n\r\n    bars['description'] = title;\r\n    bars['data'] = data\r\n    bars['width'] = width\r\n    bars['height'] = height\r\n    return embed(element, bars, options)\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\r\nimport { Filter } from \"../models/filter.model\";\r\nimport { ValueRange } from \"../models/valuerange.model\";\r\nimport { BehaviorSubject, forkJoin, Observable, of, tap } from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class DataProvider {  \r\n  private isDataLoadedSubject = new BehaviorSubject<boolean>(false);\r\n  isDataLoaded$ = this.isDataLoadedSubject.asObservable();\r\n  private cache: { [url: string]: any } = {};\r\n\r\n  wikirateApiHost = \"https://wikirate.org\"\r\n\r\n  company_groups = {\r\n    garment: 'MSA_Garment',\r\n    food_and_beverage: 'MSA_Food_Beverage',\r\n    hospitality: 'MSA_Hospitality',\r\n    financial: 'MSA_Financial',\r\n    renewable_energy: 'MSA_Renewable_Energy',\r\n    electronics: 'MSA_Electronics',\r\n    none: ''\r\n  }\r\n\r\n  companies_with_assessed_statement = {\r\n    uk: \"Companies_with_assessed_UK_MSA_statement\",\r\n    aus: \"Companies_with_assessed_Australian_MSA_statement\",\r\n    any: \"Companies_with_assessed_MSA_statement\"\r\n  }\r\n\r\n  sectors = {\r\n    'all-sectors': 'All Sectors',\r\n    'food-and-beverage': 'Food & Beverage',\r\n    'garment-sector': 'Garment',\r\n    'financial-sector': 'Financial',\r\n    'hospitality-sector': 'Hospitality',\r\n    'renewable-energy': '(Renewable) Energy',\r\n    'electronics': 'Electronics'\r\n  }\r\n\r\n  metrics = {\r\n    msa_registry_submission: 12536930,\r\n    modern_slavery_statement: 1827651,\r\n    msa_statement_assessed: 12621772,\r\n    aus_msa_statement_assessed: 12602630,\r\n    uk_msa_statement_assessed: 12602618,\r\n    meet_uk_min_requirements: 6901749,\r\n    meet_aus_min_requirements: 12601871,\r\n    msa_meet_min_requirements: 12642257,\r\n    aus_beyond_compliance_disclosure_rate: 12620676,\r\n    uk_beyond_compliance_disclosure_rate: 6899063,\r\n    msa_beyond_compliance: 12620974,\r\n    msa_disclosure_rate: 14554858,\r\n    msa_incidents_identified: 1831964,\r\n    msa_policy_beyond_t1: 6915846,\r\n    msa_risks_identified: 6916242,\r\n    msa_supply_chain_disclosure: 1831908,\r\n    msa_incidents_remediation: 2722444,\r\n    msa_supply_chain_due_dilligence: 6915961,\r\n    msa_collaborations_and_membership: 15850813,\r\n    msa_workers_engagement: 15928634,\r\n    msa_living_wage: 14019233\r\n  }\r\n\r\n  constructor(private httpClient: HttpClient) {\r\n  }\r\n\r\n  loadData(paths: string[]): Observable<any[]> {\r\n    const requests = paths.map((path) => this.httpClient.get(path));\r\n    return forkJoin(requests);\r\n  }\r\n\r\n  markDataAsLoaded(): void {\r\n    this.isDataLoadedSubject.next(true);\r\n  }\r\n\r\n  getAnswers(metric_id: number, filters: Filter[]) {\r\n    let url = `${this.wikirateApiHost}/~${metric_id}+Answer.json`\r\n\r\n    return this.get<any>(url, DataProvider.getParams(filters))\r\n  }\r\n\r\n  static getParams(filters: Filter[]): HttpParams {\r\n    let params = new HttpParams();\r\n    for (let filter of filters) {\r\n      if (Array.isArray(filter.value)) {\r\n        for (let single_value of filter.value) {\r\n          params = params.append(\"filter[\" + filter.name + \"][]\", single_value)\r\n        }\r\n      } else if (filter.value instanceof ValueRange) {\r\n        params = params.append(\"filter[\" + filter.name + \"][from]\", filter.value.from)\r\n        params = params.append(\"filter[\" + filter.name + \"][to]\", filter.value.to)\r\n      } else {\r\n        params = params.append(\"filter[\" + filter.name + \"]\", filter.value)\r\n      }\r\n    }\r\n    params = params.append(\"limit\", 0)\r\n    params = params.append(\"view\", \"answer_list\")\r\n    return params;\r\n  }\r\n\r\n  public static getUrlParams(filters: Filter[]): HttpParams {\r\n    let params = new HttpParams();\r\n    for (let filter of filters) {\r\n      if (Array.isArray(filter.value)) {\r\n        for (let single_value of filter.value) {\r\n          params = params.append(\"filter[\" + filter.name + \"][]\", single_value)\r\n        }\r\n      } else if (filter.value instanceof ValueRange) {\r\n        params = params.append(\"filter[\" + filter.name + \"][from]\", filter.value.from)\r\n        params = params.append(\"filter[\" + filter.name + \"][to]\", filter.value.to)\r\n      } else {\r\n        params = params.append(\"filter[\" + filter.name + \"]\", filter.value)\r\n      }\r\n    }\r\n    return params;\r\n  }\r\n\r\n  getCompanyGroup(sector: string | null) {\r\n    if (sector === 'garment-sector') {\r\n      return this.company_groups.garment\r\n    } else if (sector === 'food-and-beverage') {\r\n      return this.company_groups.food_and_beverage\r\n    } else if (sector === 'hospitality-sector') {\r\n      return this.company_groups.hospitality\r\n    } else if (sector === 'financial-sector') {\r\n      return this.company_groups.financial\r\n    } else if (sector === 'renewable-energy') {\r\n      return this.company_groups.renewable_energy\r\n    } else if (sector === 'electronics') {\r\n      return this.company_groups.electronics\r\n    } else {\r\n      return this.company_groups.none\r\n    }\r\n  }\r\n\r\n  get<T>(url: string, params: HttpParams = new HttpParams(), useCache: boolean = true): Observable<T> {\r\n    const cacheKey = url + JSON.stringify(params);\r\n\r\n    if (useCache && this.cache[cacheKey]) {\r\n      return of(this.cache[cacheKey]);\r\n    }\r\n    return this.httpClient.get<T>(url, { params: params }).pipe(\r\n      tap(data => {\r\n        this.cache[cacheKey] = data;\r\n      })\r\n    );\r\n  }\r\n\r\n  clearCache() {\r\n    this.cache = {};\r\n  }\r\n\r\n\r\n}\r\n","import {Injectable} from \"@angular/core\";\r\nimport {Observable, Subject, Subscriber} from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class SectorProvider {\r\n  sector = new Subject<string | null>()\r\n  path = new Subject<string | null>()\r\n\r\n  constructor() {\r\n    this.sector.next(\"all-sectors\")\r\n    this.path.next(\"dashboard\")\r\n  }\r\n\r\n  getSector(): Subject<string | null> {\r\n    return this.sector\r\n  }\r\n\r\n  getPath(): Subject<string | null> {\r\n    return this.path;\r\n  }\r\n\r\n}\r\n","import { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appSliderItem]'\r\n})\r\nexport class SliderItemDirective {\r\n\r\n  constructor() { }\r\n\r\n}","import { Component, AfterContentInit, ContentChildren, ViewChild, QueryList, ElementRef } from '@angular/core';\r\nimport { SliderItemDirective } from './slider-item.directive';\r\n\r\n\r\n@Component({\r\n  selector: 'app-slider',\r\n  templateUrl: './slider.component.html',\r\n  styleUrls: ['./slider.component.scss']\r\n})\r\nexport class SliderComponent implements AfterContentInit {\r\n\r\n  //@ts-ignore\r\n  @ContentChildren(SliderItemDirective, { read: ElementRef }) items\r\n    : QueryList<ElementRef<HTMLDivElement>>;\r\n  //@ts-ignore\r\n  @ViewChild('slides') slidesContainer: ElementRef<HTMLDivElement>;\r\n\r\n  private slidesIndex = 0;\r\n\r\n  get currentItem(): ElementRef<HTMLDivElement>{\r\n    //@ts-ignore\r\n    return this.items.find((item, index) => index === this.slidesIndex);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  onClickLeft() {\r\n    //@ts-ignore\r\n    this.slidesContainer.nativeElement.scrollLeft -= this.currentItem.nativeElement.offsetWidth;\r\n    \r\n    if (this.slidesIndex > 0) {\r\n      this.slidesIndex--;\r\n    } \r\n  }\r\n\r\n  onClickRight() {\r\n    this.slidesContainer.nativeElement.scrollLeft += this.currentItem.nativeElement.offsetWidth;\r\n\r\n    if (this.slidesIndex < this.items.length - 1) {\r\n      this.slidesIndex++\r\n    }\r\n  }\r\n\r\n}","<div class=\"slider-container\">\r\n    <div class=\"text-center\">\r\n        <a class=\"button\" color=\"primary\" (click)=\"onClickLeft()\"><i class=\"bi bi-chevron-left\"></i></a>\r\n        <a class=\"button\" (click)=\"onClickRight()\"><i class=\"bi bi-chevron-right\"></i></a>\r\n    </div>\r\n    <div class=\"slides\" #slides>\r\n        <ng-content select=\"[appSliderItem]\" #sliderItem></ng-content>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {SectorProvider} from \"../services/sector.provider\";\r\n\r\n@Component({\r\n  selector: 'app-subscribe',\r\n  templateUrl: './subscribe.component.html',\r\n  styleUrls: ['./subscribe.component.scss']\r\n})\r\nexport class SubscribeComponent implements OnInit {\r\n\r\n  constructor(private route: ActivatedRoute, private sectorProvider: SectorProvider) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.url.subscribe(val => {\r\n      if (val[0].path === 'subscribe')\r\n        this.sectorProvider.getPath().next(val[0].path)\r\n    })\r\n  }\r\n\r\n}\r\n","<div id=\"subscribe\" class=\"section mt-2 bg-white p-4\">\r\n\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-xl-6 col-lg-8 col-md-10 col-sm-11\">\r\n      <span class=\"d-block mt-3 text-center\">Subscribe to receive updates on dashboard data and our upcoming research and advocacy related to Modern Slavery</span>\r\n\r\n      <div class=\"mx-5 mt-3\">\r\n        <div>\r\n          <form class=\"js-cm-form\" id=\"subForm\" action=\"https://www.createsend.com/t/subscribeerror?description=\"\r\n                method=\"post\"\r\n                data-id=\"92D4C54F0FEC16E5ADC2B1904DE9ED1A12EE3E2054BC84C8727F8FF869E2E4F56850AC318310431E4639179F5B6D1E489B5EC432E8407D7ECF9927E19D0AEA55\">\r\n            <div>\r\n              <div><label class=\"form-label\">Email </label><input autocomplete=\"Email\" aria-label=\"Email\"\r\n                                                                  class=\"js-cm-email-input qa-input-email form-control\"\r\n                                                                  id=\"fieldEmail\" maxlength=\"200\"\r\n                                                                  name=\"cm-jktrulk-jktrulk\" required=\"\" type=\"email\">\r\n              </div>\r\n              <div><label class=\"form-label mt-2\">First Name </label><input aria-label=\"First Name\" id=\"fieldjkdllhj\"\r\n                                                                            maxlength=\"200\"\r\n                                                                            name=\"cm-f-jkdllhj\" class=\"form-control\">\r\n              </div>\r\n              <div><label class=\"form-label mt-2\">Last Name </label><input aria-label=\"Last Name\" id=\"fieldjkdllht\" maxlength=\"200\"\r\n                                                   name=\"cm-f-jkdllht\" class=\"form-control\"></div>\r\n              <div><label class=\"form-label mt-2\">Organisation </label><input aria-label=\"Organisation\" id=\"fieldjkujjky\" maxlength=\"200\"\r\n                                                      name=\"cm-f-jkujjky\" class=\"form-control\"></div>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                    <div class=\"form-check mt-1\"><input class=\"form-check-input\" aria-required=\"\" id=\"cm-privacy-consent\" name=\"cm-privacy-consent\" required=\"\"\r\n                                type=\"checkbox\"><label class=\"form-check-label\" for=\"cm-privacy-consent\">Yes, I want to receive occasional\r\n                      updates from Walk Free</label></div>\r\n                    <input id=\"cm-privacy-consent-hidden\" name=\"cm-privacy-consent-hidden\" type=\"hidden\" value=\"true\">\r\n                  </div>\r\n                </div>\r\n                <p><a class=\"small\" href=\"https://www.walkfree.org/privacy-policy/\" rel=\"noopener\" target=\"_blank\">View our privacy\r\n                  policy</a></p></div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12 text-center\">\r\n                <button class=\"button orange-button mb-2\" type=\"submit\">Subscribe</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Filter} from \"../models/filter.model\";\r\nimport {ValueRange} from \"../models/valuerange.model\";\r\nimport { HttpParams } from \"@angular/common/http\";\r\n\r\nexport class WikirateUrlBuilder {\r\n  private baseUrl: string = 'https://wikirate.org'\r\n  private filters: Filter[];\r\n  private endpoint: string = '';\r\n\r\n  constructor() {\r\n    this.filters = [];\r\n  }\r\n\r\n  public setEndpoint(endpoint: string | number) {\r\n    this.endpoint = typeof endpoint === 'number' ? `~${endpoint}` : endpoint;\r\n    return this;\r\n  }\r\n\r\n  public addFilter(filter: Filter) {\r\n    this.filters.push(filter)\r\n    return this;\r\n  }\r\n\r\n  public build(): string {\r\n    let url = `${this.baseUrl}/${this.endpoint}`\r\n\r\n    let params = new HttpParams();\r\n    for (let filter of this.filters) {\r\n      if (Array.isArray(filter.value)) {\r\n        for (let single_value of filter.value) {\r\n          params = params.append(\"filter[\" + filter.name + \"][]\", single_value)\r\n        }\r\n      } else if (filter.value instanceof ValueRange) {\r\n        params = params.append(\"filter[\" + filter.name + \"][from]\", filter.value.from)\r\n        params = params.append(\"filter[\" + filter.name + \"][to]\", filter.value.to)\r\n      } else {\r\n        params = params.append(\"filter[\" + filter.name + \"]\", filter.value)\r\n      }\r\n    }\r\n    params = params.append(\"tab\",\"metric_answer\")\r\n\r\n    return `${url}?${params.toString()}`\r\n  }\r\n\r\n}\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 19246;\nmodule.exports = webpackEmptyContext;","module.exports = require(\"async_hooks\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"node:fs\");","module.exports = require(\"node:fs/promises\");","module.exports = require(\"node:path\");","module.exports = require(\"node:url\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"querystring\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"timers\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\t__webpack_require__.O(undefined, [121], () => (__webpack_require__(74011)))\n\t__webpack_require__.O(undefined, [121], () => (__webpack_require__(80203)))\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [121], () => (__webpack_require__(69787)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + (chunkId === 121 ? \"vendor\" : chunkId) + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t792: 1\n};\n\n__webpack_require__.O.require = (chunkId) => (installedChunks[chunkId]);\n\nvar installChunk = (chunk) => {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\t__webpack_require__.O();\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tinstallChunk(require(\"./\" + __webpack_require__.u(chunkId)));\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t__webpack_require__.e(121);\n\treturn next();\n};","","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n",""],"names":["APP_BASE_HREF","CommonEngine","express","existsSync","join","AppServerModule","app","server","distFolder","process","cwd","indexHtml","commonEngine","set","get","static","maxAge","req","res","next","protocol","originalUrl","baseUrl","headers","render","bootstrap","documentFilePath","url","host","publicPath","providers","provide","useValue","then","html","send","catch","err","run","port","env","listen","console","log","mainModule","__non_webpack_require__","main","moduleFilename","filename","__filename","includes","methodology_table","spotlight_metrics","walk_free_reports","i0","elementStart","element","text","elementEnd","advance","propertyInterpolate","report_r1","sanitizeUrl","textInterpolate","item_r2","property","textInterpolate1","item_r3","contributor_r4","logo","contributor","AboutComponent","constructor","route","sectorProvider","scroll","table","spotlight_metrics_table","reports","currentIndex","contributors","ngOnInit","JSON","parse","stringify","subscribe","val","path","getPath","scrollToTop","scrollToPosition","directiveInject","i1","ActivatedRoute","i2","SectorProvider","i3","ViewportScroller","selectors","decls","vars","consts","template","AboutComponent_Template","rf","ctx","template","AboutComponent_div_13_Template","AboutComponent_tr_101_Template","AboutComponent_tr_124_Template","AboutComponent_div_168_Template","AboutComponent_ng_template_169_Template","templateRefExtractor","RouterModule","DashboardComponent","KeyFindingsSectionComponent","MinimumRequirementsSectionComponent","FurtherFindingsComponent","DisclosureRatesComponent","SubscribeComponent","BeyondComplianceComponent","HighlightMetricComponent","CaseStudiesComponent","GoingBeyondComplianceComponent","routes","component","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","exports","cookieConfig","cookie","domain","palette","popup","background","button","theme","type","AppComponent","router","ccService","view","popupOpenSubscription","popupOpen$","popupCloseSubscription","popupClose$","initializeSubscription","initializing$","event","statusChangeSubscription","statusChange$","status","gtag","deleteAllCookies","revokeChoiceSubscription","revokeChoice$","noCookieLawSubscription","noCookieLaw$","queryParams","params","cookies","document","split","i","length","eqPos","indexOf","name","substring","Date","toUTCString","ngOnDestroy","unsubscribe","Router","NgcCookieConsentService","AppComponent_Template","AppComponent_header_component_0_Template","AppComponent_footer_2_Template","ServerModule","AppModule","BrowserModule","provideClientHydration","withEventReplay","HeaderComponent","FooterComponent","NgbModule","BrowserAnimationsModule","FormsModule","provideHttpClient","withInterceptorsFromDi","IntroductorySectionComponent","DataProvider","NumFormatPipe","ChartsService","PercentageFormatPipe","ApproachToPoliciesComponent","ApproachToIncidentsComponent","ApproachToRisksComponent","SectionComponent","ExportAsModule","ClipboardModule","NgcCookieConsentModule","SpotlightMetricsComponent","SliderComponent","SliderItemDirective","ExportAsComponent","layout","layouts","elements","messagelink","content","message","privacyPolicyLink","privacyPolicyHref","declarations","case_studies","case_r1","CaseStudiesComponent_div_2_div_20_Template","case_study_r2","CaseStudiesComponent_Template","CaseStudiesComponent_div_2_Template","Filter","beyond_compliance_metrics","forkJoin","map","WikirateUrlBuilder","ctx_r0","getSectorName","metric_r2","dataProvider","chartService","sector","year","active","isLoading","metric_question","metric_seq","paramMap","updateData","getSector","sectors","company_group","getCompanyGroup","uk_statements_assessed","getAnswers","metrics","meet_uk_min_requirements","companies_with_assessed_statement","uk","filter","value","aus_statements_assessed","meet_aus_min_requirements","aus","statements_assessed","msa_meet_min_requirements","any","metric","find","seq","metric_answers","item","metric_total_url","setEndpoint","addFilter","build","metric_uk_url","metric_aus_url","pipe","uk_assessed_statements","aus_assessed_statements","total_assessed_statements","answers","Object","values","reduce","r","o","company","uk_count","count","some","aus_count","total","Math","round","results","vis_data","total_percent","uk_percent","aus_percent","NaN","drawSimpleBarChart","renderer","actions","complete","ngOnChanges","changes","i4","features","NgOnChangesFeature","BeyondComplianceComponent_Template","BeyondComplianceComponent_h6_6_Template","twoWayListener","BeyondComplianceComponent_Template_select_ngModelChange_8_listener","$event","twoWayBindingSet","listener","BeyondComplianceComponent_Template_select_change_8_listener","BeyondComplianceComponent_Template_select_change_29_listener","BeyondComplianceComponent_Template_select_ngModelChange_29_listener","BeyondComplianceComponent_option_30_Template","BeyondComplianceComponent_div_48_Template","twoWayProperty","DashboardComponent_Template","DashboardComponent_introductory_section_0_Template","chartsService","garment_avg_disclosure_rate","financial_avg_disclosure_rate","hospitality_avg_disclosure_rate","food_bev_avg_disclosure_rate","renewable_energy_avg_disclosure_rate","electronics_avg_disclosure_rate","food_and_bev_disclosure_rates","msa_disclosure_rate","company_groups","food_and_beverage","food_and_bev_disclosure_rates_url","garment_disclosure_rates","garment","garment_disclosure_rates_url","financial_disclosure_rates","financial","financial_disclosure_rates_url","hospitality_disclosure_rates","hospitality","hospitality_disclosure_rates_url","renewable_energy_disclosure_rates","renewable_energy","renewable_energy_disclosure_rates_url","electronics_disclosure_rates","electronics","electronics_disclosure_rates_url","calc_avg_disclosure_rate","drawSemiDonutChart","disclosure_rates","avg_discosure_rate","answer","Number","percentage","elementId","DisclosureRatesComponent_Template","DisclosureRatesComponent_Template_select_ngModelChange_7_listener","DisclosureRatesComponent_Template_select_change_7_listener","DisclosureRatesComponent_div_32_Template","ExportAsComponent_ng_template_23_Template_button_click_3_listener","modal_r3","restoreView","_r2","$implicit","resetView","dismiss","ExportAsComponent_ng_template_23_Template_button_cbOnSuccess_9_listener","close","textInterpolate3","ctx_r3","section","src_content","button_class","waiting","window","location","origin","export","openModal","viewQuery","ExportAsComponent_Query","ExportAsComponent_Template_a_click_2_listener","_r1","ExportAsComponent_Template_a_click_12_listener","ExportAsComponent_ng_template_23_Template","classMapInterpolate1","dataPaths","loadData","incidents_remediation","markDataAsLoaded","error","isDataLoaded$","isLoaded","push","assessed_statements_metric_id","legislation","getUrlParams","toString","drawSubgroupsBarChart","finally","drawBarChart","inputs","ApproachToIncidentsComponent_Template","ApproachToIncidentsComponent_div_0_Template","httpClient","policies","training","modern_slavery_policies","modern_slavery_training","HttpClient","ApproachToPoliciesComponent_Template","ApproachToPoliciesComponent_div_0_Template","identification","assessment","risk_identification","risk_assessment","ApproachToRisksComponent_Template","ApproachToRisksComponent_div_0_Template","ctx_r1","FurtherFindingsComponent_ng_template_99_Template_button_click_3_listener","modal_r5","_r4","FurtherFindingsComponent_ng_template_99_Template_button_click_8_listener","modalService","percentage_of_companies_identified_risks","percentage_of_companies_report_policy_beyond_t1","percentage_of_no_remediations","openMessage","assessed_filters","assessed_statements","no_remediation","msa_incidents_remediation","risks_identified","msa_risks_identified","policy_beyond_t1","msa_policy_beyond_t1","response","assessed","reported_risks","policy_beyond","open","centered","NgbModal","FurtherFindingsComponent_Query","FurtherFindingsComponent_h6_6_Template","FurtherFindingsComponent_Template_select_ngModelChange_9_listener","FurtherFindingsComponent_Template_select_change_9_listener","select_r3","reference","FurtherFindingsComponent_Template_select_ngModelChange_29_listener","FurtherFindingsComponent_Template_select_change_29_listener","FurtherFindingsComponent_div_36_Template","FurtherFindingsComponent_ng_template_99_Template","requests","responses","drawRadarChart","GoingBeyondComplianceComponent_Template","GoingBeyondComplianceComponent_h6_6_Template","GoingBeyondComplianceComponent_Template_select_ngModelChange_8_listener","GoingBeyondComplianceComponent_Template_select_change_8_listener","HighlightMetricComponent_ng_template_59_Template_button_click_3_listener","HighlightMetricComponent_ng_template_59_Template_button_click_8_listener","incidents_url","createChart","msa_statement_assessed","msa_incidents_identified","uk_msa_statement_assessed","aus_msa_statement_assessed","assessed_statements_metric","incidents_identified_metric","accepted_values","msa_incidents","descriptions","assessed_response","msa_incidents_response","companies_reporting_msi","data","options","option","incidents","drawShankeyChart","i5","HighlightMetricComponent_Query","HighlightMetricComponent_h6_6_Template","HighlightMetricComponent_Template_select_ngModelChange_9_listener","HighlightMetricComponent_Template_select_ngModelChange_29_listener","HighlightMetricComponent_Template_select_change_29_listener","HighlightMetricComponent_div_36_Template","HighlightMetricComponent_ng_template_59_Template","pipeBind1","cd","page","ngAfterViewInit","detectChanges","ChangeDetectorRef","IntroductorySectionComponent_Template","IntroductorySectionComponent_div_7_Template","ValueRange","toUpperCase","KeyFindingsSectionComponent_ng_template_101_Template_button_click_3_listener","KeyFindingsSectionComponent_ng_template_101_Template_button_click_8_listener","titleService","meta","meet_min_requirements_metric_url","msa_statement_assessed_metric_url","msa_statements_metric_url","supply_chain_disclosure_url","worker_remediation_url","due_dilligence_url","setTitle","updateTag","numOfAssessedMSAStatements","key_findings_calculation","msa_supply_chain_disclosure","msa_supply_chain_due_dilligence","meet_requirements_metric","supply_chain_disclosure_metric","incidents_remediation_metric","due_dilligence_metric","incidents_metric","legislation_filter_value","beyond_compliance_value","msa_statement_assessed_metric_wikirate_url","meet_requirements","supply_chain_disclosure","due_dilligence","meet_requirements_response","supply_chain_disclosure_response","incidents_remediation_response","due_dilligence_response","num_of_assessed_msa_statements","meetsMinRequirements","cover_min_requirements","supplyChainDisclosure","workerRemediation","dueDilligence","drawDonutChart","hex","i6","Title","Meta","KeyFindingsSectionComponent_Query","KeyFindingsSectionComponent_h6_6_Template","KeyFindingsSectionComponent_Template_select_ngModelChange_9_listener","KeyFindingsSectionComponent_Template_select_ngModelChange_29_listener","KeyFindingsSectionComponent_Template_select_change_29_listener","KeyFindingsSectionComponent_div_36_Template","KeyFindingsSectionComponent_span_46_Template","KeyFindingsSectionComponent_span_47_Template","KeyFindingsSectionComponent_ng_template_101_Template","aus_assessed","uk_assessed","uk_legislation_info","uk_company_group","aus_company_group","uk_meet_min_requirements_url","aus_meet_min_requirements_url","draw_minimum_requirements_pie_chart","title","element","wikirate_url","meet_min_requirements_metric_id","meet_min_requirements","drawPieChart","MinimumRequirementsSectionComponent_Template","MinimumRequirementsSectionComponent_h6_6_Template","MinimumRequirementsSectionComponent_Template_select_ngModelChange_8_listener","MinimumRequirementsSectionComponent_Template_select_change_8_listener","MinimumRequirementsSectionComponent_div_30_Template","MinimumRequirementsSectionComponent_div_40_Template","MinimumRequirementsSectionComponent_div_58_Template","SpotlightMetricsComponent_ng_template_67_Template_button_click_3_listener","SpotlightMetricsComponent_ng_template_67_Template_button_click_8_listener","collaborations_and_memberships_url","workers_engagement_url","living_wage_commitment_url","findings","msa_collaborations_and_membership","msa_workers_engagement","msa_living_wage","collaborations_and_memberships","workers_engagement","living_wage","collaborations_and_memberships_response","workers_engagement_response","living_wage_response","statements_reporting_workers_engagement","x","statements_reporting_living_wage_commitment","statements_reporting_collaborations_and_memberships","collaborationsAndMemberships","assessed_collaborations_and_memberships","workersEngagement","assessed_workers_engagement","livingWageCommitment","assessed_living_wage","drawSingleBar","SpotlightMetricsComponent_Template","SpotlightMetricsComponent_h6_6_Template","SpotlightMetricsComponent_Template_select_ngModelChange_9_listener","SpotlightMetricsComponent_Template_select_ngModelChange_19_listener","SpotlightMetricsComponent_Template_select_change_19_listener","SpotlightMetricsComponent_div_26_Template","SpotlightMetricsComponent_ng_template_67_Template","current_year","getFullYear","FooterComponent_Template","HeaderComponent_li_33_Template_a_click_1_listener","ctx_r2","nextContext","onSelectSector","key","selectedSector","selectedSection","isMenuOpen","onSelectSection","toggleMenu","HeaderComponent_Template","HeaderComponent_Template_li_click_6_listener","HeaderComponent_Template_a_click_9_listener","HeaderComponent_Template_a_click_11_listener","HeaderComponent_Template_a_click_13_listener","HeaderComponent_li_33_Template","classMap","classProp","from","to","transform","input","args","undefined","isNaN","slice","pure","SectionComponent_Template","pieChart","simpleBarChart","donutChart","semiDonutChart","singleBarChart","barChart","groupedBarsChart","shankeyChart","radarChart","embed","wikirateApiHost","addListenerOnChartClick","result","addSignalListener","addEventListener","signal","chart","bar","width","height","colors","pie","donut","simple_bar","meets_requirements_metric_id","subgroups","groups","bars","filters","getParams","pop","short_labels","condition","factory","fac","HttpParams","BehaviorSubject","of","tap","isDataLoadedSubject","asObservable","cache","none","msa_registry_submission","modern_slavery_statement","aus_beyond_compliance_disclosure_rate","uk_beyond_compliance_disclosure_rate","msa_beyond_compliance","paths","metric_id","Array","isArray","single_value","append","useCache","cacheKey","clearCache","inject","Subject","ElementRef","slidesIndex","currentItem","items","index","ngAfterContentInit","onClickLeft","slidesContainer","nativeElement","scrollLeft","offsetWidth","onClickRight","contentQueries","SliderComponent_ContentQueries","dirIndex","SliderComponent_Template_a_click_2_listener","SliderComponent_Template_a_click_4_listener","projection","SubscribeComponent_Template","endpoint"],"sourceRoot":"webpack:///","x_google_ignoreList":[57,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98]}